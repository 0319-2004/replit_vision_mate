<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>VisionMates - リダイレクト中...</title>
    <!-- Hash ルーティング用: どの配下でも index.html# に戻す -->
    <meta http-equiv="refresh" content="0; url=./#/">
    <script type="text/javascript">
      (function() {
        try {
          var l = window.location;
          // 公開場所（repo名）に依存せず、配下の index.html#/ に戻す
          var base = l.pathname.replace(/\/[^/]*$/, '/');
          
          console.log('404.html triggered:', l.href);
          
          // OAuth callback detection - force redirect to base with hash
          if (l.hash && (l.hash.includes('access_token') || l.hash.includes('error'))) {
            console.log('OAuth callback detected, redirecting to base with hash');
            var targetUrl = base + '#' + '/' + l.hash.replace(/^#/, '');
            console.log('Redirecting to:', targetUrl);
            l.replace(targetUrl);
            return;
          }
          
          // Fallback - always go to index.html#/
          l.replace(base + '#/');
        } catch (e) {
          console.error('404.html error:', e);
          // Final fallback
          window.location.replace('./#/');
        }
      })();
    </script>
  </head>
  <body>
    <div style="text-align: center; margin-top: 50px;">
      <h3>VisionMates にリダイレクト中...</h3>
      <p>自動的にリダイレクトされない場合は、<a href="./#/">こちら</a>をクリックしてください。</p>
    </div>
  </body>
</html>
