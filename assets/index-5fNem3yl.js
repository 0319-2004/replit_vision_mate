var hi=e=>{throw TypeError(e)};var hr=(e,t,s)=>t.has(e)||hi("Cannot "+s);var m=(e,t,s)=>(hr(e,t,"read from private field"),s?s.call(e):t.get(e)),N=(e,t,s)=>t.has(e)?hi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),T=(e,t,s,r)=>(hr(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),_=(e,t,s)=>(hr(e,t,"access private method"),s);var ks=(e,t,s,r)=>({set _(n){T(e,t,n,s)},get _(){return m(e,t,r)}});import{j as c,S as Jc,c as aa,P as bt,u as eu,a as _r,O as la,C as ca,b as tu,T as ua,D as da,d as su,R as ru,e as nu,f as iu,g as ou,h as au,i as lu}from"./ui-D_X3-S7n.js";import{a as cu,r as v,R as uu}from"./vendor-Dp9Vuofq.js";import{c as du,_ as fr}from"./supabase-BVyxSqSb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();var ha,fi=cu;ha=fi.createRoot,fi.hydrateRoot;function hu(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,r,n,o,i=[],a="",l=e.split("/");for(l[0]||l.shift();n=l.shift();)s=n[0],s==="*"?(i.push(s),a+=n[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(r=n.indexOf("?",1),o=n.indexOf(".",1),i.push(n.substring(1,~r?r:~o?o:n.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+n.substring(o))):a+="/"+n;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var fa={exports:{}},ma={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=v;function fu(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mu=typeof Object.is=="function"?Object.is:fu,pu=Kt.useState,gu=Kt.useEffect,yu=Kt.useLayoutEffect,vu=Kt.useDebugValue;function xu(e,t){var s=t(),r=pu({inst:{value:s,getSnapshot:t}}),n=r[0].inst,o=r[1];return yu(function(){n.value=s,n.getSnapshot=t,mr(n)&&o({inst:n})},[e,s,t]),gu(function(){return mr(n)&&o({inst:n}),e(function(){mr(n)&&o({inst:n})})},[e]),vu(s),s}function mr(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!mu(e,s)}catch{return!0}}function bu(e,t){return t()}var wu=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bu:xu;ma.useSyncExternalStore=Kt.useSyncExternalStore!==void 0?Kt.useSyncExternalStore:wu;fa.exports=ma;var Su=fa.exports;const ju=uu.useInsertionEffect,Pu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cu=Pu?v.useLayoutEffect:v.useEffect,Tu=ju||Cu,pa=e=>{const t=v.useRef([e,(...s)=>t[0](...s)]).current;return Tu(()=>{t[0]=e}),t[1]},Au="popstate",yn="pushState",vn="replaceState",Mu="hashchange",mi=[Au,yn,vn,Mu],Nu=e=>{for(const t of mi)addEventListener(t,e);return()=>{for(const t of mi)removeEventListener(t,e)}},ga=(e,t)=>Su.useSyncExternalStore(Nu,e,t),Eu=()=>location.search,Ru=({ssrSearch:e=""}={})=>ga(Eu,()=>e),pi=()=>location.pathname,ku=({ssrPath:e}={})=>ga(pi,e?()=>e:pi),Du=(e,{replace:t=!1,state:s=null}={})=>history[t?vn:yn](s,"",e),_u=(e={})=>[ku(e),Du],gi=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[gi]>"u"){for(const e of[yn,vn]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),s}}Object.defineProperty(window,gi,{value:!0})}const Vu=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ya=(e="")=>e==="/"?"":e,Ou=(e,t)=>e[0]==="~"?e.slice(1):ya(t)+e,Lu=(e="",t)=>Vu(yi(ya(e)),yi(t)),yi=e=>{try{return decodeURI(e)}catch{return e}},va={hook:_u,searchHook:Ru,parser:hu,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},xa=v.createContext(va),sr=()=>v.useContext(xa),ba={},wa=v.createContext(ba),Fu=()=>v.useContext(wa),xn=e=>{const[t,s]=e.hook(e);return[Lu(e.base,t),pa((r,n)=>s(Ou(r,e.base),n))]},Sa=(e,t,s,r)=>{const{pattern:n,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=n.exec(s)||[],[a,...l]=i;return a!==void 0?[!0,(()=>{const u=o!==!1?Object.fromEntries(o.map((h,f)=>[h,l[f]])):i.groups;let d={...l};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},ja=({children:e,...t})=>{var d,h;const s=sr(),r=t.hook?va:s;let n=r;const[o,i]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=o),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let a=v.useRef({}),l=a.current,u=l;for(let f in r){const p=f==="base"?r[f]+(t[f]||""):t[f]||r[f];l===u&&p!==u[f]&&(a.current=u={...u}),u[f]=p,p!==r[f]&&(n=u)}return v.createElement(xa.Provider,{value:n,children:e})},vi=({children:e,component:t},s)=>t?v.createElement(t,{params:s}):typeof e=="function"?e(s):e,Iu=e=>{let t=v.useRef(ba),s=t.current;for(const r in e)e[r]!==s[r]&&(s=e);return Object.keys(e).length===0&&(s=e),t.current=s},Ds=({path:e,nest:t,match:s,...r})=>{const n=sr(),[o]=xn(n),[i,a,l]=s??Sa(n.parser,e,o,t),u=Iu({...Fu(),...a});if(!i)return null;const d=l?v.createElement(ja,{base:l},vi(r,u)):vi(r,u);return v.createElement(wa.Provider,{value:u,children:d})},ge=v.forwardRef((e,t)=>{const s=sr(),[r,n]=xn(s),{to:o="",href:i=o,onClick:a,asChild:l,children:u,className:d,replace:h,state:f,...p}=e,b=pa(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),n(i,e)))}),g=s.hrefs(i[0]==="~"?i.slice(1):s.base+i,s);return l&&v.isValidElement(u)?v.cloneElement(u,{onClick:b,href:g}):v.createElement("a",{...p,onClick:b,href:g,className:d!=null&&d.call?d(r===i):d,children:u,ref:t})}),Pa=e=>Array.isArray(e)?e.flatMap(t=>Pa(t&&t.type===v.Fragment?t.props.children:t)):[e],Uu=({children:e,location:t})=>{const s=sr(),[r]=xn(s);for(const n of Pa(e)){let o=0;if(v.isValidElement(n)&&(o=Sa(s.parser,n.props.path,t||r,n.props.nest))[0])return v.cloneElement(n,{match:o})}return null};var Yt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vt=typeof window>"u"||"Deno"in globalThis;function pe(){}function Bu(e,t){return typeof e=="function"?e(t):e}function Vr(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ca(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Et(e,t){return typeof e=="function"?e(t):e}function xe(e,t){return typeof e=="function"?e(t):e}function xi(e,t){const{type:s="all",exact:r,fetchStatus:n,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==bn(i,t.options))return!1}else if(!ps(t.queryKey,i))return!1}if(s!=="all"){const l=t.isActive();if(s==="active"&&!l||s==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||n&&n!==t.state.fetchStatus||o&&!o(t))}function bi(e,t){const{exact:s,status:r,predicate:n,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(s){if(xt(t.options.mutationKey)!==xt(o))return!1}else if(!ps(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||n&&!n(t))}function bn(e,t){return((t==null?void 0:t.queryKeyHashFn)||xt)(e)}function xt(e){return JSON.stringify(e,(t,s)=>Or(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function ps(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!ps(e[s],t[s])):!1}function Ta(e,t){if(e===t)return e;const s=wi(e)&&wi(t);if(s||Or(e)&&Or(t)){const r=s?e:Object.keys(e),n=r.length,o=s?t:Object.keys(t),i=o.length,a=s?[]:{};let l=0;for(let u=0;u<i;u++){const d=s?u:o[u];(!s&&r.includes(d)||s)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=Ta(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return n===i&&l===n?e:a}return t}function Gs(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function wi(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Or(e){if(!Si(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Si(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Si(e){return Object.prototype.toString.call(e)==="[object Object]"}function qu(e){return new Promise(t=>{setTimeout(t,e)})}function Lr(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?Ta(e,t):t}function zu(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function Wu(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var wn=Symbol();function Aa(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wn?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ut,We,kt,Yo,Ku=(Yo=class extends Yt{constructor(){super();N(this,ut);N(this,We);N(this,kt);T(this,kt,t=>{if(!vt&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){m(this,We)||this.setEventListener(m(this,kt))}onUnsubscribe(){var t;this.hasListeners()||((t=m(this,We))==null||t.call(this),T(this,We,void 0))}setEventListener(t){var s;T(this,kt,t),(s=m(this,We))==null||s.call(this),T(this,We,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){m(this,ut)!==t&&(T(this,ut,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof m(this,ut)=="boolean"?m(this,ut):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ut=new WeakMap,We=new WeakMap,kt=new WeakMap,Yo),Sn=new Ku,Dt,Ke,_t,Zo,$u=(Zo=class extends Yt{constructor(){super();N(this,Dt,!0);N(this,Ke);N(this,_t);T(this,_t,t=>{if(!vt&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){m(this,Ke)||this.setEventListener(m(this,_t))}onUnsubscribe(){var t;this.hasListeners()||((t=m(this,Ke))==null||t.call(this),T(this,Ke,void 0))}setEventListener(t){var s;T(this,_t,t),(s=m(this,Ke))==null||s.call(this),T(this,Ke,t(this.setOnline.bind(this)))}setOnline(t){m(this,Dt)!==t&&(T(this,Dt,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return m(this,Dt)}},Dt=new WeakMap,Ke=new WeakMap,_t=new WeakMap,Zo),Hs=new $u;function Fr(){let e,t;const s=new Promise((n,o)=>{e=n,t=o});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),e(n)},s.reject=n=>{r({status:"rejected",reason:n}),t(n)},s}function Gu(e){return Math.min(1e3*2**e,3e4)}function Ma(e){return(e??"online")==="online"?Hs.isOnline():!0}var Na=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function pr(e){return e instanceof Na}function Ea(e){let t=!1,s=0,r=!1,n;const o=Fr(),i=g=>{var x;r||(f(new Na(g)),(x=e.abort)==null||x.call(e))},a=()=>{t=!0},l=()=>{t=!1},u=()=>Sn.isFocused()&&(e.networkMode==="always"||Hs.isOnline())&&e.canRun(),d=()=>Ma(e.networkMode)&&e.canRun(),h=g=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,g),n==null||n(),o.resolve(g))},f=g=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,g),n==null||n(),o.reject(g))},p=()=>new Promise(g=>{var x;n=y=>{(r||u())&&g(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;n=void 0,r||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(r)return;let g;const x=s===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var R;if(r)return;const j=e.retry??(vt?0:3),S=e.retryDelay??Gu,M=typeof S=="function"?S(s,y):S,A=j===!0||typeof j=="number"&&s<j||typeof j=="function"&&j(s,y);if(t||!A){f(y);return}s++,(R=e.onFail)==null||R.call(e,s,y),qu(M).then(()=>u()?void 0:p()).then(()=>{t?f(y):b()})})};return{promise:o,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():p().then(b),o)}}function Hu(){let e=[],t=0,s=a=>{a()},r=a=>{a()},n=a=>setTimeout(a,0);const o=a=>{t?e.push(a):n(()=>{s(a)})},i=()=>{const a=e;e=[],a.length&&n(()=>{r(()=>{a.forEach(l=>{s(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{s=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{n=a}}}var Q=Hu(),dt,Jo,Ra=(Jo=class{constructor(){N(this,dt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vr(this.gcTime)&&T(this,dt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vt?1/0:5*60*1e3))}clearGcTimeout(){m(this,dt)&&(clearTimeout(m(this,dt)),T(this,dt,void 0))}},dt=new WeakMap,Jo),Vt,Ot,me,te,js,ht,ve,Re,ea,Qu=(ea=class extends Ra{constructor(t){super();N(this,ve);N(this,Vt);N(this,Ot);N(this,me);N(this,te);N(this,js);N(this,ht);T(this,ht,!1),T(this,js,t.defaultOptions),this.setOptions(t.options),this.observers=[],T(this,me,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,T(this,Vt,Xu(this.options)),this.state=t.state??m(this,Vt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=m(this,te))==null?void 0:t.promise}setOptions(t){this.options={...m(this,js),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&m(this,me).remove(this)}setData(t,s){const r=Lr(this.state.data,t,this.options);return _(this,ve,Re).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){_(this,ve,Re).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,n;const s=(r=m(this,te))==null?void 0:r.promise;return(n=m(this,te))==null||n.cancel(t),s?s.then(pe).catch(pe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(m(this,Vt))}isActive(){return this.observers.some(t=>xe(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Ca(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=m(this,te))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=m(this,te))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),m(this,me).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(m(this,te)&&(m(this,ht)?m(this,te).cancel({revert:!0}):m(this,te).cancelRetry()),this.scheduleGc()),m(this,me).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_(this,ve,Re).call(this,{type:"invalidate"})}fetch(t,s){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(m(this,te))return m(this,te).continueRetry(),m(this,te).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(T(this,ht,!0),r.signal)})},o=()=>{const h=Aa(this.options,s),f={queryKey:this.queryKey,meta:this.meta};return n(f),T(this,ht,!1),this.options.persister?this.options.persister(h,f,this):h(f)},i={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};n(i),(l=this.options.behavior)==null||l.onFetch(i,this),T(this,Ot,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&_(this,ve,Re).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=h=>{var f,p,b,g;pr(h)&&h.silent||_(this,ve,Re).call(this,{type:"error",error:h}),pr(h)||((p=(f=m(this,me).config).onError)==null||p.call(f,h,this),(g=(b=m(this,me).config).onSettled)==null||g.call(b,this.state.data,h,this)),this.scheduleGc()};return T(this,te,Ea({initialPromise:s==null?void 0:s.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,b,g;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){a(x);return}(p=(f=m(this,me).config).onSuccess)==null||p.call(f,h,this),(g=(b=m(this,me).config).onSettled)==null||g.call(b,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{_(this,ve,Re).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{_(this,ve,Re).call(this,{type:"pause"})},onContinue:()=>{_(this,ve,Re).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),m(this,te).start()}},Vt=new WeakMap,Ot=new WeakMap,me=new WeakMap,te=new WeakMap,js=new WeakMap,ht=new WeakMap,ve=new WeakSet,Re=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ka(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return pr(n)&&n.revert&&m(this,Ot)?{...m(this,Ot),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),Q.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),m(this,me).notify({query:this,type:"updated",action:t})})},ea);function ka(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ma(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Xu(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Se,ta,Yu=(ta=class extends Yt{constructor(t={}){super();N(this,Se);this.config=t,T(this,Se,new Map)}build(t,s,r){const n=s.queryKey,o=s.queryHash??bn(n,s);let i=this.get(o);return i||(i=new Qu({cache:this,queryKey:n,queryHash:o,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(i)),i}add(t){m(this,Se).has(t.queryHash)||(m(this,Se).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=m(this,Se).get(t.queryHash);s&&(t.destroy(),s===t&&m(this,Se).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Q.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return m(this,Se).get(t)}getAll(){return[...m(this,Se).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>xi(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>xi(t,r)):s}notify(t){Q.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Q.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Q.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Se=new WeakMap,ta),je,ie,ft,Pe,qe,sa,Zu=(sa=class extends Ra{constructor(t){super();N(this,Pe);N(this,je);N(this,ie);N(this,ft);this.mutationId=t.mutationId,T(this,ie,t.mutationCache),T(this,je,[]),this.state=t.state||Da(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){m(this,je).includes(t)||(m(this,je).push(t),this.clearGcTimeout(),m(this,ie).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){T(this,je,m(this,je).filter(s=>s!==t)),this.scheduleGc(),m(this,ie).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){m(this,je).length||(this.state.status==="pending"?this.scheduleGc():m(this,ie).remove(this))}continue(){var t;return((t=m(this,ft))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var n,o,i,a,l,u,d,h,f,p,b,g,x,y,j,S,M,A,R,k;T(this,ft,Ea({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(w,P)=>{_(this,Pe,qe).call(this,{type:"failed",failureCount:w,error:P})},onPause:()=>{_(this,Pe,qe).call(this,{type:"pause"})},onContinue:()=>{_(this,Pe,qe).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>m(this,ie).canRun(this)}));const s=this.state.status==="pending",r=!m(this,ft).canStart();try{if(!s){_(this,Pe,qe).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(n=m(this,ie).config).onMutate)==null?void 0:o.call(n,t,this));const P=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));P!==this.state.context&&_(this,Pe,qe).call(this,{type:"pending",context:P,variables:t,isPaused:r})}const w=await m(this,ft).start();return await((u=(l=m(this,ie).config).onSuccess)==null?void 0:u.call(l,w,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,w,t,this.state.context)),await((p=(f=m(this,ie).config).onSettled)==null?void 0:p.call(f,w,null,this.state.variables,this.state.context,this)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,w,null,t,this.state.context)),_(this,Pe,qe).call(this,{type:"success",data:w}),w}catch(w){try{throw await((y=(x=m(this,ie).config).onError)==null?void 0:y.call(x,w,t,this.state.context,this)),await((S=(j=this.options).onError)==null?void 0:S.call(j,w,t,this.state.context)),await((A=(M=m(this,ie).config).onSettled)==null?void 0:A.call(M,void 0,w,this.state.variables,this.state.context,this)),await((k=(R=this.options).onSettled)==null?void 0:k.call(R,void 0,w,t,this.state.context)),w}finally{_(this,Pe,qe).call(this,{type:"error",error:w})}}finally{m(this,ie).runNext(this)}}},je=new WeakMap,ie=new WeakMap,ft=new WeakMap,Pe=new WeakSet,qe=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Q.batch(()=>{m(this,je).forEach(r=>{r.onMutationUpdate(t)}),m(this,ie).notify({mutation:this,type:"updated",action:t})})},sa);function Da(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ue,Ps,ra,Ju=(ra=class extends Yt{constructor(t={}){super();N(this,ue);N(this,Ps);this.config=t,T(this,ue,new Map),T(this,Ps,Date.now())}build(t,s,r){const n=new Zu({mutationCache:this,mutationId:++ks(this,Ps)._,options:t.defaultMutationOptions(s),state:r});return this.add(n),n}add(t){const s=_s(t),r=m(this,ue).get(s)??[];r.push(t),m(this,ue).set(s,r),this.notify({type:"added",mutation:t})}remove(t){var r;const s=_s(t);if(m(this,ue).has(s)){const n=(r=m(this,ue).get(s))==null?void 0:r.filter(o=>o!==t);n&&(n.length===0?m(this,ue).delete(s):m(this,ue).set(s,n))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const s=(r=m(this,ue).get(_s(t)))==null?void 0:r.find(n=>n.state.status==="pending");return!s||s===t}runNext(t){var r;const s=(r=m(this,ue).get(_s(t)))==null?void 0:r.find(n=>n!==t&&n.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Q.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...m(this,ue).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(r=>bi(s,r))}findAll(t={}){return this.getAll().filter(s=>bi(t,s))}notify(t){Q.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Q.batch(()=>Promise.all(t.map(s=>s.continue().catch(pe))))}},ue=new WeakMap,Ps=new WeakMap,ra);function _s(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function ji(e){return{onFetch:(t,s)=>{var d,h,f,p,b;const r=t.options,n=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=Aa(t.options,t.fetchOptions),j=async(S,M,A)=>{if(g)return Promise.reject();if(M==null&&S.pages.length)return Promise.resolve(S);const R={queryKey:t.queryKey,pageParam:M,direction:A?"backward":"forward",meta:t.options.meta};x(R);const k=await y(R),{maxPages:w}=t.options,P=A?Wu:zu;return{pages:P(S.pages,k,w),pageParams:P(S.pageParams,M,w)}};if(n&&o.length){const S=n==="backward",M=S?ed:Pi,A={pages:o,pageParams:i},R=M(r,A);a=await j(A,R,S)}else{const S=e??o.length;do{const M=l===0?i[0]??r.initialPageParam:Pi(r,a);if(l>0&&M==null)break;a=await j(a,M),l++}while(l<S)}return a};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=u}}}function Pi(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function ed(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var z,$e,Ge,Lt,Ft,He,It,Ut,na,td=(na=class{constructor(e={}){N(this,z);N(this,$e);N(this,Ge);N(this,Lt);N(this,Ft);N(this,He);N(this,It);N(this,Ut);T(this,z,e.queryCache||new Yu),T(this,$e,e.mutationCache||new Ju),T(this,Ge,e.defaultOptions||{}),T(this,Lt,new Map),T(this,Ft,new Map),T(this,He,0)}mount(){ks(this,He)._++,m(this,He)===1&&(T(this,It,Sn.subscribe(async e=>{e&&(await this.resumePausedMutations(),m(this,z).onFocus())})),T(this,Ut,Hs.subscribe(async e=>{e&&(await this.resumePausedMutations(),m(this,z).onOnline())})))}unmount(){var e,t;ks(this,He)._--,m(this,He)===0&&((e=m(this,It))==null||e.call(this),T(this,It,void 0),(t=m(this,Ut))==null||t.call(this),T(this,Ut,void 0))}isFetching(e){return m(this,z).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return m(this,$e).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=m(this,z).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),r=m(this,z).build(this,s);return e.revalidateIfStale&&r.isStaleByTime(Et(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return m(this,z).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),n=m(this,z).get(r.queryHash),o=n==null?void 0:n.state.data,i=Bu(t,o);if(i!==void 0)return m(this,z).build(this,r).setData(i,{...s,manual:!0})}setQueriesData(e,t,s){return Q.batch(()=>m(this,z).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=m(this,z).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=m(this,z);Q.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=m(this,z),r={type:"active",...e};return Q.batch(()=>(s.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},r=Q.batch(()=>m(this,z).findAll(e).map(n=>n.cancel(s)));return Promise.all(r).then(pe).catch(pe)}invalidateQueries(e={},t={}){return Q.batch(()=>{if(m(this,z).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Q.batch(()=>m(this,z).findAll(e).filter(n=>!n.isDisabled()).map(n=>{let o=n.fetch(void 0,s);return s.throwOnError||(o=o.catch(pe)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(pe)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=m(this,z).build(this,t);return s.isStaleByTime(Et(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(pe).catch(pe)}fetchInfiniteQuery(e){return e.behavior=ji(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(pe).catch(pe)}ensureInfiniteQueryData(e){return e.behavior=ji(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hs.isOnline()?m(this,$e).resumePausedMutations():Promise.resolve()}getQueryCache(){return m(this,z)}getMutationCache(){return m(this,$e)}getDefaultOptions(){return m(this,Ge)}setDefaultOptions(e){T(this,Ge,e)}setQueryDefaults(e,t){m(this,Lt).set(xt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...m(this,Lt).values()];let s={};return t.forEach(r=>{ps(e,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(e,t){m(this,Ft).set(xt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...m(this,Ft).values()];let s={};return t.forEach(r=>{ps(e,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...m(this,Ge).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bn(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===wn&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...m(this,Ge).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){m(this,z).clear(),m(this,$e).clear()}},z=new WeakMap,$e=new WeakMap,Ge=new WeakMap,Lt=new WeakMap,Ft=new WeakMap,He=new WeakMap,It=new WeakMap,Ut=new WeakMap,na),ae,O,Cs,oe,mt,Bt,Qe,Ce,Ts,qt,zt,pt,gt,Xe,Wt,F,as,Ir,Ur,Br,qr,zr,Wr,Kr,_a,ia,sd=(ia=class extends Yt{constructor(t,s){super();N(this,F);N(this,ae);N(this,O);N(this,Cs);N(this,oe);N(this,mt);N(this,Bt);N(this,Qe);N(this,Ce);N(this,Ts);N(this,qt);N(this,zt);N(this,pt);N(this,gt);N(this,Xe);N(this,Wt,new Set);this.options=s,T(this,ae,t),T(this,Ce,null),T(this,Qe,Fr()),this.options.experimental_prefetchInRender||m(this,Qe).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(m(this,O).addObserver(this),Ci(m(this,O),this.options)?_(this,F,as).call(this):this.updateResult(),_(this,F,qr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $r(m(this,O),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $r(m(this,O),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_(this,F,zr).call(this),_(this,F,Wr).call(this),m(this,O).removeObserver(this)}setOptions(t,s){const r=this.options,n=m(this,O);if(this.options=m(this,ae).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xe(this.options.enabled,m(this,O))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_(this,F,Kr).call(this),m(this,O).setOptions(this.options),r._defaulted&&!Gs(this.options,r)&&m(this,ae).getQueryCache().notify({type:"observerOptionsUpdated",query:m(this,O),observer:this});const o=this.hasListeners();o&&Ti(m(this,O),n,this.options,r)&&_(this,F,as).call(this),this.updateResult(s),o&&(m(this,O)!==n||xe(this.options.enabled,m(this,O))!==xe(r.enabled,m(this,O))||Et(this.options.staleTime,m(this,O))!==Et(r.staleTime,m(this,O)))&&_(this,F,Ir).call(this);const i=_(this,F,Ur).call(this);o&&(m(this,O)!==n||xe(this.options.enabled,m(this,O))!==xe(r.enabled,m(this,O))||i!==m(this,Xe))&&_(this,F,Br).call(this,i)}getOptimisticResult(t){const s=m(this,ae).getQueryCache().build(m(this,ae),t),r=this.createResult(s,t);return nd(this,r)&&(T(this,oe,r),T(this,Bt,this.options),T(this,mt,m(this,O).state)),r}getCurrentResult(){return m(this,oe)}trackResult(t,s){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),s==null||s(n),t[n])})}),r}trackProp(t){m(this,Wt).add(t)}getCurrentQuery(){return m(this,O)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=m(this,ae).defaultQueryOptions(t),r=m(this,ae).getQueryCache().build(m(this,ae),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return _(this,F,as).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),m(this,oe)))}createResult(t,s){var w;const r=m(this,O),n=this.options,o=m(this,oe),i=m(this,mt),a=m(this,Bt),u=t!==r?t.state:m(this,Cs),{state:d}=t;let h={...d},f=!1,p;if(s._optimisticResults){const P=this.hasListeners(),V=!P&&Ci(t,s),$=P&&Ti(t,r,s,n);(V||$)&&(h={...h,...ka(d.data,t.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:x}=h;if(s.select&&h.data!==void 0)if(o&&h.data===(i==null?void 0:i.data)&&s.select===m(this,Ts))p=m(this,qt);else try{T(this,Ts,s.select),p=s.select(h.data),p=Lr(o==null?void 0:o.data,p,s),T(this,qt,p),T(this,Ce,null)}catch(P){T(this,Ce,P)}else p=h.data;if(s.placeholderData!==void 0&&p===void 0&&x==="pending"){let P;if(o!=null&&o.isPlaceholderData&&s.placeholderData===(a==null?void 0:a.placeholderData))P=o.data;else if(P=typeof s.placeholderData=="function"?s.placeholderData((w=m(this,zt))==null?void 0:w.state.data,m(this,zt)):s.placeholderData,s.select&&P!==void 0)try{P=s.select(P),T(this,Ce,null)}catch(V){T(this,Ce,V)}P!==void 0&&(x="success",p=Lr(o==null?void 0:o.data,P,s),f=!0)}m(this,Ce)&&(b=m(this,Ce),p=m(this,qt),g=Date.now(),x="error");const y=h.fetchStatus==="fetching",j=x==="pending",S=x==="error",M=j&&y,A=p!==void 0,k={status:x,fetchStatus:h.fetchStatus,isPending:j,isSuccess:x==="success",isError:S,isInitialLoading:M,isLoading:M,data:p,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!j,isLoadingError:S&&!A,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:S&&A,isStale:jn(t,s),refetch:this.refetch,promise:m(this,Qe)};if(this.options.experimental_prefetchInRender){const P=L=>{k.status==="error"?L.reject(k.error):k.data!==void 0&&L.resolve(k.data)},V=()=>{const L=T(this,Qe,k.promise=Fr());P(L)},$=m(this,Qe);switch($.status){case"pending":t.queryHash===r.queryHash&&P($);break;case"fulfilled":(k.status==="error"||k.data!==$.value)&&V();break;case"rejected":(k.status!=="error"||k.error!==$.reason)&&V();break}}return k}updateResult(t){const s=m(this,oe),r=this.createResult(m(this,O),this.options);if(T(this,mt,m(this,O).state),T(this,Bt,this.options),m(this,mt).data!==void 0&&T(this,zt,m(this,O)),Gs(r,s))return;T(this,oe,r);const n={},o=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!m(this,Wt).size)return!0;const l=new Set(a??m(this,Wt));return this.options.throwOnError&&l.add("error"),Object.keys(m(this,oe)).some(u=>{const d=u;return m(this,oe)[d]!==s[d]&&l.has(d)})};(t==null?void 0:t.listeners)!==!1&&o()&&(n.listeners=!0),_(this,F,_a).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_(this,F,qr).call(this)}},ae=new WeakMap,O=new WeakMap,Cs=new WeakMap,oe=new WeakMap,mt=new WeakMap,Bt=new WeakMap,Qe=new WeakMap,Ce=new WeakMap,Ts=new WeakMap,qt=new WeakMap,zt=new WeakMap,pt=new WeakMap,gt=new WeakMap,Xe=new WeakMap,Wt=new WeakMap,F=new WeakSet,as=function(t){_(this,F,Kr).call(this);let s=m(this,O).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(pe)),s},Ir=function(){_(this,F,zr).call(this);const t=Et(this.options.staleTime,m(this,O));if(vt||m(this,oe).isStale||!Vr(t))return;const r=Ca(m(this,oe).dataUpdatedAt,t)+1;T(this,pt,setTimeout(()=>{m(this,oe).isStale||this.updateResult()},r))},Ur=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(m(this,O)):this.options.refetchInterval)??!1},Br=function(t){_(this,F,Wr).call(this),T(this,Xe,t),!(vt||xe(this.options.enabled,m(this,O))===!1||!Vr(m(this,Xe))||m(this,Xe)===0)&&T(this,gt,setInterval(()=>{(this.options.refetchIntervalInBackground||Sn.isFocused())&&_(this,F,as).call(this)},m(this,Xe)))},qr=function(){_(this,F,Ir).call(this),_(this,F,Br).call(this,_(this,F,Ur).call(this))},zr=function(){m(this,pt)&&(clearTimeout(m(this,pt)),T(this,pt,void 0))},Wr=function(){m(this,gt)&&(clearInterval(m(this,gt)),T(this,gt,void 0))},Kr=function(){const t=m(this,ae).getQueryCache().build(m(this,ae),this.options);if(t===m(this,O))return;const s=m(this,O);T(this,O,t),T(this,Cs,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},_a=function(t){Q.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(m(this,oe))}),m(this,ae).getQueryCache().notify({query:m(this,O),type:"observerResultsUpdated"})})},ia);function rd(e,t){return xe(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ci(e,t){return rd(e,t)||e.state.data!==void 0&&$r(e,t,t.refetchOnMount)}function $r(e,t,s){if(xe(t.enabled,e)!==!1){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&jn(e,t)}return!1}function Ti(e,t,s,r){return(e!==t||xe(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&jn(e,s)}function jn(e,t){return xe(t.enabled,e)!==!1&&e.isStaleByTime(Et(t.staleTime,e))}function nd(e,t){return!Gs(e.getCurrentResult(),t)}var Ye,Ze,le,De,Le,Us,Gr,oa,id=(oa=class extends Yt{constructor(s,r){super();N(this,Le);N(this,Ye);N(this,Ze);N(this,le);N(this,De);T(this,Ye,s),this.setOptions(r),this.bindMethods(),_(this,Le,Us).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var n;const r=this.options;this.options=m(this,Ye).defaultMutationOptions(s),Gs(this.options,r)||m(this,Ye).getMutationCache().notify({type:"observerOptionsUpdated",mutation:m(this,le),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&xt(r.mutationKey)!==xt(this.options.mutationKey)?this.reset():((n=m(this,le))==null?void 0:n.state.status)==="pending"&&m(this,le).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=m(this,le))==null||s.removeObserver(this)}onMutationUpdate(s){_(this,Le,Us).call(this),_(this,Le,Gr).call(this,s)}getCurrentResult(){return m(this,Ze)}reset(){var s;(s=m(this,le))==null||s.removeObserver(this),T(this,le,void 0),_(this,Le,Us).call(this),_(this,Le,Gr).call(this)}mutate(s,r){var n;return T(this,De,r),(n=m(this,le))==null||n.removeObserver(this),T(this,le,m(this,Ye).getMutationCache().build(m(this,Ye),this.options)),m(this,le).addObserver(this),m(this,le).execute(s)}},Ye=new WeakMap,Ze=new WeakMap,le=new WeakMap,De=new WeakMap,Le=new WeakSet,Us=function(){var r;const s=((r=m(this,le))==null?void 0:r.state)??Da();T(this,Ze,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Gr=function(s){Q.batch(()=>{var r,n,o,i,a,l,u,d;if(m(this,De)&&this.hasListeners()){const h=m(this,Ze).variables,f=m(this,Ze).context;(s==null?void 0:s.type)==="success"?((n=(r=m(this,De)).onSuccess)==null||n.call(r,s.data,h,f),(i=(o=m(this,De)).onSettled)==null||i.call(o,s.data,null,h,f)):(s==null?void 0:s.type)==="error"&&((l=(a=m(this,De)).onError)==null||l.call(a,s.error,h,f),(d=(u=m(this,De)).onSettled)==null||d.call(u,void 0,s.error,h,f))}this.listeners.forEach(h=>{h(m(this,Ze))})})},oa),Va=v.createContext(void 0),rr=e=>{const t=v.useContext(Va);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},od=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(Va.Provider,{value:e,children:t})),Oa=v.createContext(!1),ad=()=>v.useContext(Oa);Oa.Provider;function ld(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var cd=v.createContext(ld()),ud=()=>v.useContext(cd);function La(e,t){return typeof e=="function"?e(...t):!!e}function Hr(){}var dd=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},hd=e=>{v.useEffect(()=>{e.clearReset()},[e])},fd=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&La(s,[e.error,r]),md=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},pd=(e,t)=>e.isLoading&&e.isFetching&&!t,gd=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ai=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function yd(e,t,s){var d,h,f,p,b;const r=rr(),n=ad(),o=ud(),i=r.defaultQueryOptions(e);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,i),i._optimisticResults=n?"isRestoring":"optimistic",md(i),dd(i,o),hd(o);const a=!r.getQueryCache().get(i.queryHash),[l]=v.useState(()=>new t(r,i)),u=l.getOptimisticResult(i);if(v.useSyncExternalStore(v.useCallback(g=>{const x=n?Hr:l.subscribe(Q.batchCalls(g));return l.updateResult(),x},[l,n]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),v.useEffect(()=>{l.setOptions(i,{listeners:!1})},[i,l]),gd(i,u))throw Ai(i,l,o);if(fd({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw u.error;if((p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,i,u),i.experimental_prefetchInRender&&!vt&&pd(u,n)){const g=a?Ai(i,l,o):(b=r.getQueryCache().get(i.queryHash))==null?void 0:b.promise;g==null||g.catch(Hr).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?u:l.trackResult(u)}function gs(e,t){return yd(e,sd)}function Pt(e,t){const s=rr(),[r]=v.useState(()=>new id(s,e));v.useEffect(()=>{r.setOptions(e)},[r,e]);const n=v.useSyncExternalStore(v.useCallback(i=>r.subscribe(Q.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=v.useCallback((i,a)=>{r.mutate(i,a).catch(Hr)},[r]);if(n.error&&La(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:o,mutateAsync:n.mutate}}const vd="https://dyuzdoyzsfeszaxadxhl.supabase.co",xd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR5dXpkb3l6c2Zlc3pheGFkeGhsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3NzYwMTYsImV4cCI6MjA3MzM1MjAxNn0.p_tDknrJ_dJAr7N6sGUgN-8CFe0tTDPR1FLgI2UEDcQ",C=du(vd,xd,{auth:{storage:window.localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,debug:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"visionmates-web"}}}),gr=Object.freeze(Object.defineProperty({__proto__:null,supabase:C},Symbol.toStringTag,{value:"Module"})),Qr={async getAll(){try{console.log("🔍 Fetching projects from Supabase...");const{data:e,error:t}=await C.from("projects").select(`
          *,
          creator:users!creator_id (
            id,
            first_name,
            last_name,
            display_name,
            avatar_url,
            profile_image_url
          )
        `).eq("is_active",!0).order("created_at",{ascending:!1});if(t)throw console.error("❌ Supabase error fetching projects:",t),t;return console.log("✅ Projects fetched successfully:",(e==null?void 0:e.length)||0,"projects"),e||[]}catch(e){return console.error("❌ Error in getAll:",e),[]}},async getForDiscover(e=12,t,s){try{let r=C.from("projects").select(`
          *,
          creator:users!projects_creator_id_fkey (
            id,
            first_name,
            profile_image_url
          ),
          participations (
            type,
            user_id
          )
        `).eq("is_active",!0).order("created_at",{ascending:!1}).limit(e);t&&s&&(r=r.or(`created_at.lt.${t},and(created_at.eq.${t},id.lt.${s})`));const{data:n,error:o}=await r;if(o)throw console.error("Supabase error in getForDiscover:",o),o;const i=(n||[]).map(u=>({id:u.id,title:u.title,description:u.description,creator_id:u.creator_id,is_active:u.is_active,created_at:u.created_at,updated_at:u.updated_at,creator:{id:u.creator.id,first_name:u.creator.first_name,profile_image_url:u.creator.profile_image_url},participations:u.participations||[]})),a=i.length===e,l=i.length>0?{lastCreatedAt:i[i.length-1].created_at||"",lastId:i[i.length-1].id}:null;return{projects:i,hasMore:a,nextCursor:l}}catch(r){return console.error("Error in getForDiscover:",r),{projects:[],hasMore:!1,nextCursor:null}}},async getForDiscoverLegacy(){return(await this.getForDiscover(20)).projects},async getById(e){try{const{data:t,error:s}=await C.from("projects").select(`
          *,
          creator:users!creator_id (
            id,
            first_name,
            last_name,
            display_name,
            avatar_url,
            profile_image_url
          )
        `).eq("id",e).single();if(s)throw console.error("Error fetching project:",s),s;let r=[];try{const{data:a}=await C.from("participations").select(`
            *,
            user:users!user_id (
              id,
              first_name,
              last_name,
              display_name,
              avatar_url,
              profile_image_url
            )
          `).eq("project_id",e);r=a||[]}catch(a){console.warn("Could not fetch participations:",a)}let n=[];try{const{data:a}=await C.from("progress_updates").select(`
            *,
            user:users!user_id (
              id,
              first_name,
              last_name,
              display_name,
              avatar_url,
              profile_image_url
            )
          `).eq("project_id",e).order("created_at",{ascending:!1});n=a||[]}catch(a){console.warn("Could not fetch progress updates:",a)}let o=[];try{const{data:a}=await C.from("comments").select(`
            *,
            user:users!user_id (
              id,
              first_name,
              last_name,
              display_name,
              avatar_url,
              profile_image_url
            )
          `).eq("project_id",e).order("created_at",{ascending:!1});o=a||[]}catch(a){console.warn("Could not fetch comments:",a)}return{...t,participations:r||[],progressUpdates:(n||[]).map(a=>({...a,createdAt:a.created_at||a.createdAt||new Date().toISOString()})),comments:(o||[]).map(a=>({...a,createdAt:a.created_at||a.createdAt||new Date().toISOString()})),createdAt:t.created_at||t.createdAt||new Date().toISOString()}}catch(t){throw console.error("Error in getById:",t),t}},async create(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("projects").insert({...e,creator_id:t.id}).select().single();if(r)throw r;return s},async update(e,t){const{data:s,error:r}=await C.from("projects").update(t).eq("id",e).select().single();if(r)throw r;return s},async delete(e){const{error:t}=await C.from("projects").delete().eq("id",e);if(t)throw t}},bd={async add(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:r,error:n}=await C.from("participations").insert({project_id:e,user_id:s.id,type:t}).select().single();if(n)throw n;return r},async remove(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{error:r}=await C.from("participations").delete().eq("project_id",e).eq("user_id",s.id).eq("type",t);if(r)throw r},async setExclusive(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{error:r}=await C.from("participations").delete().eq("project_id",e).eq("user_id",s.id);r&&console.warn("Failed to delete existing participations:",r);const{data:n,error:o}=await C.from("participations").insert({project_id:e,user_id:s.id,type:t}).select().single();if(o)throw o;return n},async removeAll(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:s}=await C.from("participations").delete().eq("project_id",e).eq("user_id",t.id);if(s)throw s},async getUserParticipation(e,t,s){const{data:r,error:n}=await C.from("participations").select("*").eq("project_id",e).eq("user_id",t).eq("type",s).single();if(n&&n.code!=="PGRST116")throw n;return r}},wd={async create(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:r,error:n}=await C.from("progress_updates").insert({...t,project_id:e,user_id:s.id}).select().single();if(n)throw n;return r}},Sd={async create(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:r,error:n}=await C.from("comments").insert({project_id:e,user_id:s.id,content:t}).select().single();if(n)throw n;return r}},jd={async getStatus(e,t){const{data:s,error:r}=await C.from("reactions").select("*").eq("target_id",e).eq("target_type",t);if(r)throw r;const n=(s==null?void 0:s.length)||0,{data:{user:o}}=await C.auth.getUser(),i=o&&(s==null?void 0:s.some(a=>a.user_id===o.id))||!1;return{count:n,userReacted:i}},async toggle(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:r,error:n}=await C.from("reactions").select("*").eq("target_id",e).eq("target_type",t).eq("user_id",s.id).eq("type","clap").single();if(n&&n.code!=="PGRST116")throw n;if(r){const{error:o}=await C.from("reactions").delete().eq("id",r.id);if(o)throw o;return{action:"removed"}}else{const{data:o,error:i}=await C.from("reactions").insert({target_id:e,target_type:t,user_id:s.id,type:"clap"}).select().single();if(i)throw i;return{action:"added",data:o}}}},Fa={async getConversations(){const{data:{user:e}}=await C.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:s}=await C.from("conversations").select(`
        *,
        participant1:users!participant1_id (*),
        participant2:users!participant2_id (*),
        messages (
          *,
          sender:users!sender_id (*)
        )
      `).or(`participant1_id.eq.${e.id},participant2_id.eq.${e.id}`).order("last_message_at",{ascending:!1});if(s)throw s;return t||[]},async getConversation(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("conversations").select(`
        *,
        participant1:users!participant1_id (*),
        participant2:users!participant2_id (*),
        messages (
          *,
          sender:users!sender_id (*)
        )
      `).eq("id",e).or(`participant1_id.eq.${t.id},participant2_id.eq.${t.id}`).single();if(r)throw r;return s},async sendMessage(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");let r;const{data:n,error:o}=await C.from("conversations").select("id").or(`and(participant1_id.eq.${s.id},participant2_id.eq.${e}),and(participant1_id.eq.${e},participant2_id.eq.${s.id})`).single();if(o&&o.code!=="PGRST116")throw o;if(n)r=n.id;else{const{data:l,error:u}=await C.from("conversations").insert({participant1_id:s.id,participant2_id:e}).select().single();if(u)throw u;r=l.id}const{data:i,error:a}=await C.from("messages").insert({conversation_id:r,sender_id:s.id,content:t}).select().single();if(a)throw a;return await C.from("conversations").update({last_message_at:new Date().toISOString()}).eq("id",r),i}},Pd={async toggle(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("project_likes").select("*").eq("project_id",e).eq("user_id",t.id).single();if(r&&r.code!=="PGRST116")throw r;if(s){const{error:n}=await C.from("project_likes").delete().eq("project_id",e).eq("user_id",t.id);if(n)throw n;return{action:"removed"}}else{const{data:n,error:o}=await C.from("project_likes").insert({project_id:e,user_id:t.id}).select().single();if(o)throw o;return{action:"added",data:n}}},async getUserLikes(e=12,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");let r=C.from("project_likes").select(`
        created_at,
        project:projects!project_id (
          *,
          creator:users!creator_id (
            id,
            first_name,
            profile_image_url
          )
        )
      `).eq("user_id",s.id).order("created_at",{ascending:!1});t&&(r=r.lt("created_at",t));const{data:n,error:o}=await r.limit(e);if(o)throw o;return n||[]}},Cd={async toggle(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("project_hides").select("*").eq("project_id",e).eq("user_id",t.id).single();if(r&&r.code!=="PGRST116")throw r;if(s){const{error:n}=await C.from("project_hides").delete().eq("project_id",e).eq("user_id",t.id);if(n)throw n;return{action:"removed"}}else{const{data:n,error:o}=await C.from("project_hides").insert({project_id:e,user_id:t.id}).select().single();if(o)throw o;return{action:"added",data:n}}}},Vs={async getProjectSkills(e){const{data:t,error:s}=await C.from("project_required_skills").select("*").eq("project_id",e).order("priority",{ascending:!1});if(s)throw s;return t||[]},async upsertSkill(e,t,s=1){const{data:{user:r}}=await C.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:o}=await C.from("project_required_skills").upsert({project_id:e,skill:t,priority:s}).select().single();if(o)throw o;return n},async removeSkill(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{error:r}=await C.from("project_required_skills").delete().eq("project_id",e).eq("skill",t);if(r)throw r},async searchCandidates(e,t=!1,s=1,r=20,n=0){const{data:o,error:i}=await C.rpc("search_candidates_for_project",{pid:e,match_all:t,min_overlap:s,limit_n:r,offset_n:n});if(i)throw i;if(o&&o.length>0){const a=o.map(d=>d.user_id),{data:l,error:u}=await C.from("users").select("id, first_name, last_name, display_name, avatar_url, profile_image_url").in("id",a);if(u)throw u;return o.map(d=>({...d,user:l==null?void 0:l.find(h=>h.id===d.user_id)}))}return o||[]}},Td={async getCurrentUser(){var r,n,o,i,a,l;const{data:{user:e}}=await C.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:s}=await C.from("users").select("*").eq("id",e.id).single();if(s){if(console.error("Error fetching current user:",s),s.code==="PGRST116"){console.log("User not found in users table, creating...");const u={id:e.id,email:e.email,first_name:((r=e.user_metadata)==null?void 0:r.first_name)||null,last_name:((n=e.user_metadata)==null?void 0:n.last_name)||null,avatar_url:((o=e.user_metadata)==null?void 0:o.avatar_url)||null,display_name:null,bio:null,skills:[],github_url:null,portfolio_url:null,university:null,department:null},{data:d,error:h}=await C.from("users").insert(u).select().single();return h?(console.error("Error creating user:",h),{...u,created_at:e.created_at,updated_at:new Date().toISOString()}):d}return{id:e.id,email:e.email,first_name:((i=e.user_metadata)==null?void 0:i.first_name)||null,last_name:((a=e.user_metadata)==null?void 0:a.last_name)||null,avatar_url:((l=e.user_metadata)==null?void 0:l.avatar_url)||null,display_name:null,bio:null,skills:[],github_url:null,portfolio_url:null,university:null,department:null,created_at:e.created_at,updated_at:new Date().toISOString()}}return t},async getProfile(e){const{data:t,error:s}=await C.from("users").select("*").eq("id",e).single();if(s)throw s;return t},async updateProfile(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("users").update(e).eq("id",t.id).select().single();if(r)throw r;return s}};async function Ad(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const it={projects:Qr,participations:bd,progressUpdates:wd,comments:Sd,reactions:jd,messages:Fa,users:Td},Md=({on401:e})=>async({queryKey:t})=>{var r;const s=t.join("/");try{if(s==="/api/projects")return await it.projects.getAll();if(s==="/api/projects/discover")return await it.projects.getForDiscover();if(s.startsWith("/api/projects/")&&s.split("/").length===4){const o=s.split("/")[3];return await it.projects.getById(o)}if(s==="/api/conversations")return await it.messages.getConversations();if(s.startsWith("/api/conversations/")&&s.split("/").length===4){const o=s.split("/")[3];return await it.messages.getConversation(o)}if(s==="/api/auth/user")return await it.users.getCurrentUser();if(s.startsWith("/api/reactions/")&&s.includes("/")){const o=s.split("/");if(o.length===5&&o[3]){const i=o[3],a=o[4];return await it.reactions.getStatus(a,i)}}const n=await fetch(s,{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await Ad(n),await n.json())}catch(n){if(e==="returnNull"&&((r=n==null?void 0:n.message)!=null&&r.includes("401")))return null;throw n}},Nd=new td({defaultOptions:{queries:{queryFn:Md({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,retry:!1},mutations:{retry:!1}}});function Pn(){const[e,t]=v.useState(null),[s,r]=v.useState(null),[n,o]=v.useState(!0);console.log("🔐 useSupabaseAuth state:",{user:!!e,session:!!s,isLoading:n,userEmail:e==null?void 0:e.email,sessionValid:!!(s!=null&&s.access_token)}),v.useEffect(()=>{let h,f=!1;h=setTimeout(()=>{f||(console.log("⏰ Session loading timeout - continuing as guest user"),f=!0,o(!1),r(null),t(null))},15e3),(async()=>{var x;console.log("🔄 Getting initial session...");try{const{data:{session:y},error:j}=await C.auth.getSession();if(f)return;j?(console.log("ℹ️ Session error:",j.message),r(null),t(null)):y?(r(y),t(y.user),console.log("✅ Session loaded:",{hasSession:!!y,hasUser:!!y.user,userEmail:(x=y.user)==null?void 0:x.email})):(console.log("ℹ️ No active session found"),r(null),t(null))}catch(y){if(f)return;console.log("ℹ️ Session load failed:",y),r(null),t(null)}finally{f||(f=!0,clearTimeout(h),o(!1),console.log("🏁 Session initialization complete"))}})();const{data:{subscription:g}}=C.auth.onAuthStateChange(async(x,y)=>{var j;console.log("🔐 Auth state changed:",x,{hasSession:!!y,hasUser:!!(y!=null&&y.user),userEmail:(j=y==null?void 0:y.user)==null?void 0:j.email}),f||(f=!0,clearTimeout(h)),r(y),t((y==null?void 0:y.user)??null),o(!1),y!=null&&y.user&&x==="SIGNED_IN"&&(console.log("🔄 Syncing user to database..."),await i(y.user)),x==="SIGNED_OUT"&&console.log("👋 User signed out")});return()=>{clearTimeout(h),g.unsubscribe()}},[]);const i=async h=>{var f,p,b;try{const{data:g,error:x}=await C.from("users").select("*").eq("id",h.id).single();if(x&&x.code!=="PGRST116"){console.error("Error fetching user:",x);return}if(!g){const{error:y}=await C.from("users").insert({id:h.id,email:h.email,first_name:(f=h.user_metadata)==null?void 0:f.first_name,last_name:(p=h.user_metadata)==null?void 0:p.last_name,profile_image_url:(b=h.user_metadata)==null?void 0:b.avatar_url});y&&console.error("Error creating user profile:",y)}}catch(g){console.error("Error syncing user to database:",g)}};return{user:e,session:s,isLoading:n,isAuthenticated:!!e,signInWithGoogle:async()=>{try{const{error:h}=await C.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});if(h)throw h}catch(h){throw console.error("Error signing in with Google:",h),h}},signInWithEmail:async(h,f)=>{try{const{error:p}=await C.auth.signInWithPassword({email:h,password:f});if(p)throw p}catch(p){throw console.error("Error signing in with email:",p),p}},signUpWithEmail:async(h,f,p)=>{try{const{error:b}=await C.auth.signUp({email:h,password:f,options:{data:p}});if(b)throw b}catch(b){throw console.error("Error signing up:",b),b}},signOut:async()=>{try{const{error:h}=await C.auth.signOut();if(h)throw h}catch(h){throw console.error("Error signing out:",h),h}}}}function Ia(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=Ia(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function Ua(){for(var e,t,s=0,r="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=Ia(e))&&(r&&(r+=" "),r+=t);return r}const Mi=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ni=Ua,nr=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return Ni(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:o}=t,i=Object.keys(n).map(u=>{const d=s==null?void 0:s[u],h=o==null?void 0:o[u];if(d===null)return null;const f=Mi(d)||Mi(h);return n[u][f]}),a=s&&Object.entries(s).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(b=>{let[g,x]=b;return Array.isArray(x)?x.includes({...o,...a}[g]):{...o,...a}[g]===x})?[...u,h,f]:u},[]);return Ni(e,i,l,s==null?void 0:s.class,s==null?void 0:s.className)},Ed=nr("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=v.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...n},o)=>{const i=r?Jc:"button";return c.jsx(i,{className:`${Ed({variant:t,size:s})} ${e||""}`,ref:o,...n})});K.displayName="Button";const Cn="-",Rd=e=>{const t=Dd(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(Cn);return a[0]===""&&a.length!==1&&a.shift(),Ba(a,t)||kd(i)},getConflictingClassGroupIds:(i,a)=>{const l=s[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},Ba=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),n=r?Ba(e.slice(1),r):void 0;if(n)return n;if(t.validators.length===0)return;const o=e.join(Cn);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Ei=/^\[(.+)\]$/,kd=e=>{if(Ei.test(e)){const t=Ei.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},Dd=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return Vd(Object.entries(e.classGroups),s).forEach(([o,i])=>{Xr(i,r,o,t)}),r},Xr=(e,t,s,r)=>{e.forEach(n=>{if(typeof n=="string"){const o=n===""?t:Ri(t,n);o.classGroupId=s;return}if(typeof n=="function"){if(_d(n)){Xr(n(r),t,s,r);return}t.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([o,i])=>{Xr(i,Ri(t,o),s,r)})})},Ri=(e,t)=>{let s=e;return t.split(Cn).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},_d=e=>e.isThemeGetter,Vd=(e,t)=>t?e.map(([s,r])=>{const n=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[s,n]}):e,Od=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const n=(o,i)=>{s.set(o,i),t++,t>e&&(t=0,r=s,s=new Map)};return{get(o){let i=s.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return n(o,i),i},set(o,i){s.has(o)?s.set(o,i):n(o,i)}}},qa="!",Ld=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,n=t[0],o=t.length,i=a=>{const l=[];let u=0,d=0,h;for(let x=0;x<a.length;x++){let y=a[x];if(u===0){if(y===n&&(r||a.slice(x,x+o)===t)){l.push(a.slice(d,x)),d=x+o;continue}if(y==="/"){h=x;continue}}y==="["?u++:y==="]"&&u--}const f=l.length===0?a:a.substring(d),p=f.startsWith(qa),b=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:g}};return s?a=>s({className:a,parseClassName:i}):i},Fd=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},Id=e=>({cache:Od(e.cacheSize),parseClassName:Ld(e),...Rd(e)}),Ud=/\s+/,Bd=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n}=t,o=[],i=e.trim().split(Ud);let a="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=s(u);let b=!!p,g=r(b?f.substring(0,p):f);if(!g){if(!b){a=u+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=u+(a.length>0?" "+a:a);continue}b=!1}const x=Fd(d).join(":"),y=h?x+qa:x,j=y+g;if(o.includes(j))continue;o.push(j);const S=n(g,b);for(let M=0;M<S.length;++M){const A=S[M];o.push(y+A)}a=u+(a.length>0?" "+a:a)}return a};function qd(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=za(t))&&(r&&(r+=" "),r+=s);return r}const za=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=za(e[r]))&&(s&&(s+=" "),s+=t);return s};function zd(e,...t){let s,r,n,o=i;function i(l){const u=t.reduce((d,h)=>h(d),e());return s=Id(u),r=s.cache.get,n=s.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Bd(l,s);return n(l,d),d}return function(){return o(qd.apply(null,arguments))}}const U=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},Wa=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wd=/^\d+\/\d+$/,Kd=new Set(["px","full","screen"]),$d=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Qd=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xd=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ee=e=>Rt(e)||Kd.has(e)||Wd.test(e),Ue=e=>Zt(e,"length",nh),Rt=e=>!!e&&!Number.isNaN(Number(e)),yr=e=>Zt(e,"number",Rt),ts=e=>!!e&&Number.isInteger(Number(e)),Yd=e=>e.endsWith("%")&&Rt(e.slice(0,-1)),D=e=>Wa.test(e),Be=e=>$d.test(e),Zd=new Set(["length","size","percentage"]),Jd=e=>Zt(e,Zd,Ka),eh=e=>Zt(e,"position",Ka),th=new Set(["image","url"]),sh=e=>Zt(e,th,oh),rh=e=>Zt(e,"",ih),ss=()=>!0,Zt=(e,t,s)=>{const r=Wa.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},nh=e=>Gd.test(e)&&!Hd.test(e),Ka=()=>!1,ih=e=>Qd.test(e),oh=e=>Xd.test(e),ah=()=>{const e=U("colors"),t=U("spacing"),s=U("blur"),r=U("brightness"),n=U("borderColor"),o=U("borderRadius"),i=U("borderSpacing"),a=U("borderWidth"),l=U("contrast"),u=U("grayscale"),d=U("hueRotate"),h=U("invert"),f=U("gap"),p=U("gradientColorStops"),b=U("gradientColorStopPositions"),g=U("inset"),x=U("margin"),y=U("opacity"),j=U("padding"),S=U("saturate"),M=U("scale"),A=U("sepia"),R=U("skew"),k=U("space"),w=U("translate"),P=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",D,t],L=()=>[D,t],Rs=()=>["",Ee,Ue],nt=()=>["auto",Rt,D],dr=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],es=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>["start","end","center","between","around","evenly","stretch"],Me=()=>["","0",D],St=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ne=()=>[Rt,D];return{cacheSize:500,separator:":",theme:{colors:[ss],spacing:[Ee,Ue],blur:["none","",Be,D],brightness:Ne(),borderColor:[e],borderRadius:["none","","full",Be,D],borderSpacing:L(),borderWidth:Rs(),contrast:Ne(),grayscale:Me(),hueRotate:Ne(),invert:Me(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[Yd,Ue],inset:$(),margin:$(),opacity:Ne(),padding:L(),saturate:Ne(),scale:Ne(),sepia:Me(),skew:Ne(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",D]}],container:["container"],columns:[{columns:[Be]}],"break-after":[{"break-after":St()}],"break-before":[{"break-before":St()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...dr(),D]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ts,D]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",D]}],grow:[{grow:Me()}],shrink:[{shrink:Me()}],order:[{order:["first","last","none",ts,D]}],"grid-cols":[{"grid-cols":[ss]}],"col-start-end":[{col:["auto",{span:["full",ts,D]},D]}],"col-start":[{"col-start":nt()}],"col-end":[{"col-end":nt()}],"grid-rows":[{"grid-rows":[ss]}],"row-start-end":[{row:["auto",{span:[ts,D]},D]}],"row-start":[{"row-start":nt()}],"row-end":[{"row-end":nt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",D]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",D]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...ce()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ce(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ce(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",D,t]}],"min-w":[{"min-w":[D,t,"min","max","fit"]}],"max-w":[{"max-w":[D,t,"none","full","min","max","fit","prose",{screen:[Be]},Be]}],h:[{h:[D,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[D,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[D,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[D,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Be,Ue]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yr]}],"font-family":[{font:[ss]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",D]}],"line-clamp":[{"line-clamp":["none",Rt,yr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ee,D]}],"list-image":[{"list-image":["none",D]}],"list-style-type":[{list:["none","disc","decimal",D]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...es(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ee,Ue]}],"underline-offset":[{"underline-offset":["auto",Ee,D]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",D]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",D]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...dr(),eh]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jd]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sh]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...es(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:es()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...es()]}],"outline-offset":[{"outline-offset":[Ee,D]}],"outline-w":[{outline:[Ee,Ue]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Rs()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ee,Ue]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Be,rh]}],"shadow-color":[{shadow:[ss]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Be,D]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",D]}],duration:[{duration:Ne()}],ease:[{ease:["linear","in","out","in-out",D]}],delay:[{delay:Ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",D]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[ts,D]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",D]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",D]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",D]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ee,Ue,yr]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lh=zd(ah);function B(...e){return lh(Ua(e))}const H=v.forwardRef(({className:e,...t},s)=>c.jsx("div",{ref:s,className:B("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));H.displayName="Card";const be=v.forwardRef(({className:e,...t},s)=>c.jsx("div",{ref:s,className:B("flex flex-col space-y-1.5 p-6",e),...t}));be.displayName="CardHeader";const we=v.forwardRef(({className:e,...t},s)=>c.jsx("div",{ref:s,className:B("text-2xl font-semibold leading-none tracking-tight",e),...t}));we.displayName="CardTitle";const ir=v.forwardRef(({className:e,...t},s)=>c.jsx("div",{ref:s,className:B("text-sm text-muted-foreground",e),...t}));ir.displayName="CardDescription";const Z=v.forwardRef(({className:e,...t},s)=>c.jsx("div",{ref:s,className:B("p-6 pt-0",e),...t}));Z.displayName="CardContent";const ch=v.forwardRef(({className:e,...t},s)=>c.jsx("div",{ref:s,className:B("flex items-center p-6 pt-0",e),...t}));ch.displayName="CardFooter";const uh=nr("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$a=v.forwardRef(({className:e,variant:t,...s},r)=>c.jsx("div",{ref:r,role:"alert",className:B(uh({variant:t}),e),...s}));$a.displayName="Alert";const Ga=v.forwardRef(({className:e,...t},s)=>c.jsx("h5",{ref:s,className:B("mb-1 font-medium leading-none tracking-tight",e),...t}));Ga.displayName="AlertTitle";const Ha=v.forwardRef(({className:e,...t},s)=>c.jsx("div",{ref:s,className:B("text-sm [&_p]:leading-relaxed",e),...t}));Ha.displayName="AlertDescription";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qa=(...e)=>e.filter((t,s,r)=>!!t&&r.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:o,iconNode:i,...a},l)=>v.createElement("svg",{ref:l,...hh,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:Qa("lucide",n),...a},[...i.map(([u,d])=>v.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(e,t)=>{const s=v.forwardRef(({className:r,...n},o)=>v.createElement(fh,{ref:o,iconNode:t,className:Qa(`lucide-${dh(e)}`,r),...n}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=X("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=X("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=X("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=X("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=X("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=X("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=X("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=X("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=X("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=X("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ch(){const[e,t]=v.useState(!1);return v.useEffect(()=>{new URLSearchParams(window.location.search).get("error")==="domain_not_allowed"&&(t(!0),window.history.replaceState({},document.title,window.location.pathname))},[]),c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"border-b",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center",children:c.jsx(Je,{className:"w-4 h-4 text-primary-foreground"})}),c.jsx("h1",{className:"text-xl font-bold",children:"VisionMates"})]}),c.jsx(K,{onClick:async()=>{try{console.log("🔐 Starting Google OAuth...");const{supabase:s}=await fr(async()=>{const{supabase:i}=await Promise.resolve().then(()=>gr);return{supabase:i}},void 0),r=window.location.href.includes("localhost")?"http://localhost:5173/":"https://0319-2004.github.io/replit_vision_mate/";console.log("🔗 Redirect URL:",r);const{data:n,error:o}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:r,queryParams:{access_type:"offline",prompt:"consent"}}});o?(console.error("❌ OAuth Error:",o),alert(`認証エラー: ${o.message}`)):console.log("✅ OAuth initiated:",n)}catch(s){console.error("❌ Unexpected error:",s),alert(`予期しないエラーが発生しました: ${s}`)}},"data-testid":"button-login",children:"始める"})]})}),e&&c.jsx("div",{className:"max-w-4xl mx-auto px-4 pt-8",children:c.jsxs($a,{variant:"destructive",children:[c.jsx(gh,{className:"h-4 w-4"}),c.jsx(Ga,{children:"アクセス制限 / Access Restricted"}),c.jsxs(Ha,{children:["このアプリケーションは青山学院大学のメールアドレス（@aoyama.ac.jp または @aoyama.jp）でのみご利用いただけます。",c.jsx("br",{}),c.jsx("br",{}),"This application is only available for Aoyama Gakuin University email addresses (@aoyama.ac.jp or @aoyama.jp)."]})]})}),c.jsx("section",{className:"py-20 px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["あなたのアイデアを",c.jsx("span",{className:"text-primary",children:"アクション"}),"に"]}),c.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"小さなアイデアから大きな変化へ。VisionMatesは、あなたのビジョンを形にするためのチームを見つけ、進捗を共有し、一緒に行動を起こせるプラットフォームです。"}),c.jsx(K,{size:"lg",onClick:async()=>{try{console.log("🔐 Starting Google OAuth (Hero)...");const{supabase:s}=await fr(async()=>{const{supabase:i}=await Promise.resolve().then(()=>gr);return{supabase:i}},void 0),r=window.location.href.includes("localhost")?"http://localhost:5173/":"https://0319-2004.github.io/replit_vision_mate/";console.log("🔗 Redirect URL:",r);const{data:n,error:o}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:r,queryParams:{access_type:"offline",prompt:"consent"}}});o?(console.error("❌ OAuth Error:",o),alert(`認証エラー: ${o.message}`)):console.log("✅ OAuth initiated:",n)}catch(s){console.error("❌ Unexpected error:",s),alert(`予期しないエラーが発生しました: ${s}`)}},className:"mr-4","data-testid":"button-hero-signup",children:"あなたのビジョンを始める"}),c.jsx(K,{variant:"outline",size:"lg",onClick:()=>{var s;return(s=document.getElementById("features"))==null?void 0:s.scrollIntoView({behavior:"smooth"})},"data-testid":"button-learn-more",children:"詳しく知る"})]})}),c.jsx("section",{id:"features",className:"py-20 px-4 bg-muted/50",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"ビジョンを現実にする、すべてのツール"}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs(H,{children:[c.jsxs(be,{children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:c.jsx(Je,{className:"w-6 h-6 text-primary"})}),c.jsx(we,{children:"ビジョン主導プロジェクト"})]}),c.jsx(Z,{children:c.jsx("p",{className:"text-muted-foreground",children:"あなたのアイデアや解決したい課題をプロジェクトとして投稿できます。規模の大小は問いません。"})})]}),c.jsxs(H,{children:[c.jsxs(be,{children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:c.jsxs("div",{className:"flex gap-1",children:[c.jsx($t,{className:"w-4 h-4 text-primary"}),c.jsx(ys,{className:"w-4 h-4 text-primary"})]})}),c.jsx(we,{children:"参加シグナル"})]}),c.jsx(Z,{children:c.jsx("p",{className:"text-muted-foreground",children:"ウォッチ、手を上げる、コミットで気になるプロジェクトへの参加意思を表明できます。"})})]}),c.jsxs(H,{children:[c.jsxs(be,{children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:c.jsx(yh,{className:"w-6 h-6 text-primary"})}),c.jsx(we,{children:"進捗更新"})]}),c.jsx(Z,{children:c.jsx("p",{className:"text-muted-foreground",children:"チャットで埋もれがちな進捗も、わかりやすいタイムライン表示で確認できます。"})})]}),c.jsxs(H,{children:[c.jsxs(be,{children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:c.jsx(xs,{className:"w-6 h-6 text-primary"})}),c.jsx(we,{children:"発見モード"})]}),c.jsx(Z,{children:c.jsx("p",{className:"text-muted-foreground",children:"カード形式でプロジェクトをスワイプして、興味のあるものを素早く発見できます。"})})]}),c.jsxs(H,{children:[c.jsxs(be,{children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:c.jsx(jh,{className:"w-6 h-6 text-primary"})}),c.jsx(we,{children:"簡単シェア"})]}),c.jsx(Z,{children:c.jsx("p",{className:"text-muted-foreground",children:"LINE、Instagram、LinkedInなどで簡単に友達を招待できます。"})})]}),c.jsxs(H,{children:[c.jsxs(be,{children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:c.jsx("div",{className:"text-primary text-lg",children:"👏"})}),c.jsx(we,{children:"軽量コラボレーション"})]}),c.jsx(Z,{children:c.jsx("p",{className:"text-muted-foreground",children:"コメントやリアクションでお互いを応援し、一緒にモチベーションを高めていけます。"})})]})]})]})}),c.jsx("section",{className:"py-20 px-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsx("h2",{className:"text-3xl font-bold mb-6",children:"あなたのビジョンを現実にしませんか？"}),c.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"VisionMatesで、今日からあなたのアイデアを行動に変えていきましょう。"}),c.jsx(K,{size:"lg",onClick:async()=>{try{console.log("🔐 Starting Google OAuth (CTA)...");const{supabase:s}=await fr(async()=>{const{supabase:i}=await Promise.resolve().then(()=>gr);return{supabase:i}},void 0),r=window.location.href.includes("localhost")?"http://localhost:5173/":"https://0319-2004.github.io/replit_vision_mate/";console.log("🔗 Redirect URL:",r);const{data:n,error:o}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:r,queryParams:{access_type:"offline",prompt:"consent"}}});o?(console.error("❌ OAuth Error:",o),alert(`認証エラー: ${o.message}`)):console.log("✅ OAuth initiated:",n)}catch(s){console.error("❌ Unexpected error:",s),alert(`予期しないエラーが発生しました: ${s}`)}},"data-testid":"button-cta-signup",children:"今すぐ始める"})]})}),c.jsx("footer",{className:"border-t py-8 px-4",children:c.jsx("div",{className:"max-w-6xl mx-auto text-center text-muted-foreground",children:c.jsx("p",{children:"© 2024 VisionMates. アイデアをアクションに。"})})})]})}function ee(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Th(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Os=43200,ki=1440;let Ah={};function Mh(){return Ah}function Di(e){const t=ee(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function Bs(e,t){const s=ee(e),r=ee(t),n=s.getTime()-r.getTime();return n<0?-1:n>0?1:n}function Nh(e){return Th(e,Date.now())}function Eh(e,t){const s=ee(e),r=ee(t),n=s.getFullYear()-r.getFullYear(),o=s.getMonth()-r.getMonth();return n*12+o}function Rh(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function kh(e,t){return+ee(e)-+ee(t)}function Dh(e){const t=ee(e);return t.setHours(23,59,59,999),t}function _h(e){const t=ee(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function Vh(e){const t=ee(e);return+Dh(t)==+_h(t)}function Oh(e,t){const s=ee(e),r=ee(t),n=Bs(s,r),o=Math.abs(Eh(s,r));let i;if(o<1)i=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-n*o);let a=Bs(s,r)===-n;Vh(ee(e))&&o===1&&Bs(e,r)===1&&(a=!1),i=n*(o-Number(a))}return i===0?0:i}function Lh(e,t,s){const r=kh(e,t)/1e3;return Rh(s==null?void 0:s.roundingMethod)(r)}const Fh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ih=(e,t,s)=>{let r;const n=Fh[e];return typeof n=="string"?r=n:t===1?r=n.one:r=n.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function vr(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const Uh={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bh={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qh={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zh={date:vr({formats:Uh,defaultWidth:"full"}),time:vr({formats:Bh,defaultWidth:"full"}),dateTime:vr({formats:qh,defaultWidth:"full"})},Wh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kh=(e,t,s,r)=>Wh[e];function rs(e){return(t,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let n;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=s!=null&&s.width?String(s.width):i;n=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return n[o]}}const $h={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hh={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qh={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zh=(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Jh={ordinalNumber:Zh,era:rs({values:$h,defaultWidth:"wide"}),quarter:rs({values:Gh,defaultWidth:"wide",argumentCallback:e=>e-1}),month:rs({values:Hh,defaultWidth:"wide"}),day:rs({values:Qh,defaultWidth:"wide"}),dayPeriod:rs({values:Xh,defaultWidth:"wide",formattingValues:Yh,defaultFormattingWidth:"wide"})};function ns(e){return(t,s={})=>{const r=s.width,n=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(n);if(!o)return null;const i=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?tf(a,h=>h.test(i)):ef(a,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(l):l,u=s.valueCallback?s.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function ef(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function tf(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function sf(e){return(t,s={})=>{const r=t.match(e.matchPattern);if(!r)return null;const n=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=s.valueCallback?s.valueCallback(i):i;const a=t.slice(n.length);return{value:i,rest:a}}}const rf=/^(\d+)(th|st|nd|rd)?/i,nf=/\d+/i,of={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},af={any:[/^b/i,/^(a|c)/i]},lf={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cf={any:[/1/i,/2/i,/3/i,/4/i]},uf={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},df={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hf={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ff={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mf={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pf={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gf={ordinalNumber:sf({matchPattern:rf,parsePattern:nf,valueCallback:e=>parseInt(e,10)}),era:ns({matchPatterns:of,defaultMatchWidth:"wide",parsePatterns:af,defaultParseWidth:"any"}),quarter:ns({matchPatterns:lf,defaultMatchWidth:"wide",parsePatterns:cf,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ns({matchPatterns:uf,defaultMatchWidth:"wide",parsePatterns:df,defaultParseWidth:"any"}),day:ns({matchPatterns:hf,defaultMatchWidth:"wide",parsePatterns:ff,defaultParseWidth:"any"}),dayPeriod:ns({matchPatterns:mf,defaultMatchWidth:"any",parsePatterns:pf,defaultParseWidth:"any"})},yf={code:"en-US",formatDistance:Ih,formatLong:zh,formatRelative:Kh,localize:Jh,match:gf,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vf(e,t,s){const r=Mh(),n=(s==null?void 0:s.locale)??r.locale??yf,o=2520,i=Bs(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:i});let l,u;i>0?(l=ee(t),u=ee(e)):(l=ee(e),u=ee(t));const d=Lh(u,l),h=(Di(u)-Di(l))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return s!=null&&s.includeSeconds?d<5?n.formatDistance("lessThanXSeconds",5,a):d<10?n.formatDistance("lessThanXSeconds",10,a):d<20?n.formatDistance("lessThanXSeconds",20,a):d<40?n.formatDistance("halfAMinute",0,a):d<60?n.formatDistance("lessThanXMinutes",1,a):n.formatDistance("xMinutes",1,a):f===0?n.formatDistance("lessThanXMinutes",1,a):n.formatDistance("xMinutes",f,a);if(f<45)return n.formatDistance("xMinutes",f,a);if(f<90)return n.formatDistance("aboutXHours",1,a);if(f<ki){const b=Math.round(f/60);return n.formatDistance("aboutXHours",b,a)}else{if(f<o)return n.formatDistance("xDays",1,a);if(f<Os){const b=Math.round(f/ki);return n.formatDistance("xDays",b,a)}else if(f<Os*2)return p=Math.round(f/Os),n.formatDistance("aboutXMonths",p,a)}if(p=Oh(u,l),p<12){const b=Math.round(f/Os);return n.formatDistance("xMonths",b,a)}else{const b=p%12,g=Math.trunc(p/12);return b<3?n.formatDistance("aboutXYears",g,a):b<9?n.formatDistance("overXYears",g,a):n.formatDistance("almostXYears",g+1,a)}}function An(e,t){return vf(e,Nh(e),t)}function xf(){const{user:e}=Pn();console.log("Current user:",e),console.log("Is user logged in:",!!e);const{data:t=[],isLoading:s,error:r}=gs({queryKey:["/api/projects"]});return console.log("Projects loading:",s),console.log("Projects data:",t),console.log("Projects error:",r),s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"プロジェクト読み込み中..."})]})}):c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["おかえりなさい、",(e==null?void 0:e.firstName)||"ビジョナリー","さん！👋"]}),c.jsx("p",{className:"text-muted-foreground",children:"新しいプロジェクトを発見したり、あなたのビジョンをコミュニティと共有しましょう。"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ge,{href:"/discover",children:c.jsxs(K,{variant:"outline","data-testid":"button-discover",children:[c.jsx(xs,{className:"w-4 h-4 mr-2"}),"発見"]})}),c.jsx(ge,{href:"/projects/new",children:c.jsxs(K,{"data-testid":"button-create-project",children:[c.jsx(vs,{className:"w-4 h-4 mr-2"}),"プロジェクト作成"]})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[c.jsx(H,{children:c.jsx(Z,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Je,{className:"w-5 h-5 text-primary mr-2"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold",children:t.length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"アクティブプロジェクト"})]})]})})}),c.jsx(H,{children:c.jsx(Z,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx($t,{className:"w-5 h-5 text-blue-500 mr-2"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold",children:"👀"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"ウォッチ中"})]})]})})}),c.jsx(H,{children:c.jsx(Z,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(ys,{className:"w-5 h-5 text-yellow-500 mr-2"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold",children:"✋"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"手を上げた"})]})]})})}),c.jsx(H,{children:c.jsx(Z,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Je,{className:"w-5 h-5 text-green-500 mr-2"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold",children:"🚀"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"コミット済み"})]})]})})})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"最近のプロジェクト"}),c.jsx(ge,{href:"/projects",children:c.jsx(K,{variant:"ghost","data-testid":"button-view-all-projects",children:"すべて表示"})})]}),t.length===0?c.jsx(H,{children:c.jsxs(Z,{className:"py-12 text-center",children:[c.jsx(Je,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"まだプロジェクトがありません"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"あなたのビジョンをシェアして、みんなで行動を起こしてみませんか！"}),c.jsx(ge,{href:"/projects/new",children:c.jsxs(K,{"data-testid":"button-first-project",children:[c.jsx(vs,{className:"w-4 h-4 mr-2"}),"最初のプロジェクトを作成"]})})]})}):c.jsx("div",{className:"grid gap-6",children:t.slice(0,6).map(n=>c.jsxs(H,{className:"hover-elevate",children:[c.jsx(be,{children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{className:"flex-1",children:[c.jsx(we,{className:"text-lg mb-2",children:c.jsx(ge,{href:`/projects/${n.id}`,className:"hover:text-primary",children:n.title})}),c.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2",children:n.description})]})})}),c.jsx(Z,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx($t,{className:"w-4 h-4"}),"0"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(ys,{className:"w-4 h-4"}),"0"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Je,{className:"w-4 h-4"}),"0"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(xh,{className:"w-4 h-4"}),"0"]})]}),c.jsx("span",{className:"text-sm text-muted-foreground",children:(()=>{try{return n.createdAt?An(new Date(n.createdAt),{addSuffix:!0}):""}catch{return""}})()})]})})]},n.id))})]})]})}var Mn="Avatar",[bf,jv]=aa(Mn),[wf,Za]=bf(Mn),Ja=v.forwardRef((e,t)=>{const{__scopeAvatar:s,...r}=e,[n,o]=v.useState("idle");return c.jsx(wf,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:c.jsx(bt.span,{...r,ref:t})})});Ja.displayName=Mn;var el="AvatarImage",tl=v.forwardRef((e,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:n=()=>{},...o}=e,i=Za(el,s),a=Sf(r,o),l=eu(u=>{n(u),i.onImageLoadingStatusChange(u)});return _r(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(bt.img,{...o,ref:t,src:r}):null});tl.displayName=el;var sl="AvatarFallback",rl=v.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:r,...n}=e,o=Za(sl,s),[i,a]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?c.jsx(bt.span,{...n,ref:t}):null});rl.displayName=sl;function _i(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Sf(e,{referrerPolicy:t,crossOrigin:s}){const r=Pf(),n=v.useRef(null),o=r?(n.current||(n.current=new window.Image),n.current):null,[i,a]=v.useState(()=>_i(o,e));return _r(()=>{a(_i(o,e))},[o,e]),_r(()=>{const l=h=>()=>{a(h)};if(!o)return;const u=l("loaded"),d=l("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof s=="string"&&(o.crossOrigin=s),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,s,t]),i}function jf(){return()=>{}}function Pf(){return v.useSyncExternalStore(jf,()=>!0,()=>!1)}var nl=Ja,il=tl,ol=rl;const Nn=v.forwardRef(({className:e,...t},s)=>c.jsx(nl,{ref:s,className:B(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Nn.displayName=nl.displayName;const En=v.forwardRef(({className:e,...t},s)=>c.jsx(il,{ref:s,className:B("aspect-square h-full w-full",e),...t}));En.displayName=il.displayName;const Rn=v.forwardRef(({className:e,...t},s)=>c.jsx(ol,{ref:s,className:B("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Rn.displayName=ol.displayName;const Cf=1,Tf=1e6;let xr=0;function Af(){return xr=(xr+1)%Number.MAX_SAFE_INTEGER,xr.toString()}const br=new Map,Vi=e=>{if(br.has(e))return;const t=setTimeout(()=>{br.delete(e),us({type:"REMOVE_TOAST",toastId:e})},Tf);br.set(e,t)},Mf=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Cf)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Vi(s):e.toasts.forEach(r=>{Vi(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},qs=[];let zs={toasts:[]};function us(e){zs=Mf(zs,e),qs.forEach(t=>{t(zs)})}function Nf({...e}){const t=Af(),s=n=>us({type:"UPDATE_TOAST",toast:{...n,id:t}}),r=()=>us({type:"DISMISS_TOAST",toastId:t});return us({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||r()}}}),{id:t,dismiss:r,update:s}}function al(){const[e,t]=v.useState(zs);return v.useEffect(()=>(qs.push(t),()=>{const s=qs.indexOf(t);s>-1&&qs.splice(s,1)}),[e]),{...e,toast:Nf,dismiss:s=>us({type:"DISMISS_TOAST",toastId:s})}}function Ef(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...r)=>e(...r);return new Proxy(s,{get:(r,n)=>n==="create"?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}function or(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Yr=e=>Array.isArray(e);function ll(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}function bs(e){return typeof e=="string"||Array.isArray(e)}function Oi(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function kn(e,t,s,r){if(typeof t=="function"){const[n,o]=Oi(r);t=t(s!==void 0?s:e.custom,n,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,o]=Oi(r);t=t(s!==void 0?s:e.custom,n,o)}return t}function ar(e,t,s){const r=e.getProps();return kn(r,t,s!==void 0?s:r.custom,e)}const Dn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_n=["initial",...Dn],As=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wt=new Set(As),Ve=e=>e*1e3,Oe=e=>e/1e3,Rf={type:"spring",stiffness:500,damping:25,restSpeed:10},kf=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Df={type:"keyframes",duration:.8},_f={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vf=(e,{keyframes:t})=>t.length>2?Df:wt.has(e)?e.startsWith("scale")?kf(t[1]):Rf:_f;function Vn(e,t){return e?e[t]||e.default||e:void 0}const Of={skipAnimations:!1,useManualTiming:!1},Lf=e=>e!==null;function lr(e,{repeat:t,repeatType:s="loop"},r){const n=e.filter(Lf),o=t&&s!=="loop"&&t%2===1?0:n.length-1;return!o||r===void 0?n[o]:r}const ne=e=>e;let Zr=ne;function Ff(e){let t=new Set,s=new Set,r=!1,n=!1;const o=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(u){o.has(u)&&(l.schedule(u),e()),u(i)}const l={schedule:(u,d=!1,h=!1)=>{const p=h&&r?t:s;return d&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(i=u,r){n=!0;return}r=!0,[t,s]=[s,t],s.clear(),t.forEach(a),r=!1,n&&(n=!1,l.process(u))}};return l}const Ls=["read","resolveKeyframes","update","preRender","render","postRender"],If=40;function cl(e,t){let s=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,i=Ls.reduce((y,j)=>(y[j]=Ff(o),y),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=i,p=()=>{const y=performance.now();s=!1,n.delta=r?1e3/60:Math.max(Math.min(y-n.timestamp,If),1),n.timestamp=y,n.isProcessing=!0,a.process(n),l.process(n),u.process(n),d.process(n),h.process(n),f.process(n),n.isProcessing=!1,s&&t&&(r=!1,e(p))},b=()=>{s=!0,r=!0,n.isProcessing||e(p)};return{schedule:Ls.reduce((y,j)=>{const S=i[j];return y[j]=(M,A=!1,R=!1)=>(s||b(),S.schedule(M,A,R)),y},{}),cancel:y=>{for(let j=0;j<Ls.length;j++)i[Ls[j]].cancel(y)},state:n,steps:i}}const{schedule:I,cancel:Fe,state:J,steps:wr}=cl(typeof requestAnimationFrame<"u"?requestAnimationFrame:ne,!0),ul=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Uf=1e-7,Bf=12;function qf(e,t,s,r,n){let o,i,a=0;do i=t+(s-t)/2,o=ul(i,r,n)-e,o>0?s=i:t=i;while(Math.abs(o)>Uf&&++a<Bf);return i}function Ms(e,t,s,r){if(e===t&&s===r)return ne;const n=o=>qf(o,0,1,e,s);return o=>o===0||o===1?o:ul(n(o),t,r)}const dl=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hl=e=>t=>1-e(1-t),fl=Ms(.33,1.53,.69,.99),On=hl(fl),ml=dl(On),pl=e=>(e*=2)<1?.5*On(e):.5*(2-Math.pow(2,-10*(e-1))),Ln=e=>1-Math.sin(Math.acos(e)),gl=hl(Ln),yl=dl(Ln),vl=e=>/^0[^.\s]+$/u.test(e);function zf(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||vl(e):!0}const xl=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),bl=e=>t=>typeof t=="string"&&t.startsWith(e),wl=bl("--"),Wf=bl("var(--"),Fn=e=>Wf(e)?Kf.test(e.split("/*")[0].trim()):!1,Kf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$f=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gf(e){const t=$f.exec(e);if(!t)return[,];const[,s,r,n]=t;return[`--${s??r}`,n]}function Sl(e,t,s=1){const[r,n]=Gf(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return xl(i)?parseFloat(i):i}return Fn(n)?Sl(n,t,s+1):n}const Ie=(e,t,s)=>s>t?t:s<e?e:s,Jt={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ws={...Jt,transform:e=>Ie(0,1,e)},Fs={...Jt,default:1},Ns=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ze=Ns("deg"),Te=Ns("%"),E=Ns("px"),Hf=Ns("vh"),Qf=Ns("vw"),Li={...Te,parse:e=>Te.parse(e)/100,transform:e=>Te.transform(e*100)},Xf=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Fi=e=>e===Jt||e===E,Ii=(e,t)=>parseFloat(e.split(", ")[t]),Ui=(e,t)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const n=r.match(/^matrix3d\((.+)\)$/u);if(n)return Ii(n[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?Ii(o[1],e):0}},Yf=new Set(["x","y","z"]),Zf=As.filter(e=>!Yf.has(e));function Jf(e){const t=[];return Zf.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Gt={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ui(4,13),y:Ui(5,14)};Gt.translateX=Gt.x;Gt.translateY=Gt.y;const jl=e=>t=>t.test(e),em={test:e=>e==="auto",parse:e=>e},Pl=[Jt,E,Te,ze,Qf,Hf,em],Bi=e=>Pl.find(jl(e)),yt=new Set;let Jr=!1,en=!1;function Cl(){if(en){const e=Array.from(yt).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const n=Jf(r);n.length&&(s.set(r,n),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const n=s.get(r);n&&n.forEach(([o,i])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}en=!1,Jr=!1,yt.forEach(e=>e.complete()),yt.clear()}function Tl(){yt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(en=!0)})}function tm(){Tl(),Cl()}class In{constructor(t,s,r,n,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=n,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(yt.add(this),Jr||(Jr=!0,I.read(Tl),I.resolveKeyframes(Cl))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:n}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const i=n==null?void 0:n.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&s){const l=r.readValue(s,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),n&&i===void 0&&n.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),yt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,yt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ds=e=>Math.round(e*1e5)/1e5,Un=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sm(e){return e==null}const rm=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bn=(e,t)=>s=>!!(typeof s=="string"&&rm.test(s)&&s.startsWith(e)||t&&!sm(s)&&Object.prototype.hasOwnProperty.call(s,t)),Al=(e,t,s)=>r=>{if(typeof r!="string")return r;const[n,o,i,a]=r.match(Un);return{[e]:parseFloat(n),[t]:parseFloat(o),[s]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},nm=e=>Ie(0,255,e),Sr={...Jt,transform:e=>Math.round(nm(e))},ct={test:Bn("rgb","red"),parse:Al("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Sr.transform(e)+", "+Sr.transform(t)+", "+Sr.transform(s)+", "+ds(ws.transform(r))+")"};function im(e){let t="",s="",r="",n="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,s+=s,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const tn={test:Bn("#"),parse:im,transform:ct.transform},Ct={test:Bn("hsl","hue"),parse:Al("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+Te.transform(ds(t))+", "+Te.transform(ds(s))+", "+ds(ws.transform(r))+")"},se={test:e=>ct.test(e)||tn.test(e)||Ct.test(e),parse:e=>ct.test(e)?ct.parse(e):Ct.test(e)?Ct.parse(e):tn.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ct.transform(e):Ct.transform(e)},om=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function am(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Un))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(om))===null||s===void 0?void 0:s.length)||0)>0}const Ml="number",Nl="color",lm="var",cm="var(",qi="${}",um=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ss(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},n=[];let o=0;const a=t.replace(um,l=>(se.test(l)?(r.color.push(o),n.push(Nl),s.push(se.parse(l))):l.startsWith(cm)?(r.var.push(o),n.push(lm),s.push(l)):(r.number.push(o),n.push(Ml),s.push(parseFloat(l))),++o,qi)).split(qi);return{values:s,split:a,indexes:r,types:n}}function El(e){return Ss(e).values}function Rl(e){const{split:t,types:s}=Ss(e),r=t.length;return n=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],n[i]!==void 0){const a=s[i];a===Ml?o+=ds(n[i]):a===Nl?o+=se.transform(n[i]):o+=n[i]}return o}}const dm=e=>typeof e=="number"?0:e;function hm(e){const t=El(e);return Rl(e)(t.map(dm))}const st={test:am,parse:El,createTransformer:Rl,getAnimatableNone:hm},fm=new Set(["brightness","contrast","saturate","opacity"]);function mm(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(Un)||[];if(!r)return e;const n=s.replace(r,"");let o=fm.has(t)?1:0;return r!==s&&(o*=100),t+"("+o+n+")"}const pm=/\b([a-z-]*)\(.*?\)/gu,sn={...st,getAnimatableNone:e=>{const t=e.match(pm);return t?t.map(mm).join(" "):e}},gm={borderWidth:E,borderTopWidth:E,borderRightWidth:E,borderBottomWidth:E,borderLeftWidth:E,borderRadius:E,radius:E,borderTopLeftRadius:E,borderTopRightRadius:E,borderBottomRightRadius:E,borderBottomLeftRadius:E,width:E,maxWidth:E,height:E,maxHeight:E,top:E,right:E,bottom:E,left:E,padding:E,paddingTop:E,paddingRight:E,paddingBottom:E,paddingLeft:E,margin:E,marginTop:E,marginRight:E,marginBottom:E,marginLeft:E,backgroundPositionX:E,backgroundPositionY:E},ym={rotate:ze,rotateX:ze,rotateY:ze,rotateZ:ze,scale:Fs,scaleX:Fs,scaleY:Fs,scaleZ:Fs,skew:ze,skewX:ze,skewY:ze,distance:E,translateX:E,translateY:E,translateZ:E,x:E,y:E,z:E,perspective:E,transformPerspective:E,opacity:ws,originX:Li,originY:Li,originZ:E},zi={...Jt,transform:Math.round},qn={...gm,...ym,zIndex:zi,size:E,fillOpacity:ws,strokeOpacity:ws,numOctaves:zi},vm={...qn,color:se,backgroundColor:se,outlineColor:se,fill:se,stroke:se,borderColor:se,borderTopColor:se,borderRightColor:se,borderBottomColor:se,borderLeftColor:se,filter:sn,WebkitFilter:sn},zn=e=>vm[e];function kl(e,t){let s=zn(e);return s!==sn&&(s=st),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const xm=new Set(["auto","none","0"]);function bm(e,t,s){let r=0,n;for(;r<e.length&&!n;){const o=e[r];typeof o=="string"&&!xm.has(o)&&Ss(o).values.length&&(n=e[r]),r++}if(n&&s)for(const o of t)e[o]=kl(s,n)}class Dl extends In{constructor(t,s,r,n,o){super(t,s,r,n,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Fn(u))){const d=Sl(u,s.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Xf.has(r)||t.length!==2)return;const[n,o]=t,i=Bi(n),a=Bi(o);if(i!==a)if(Fi(i)&&Fi(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let n=0;n<t.length;n++)zf(t[n])&&r.push(n);r.length&&bm(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gt[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const n=s[s.length-1];n!==void 0&&t.getValue(r,n).jump(n,!1)}measureEndState(){var t;const{element:s,name:r,unresolvedKeyframes:n}=this;if(!s||!s.current)return;const o=s.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=Gt[r](s.measureViewportBox(),window.getComputedStyle(s.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{s.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Wn(e){return typeof e=="function"}let Ws;function wm(){Ws=void 0}const Ae={now:()=>(Ws===void 0&&Ae.set(J.isProcessing||Of.useManualTiming?J.timestamp:performance.now()),Ws),set:e=>{Ws=e,queueMicrotask(wm)}},Wi=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(st.test(e)||e==="0")&&!e.startsWith("url("));function Sm(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function jm(e,t,s,r){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=Wi(n,t),a=Wi(o,t);return!i||!a?!1:Sm(e)||(s==="spring"||Wn(s))&&r}const Pm=40;class _l{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ae.now(),this.options={autoplay:t,delay:s,type:r,repeat:n,repeatDelay:o,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Pm?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&tm(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=Ae.now(),this.hasAttemptedResolve=!0;const{name:r,type:n,velocity:o,delay:i,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!jm(t,r,n,o))if(i)this.options.duration=0;else{l==null||l(lr(t,this.options,s)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,s);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...d},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ht=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r},Vl=(e,t,s=10)=>{let r="";const n=Math.max(Math.round(t/s),2);for(let o=0;o<n;o++)r+=e(Ht(0,n-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Ol(e,t){return t?e*(1e3/t):0}const Cm=5;function Ll(e,t,s){const r=Math.max(t-Cm,0);return Ol(s-e(r),t-r)}const W={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jr=.001;function Tm({duration:e=W.duration,bounce:t=W.bounce,velocity:s=W.velocity,mass:r=W.mass}){let n,o,i=1-t;i=Ie(W.minDamping,W.maxDamping,i),e=Ie(W.minDuration,W.maxDuration,Oe(e)),i<1?(n=u=>{const d=u*i,h=d*e,f=d-s,p=rn(u,i),b=Math.exp(-h);return jr-f/p*b},o=u=>{const h=u*i*e,f=h*s+s,p=Math.pow(i,2)*Math.pow(u,2)*e,b=Math.exp(-h),g=rn(Math.pow(u,2),i);return(-n(u)+jr>0?-1:1)*((f-p)*b)/g}):(n=u=>{const d=Math.exp(-u*e),h=(u-s)*e+1;return-jr+d*h},o=u=>{const d=Math.exp(-u*e),h=(s-u)*(e*e);return d*h});const a=5/e,l=Mm(n,o,a);if(e=Ve(e),isNaN(l))return{stiffness:W.stiffness,damping:W.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const Am=12;function Mm(e,t,s){let r=s;for(let n=1;n<Am;n++)r=r-e(r)/t(r);return r}function rn(e,t){return e*Math.sqrt(1-t*t)}const nn=2e4;function Fl(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<nn;)t+=s,r=e.next(t);return t>=nn?1/0:t}const Nm=["duration","bounce"],Em=["stiffness","damping","mass"];function Ki(e,t){return t.some(s=>e[s]!==void 0)}function Rm(e){let t={velocity:W.velocity,stiffness:W.stiffness,damping:W.damping,mass:W.mass,isResolvedFromDuration:!1,...e};if(!Ki(e,Em)&&Ki(e,Nm))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),n=r*r,o=2*Ie(.05,1,1-e.bounce)*Math.sqrt(n);t={...t,mass:W.mass,stiffness:n,damping:o}}else{const s=Tm(e);t={...t,...s,mass:W.mass},t.isResolvedFromDuration=!0}return t}function Il(e=W.visualDuration,t=W.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:n}=s;const o=s.keyframes[0],i=s.keyframes[s.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=Rm({...s,velocity:-Oe(s.velocity||0)}),b=f||0,g=u/(2*Math.sqrt(l*d)),x=i-o,y=Oe(Math.sqrt(l/d)),j=Math.abs(x)<5;r||(r=j?W.restSpeed.granular:W.restSpeed.default),n||(n=j?W.restDelta.granular:W.restDelta.default);let S;if(g<1){const A=rn(y,g);S=R=>{const k=Math.exp(-g*y*R);return i-k*((b+g*y*x)/A*Math.sin(A*R)+x*Math.cos(A*R))}}else if(g===1)S=A=>i-Math.exp(-y*A)*(x+(b+y*x)*A);else{const A=y*Math.sqrt(g*g-1);S=R=>{const k=Math.exp(-g*y*R),w=Math.min(A*R,300);return i-k*((b+g*y*x)*Math.sinh(w)+A*x*Math.cosh(w))/A}}const M={calculatedDuration:p&&h||null,next:A=>{const R=S(A);if(p)a.done=A>=h;else{let k=0;g<1&&(k=A===0?Ve(b):Ll(S,A,R));const w=Math.abs(k)<=r,P=Math.abs(i-R)<=n;a.done=w&&P}return a.value=a.done?i:R,a},toString:()=>{const A=Math.min(Fl(M),nn),R=Vl(k=>M.next(A*k).value,A,30);return A+"ms "+R}};return M}function $i({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:o=500,modifyTarget:i,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=w=>a!==void 0&&w<a||l!==void 0&&w>l,b=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let g=s*t;const x=h+g,y=i===void 0?x:i(x);y!==x&&(g=y-h);const j=w=>-g*Math.exp(-w/r),S=w=>y+j(w),M=w=>{const P=j(w),V=S(w);f.done=Math.abs(P)<=u,f.value=f.done?y:V};let A,R;const k=w=>{p(f.value)&&(A=w,R=Il({keyframes:[f.value,b(f.value)],velocity:Ll(S,w,f.value),damping:n,stiffness:o,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:w=>{let P=!1;return!R&&A===void 0&&(P=!0,M(w),k(w)),A!==void 0&&w>=A?R.next(w-A):(!P&&M(w),f)}}}const km=Ms(.42,0,1,1),Dm=Ms(0,0,.58,1),Ul=Ms(.42,0,.58,1),_m=e=>Array.isArray(e)&&typeof e[0]!="number",Kn=e=>Array.isArray(e)&&typeof e[0]=="number",Gi={linear:ne,easeIn:km,easeInOut:Ul,easeOut:Dm,circIn:Ln,circInOut:yl,circOut:gl,backIn:On,backInOut:ml,backOut:fl,anticipate:pl},Hi=e=>{if(Kn(e)){Zr(e.length===4);const[t,s,r,n]=e;return Ms(t,s,r,n)}else if(typeof e=="string")return Zr(Gi[e]!==void 0),Gi[e];return e},Vm=(e,t)=>s=>t(e(s)),et=(...e)=>e.reduce(Vm),q=(e,t,s)=>e+(t-e)*s;function Pr(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function Om({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let n=0,o=0,i=0;if(!t)n=o=i=s;else{const a=s<.5?s*(1+t):s+t-s*t,l=2*s-a;n=Pr(l,a,e+1/3),o=Pr(l,a,e),i=Pr(l,a,e-1/3)}return{red:Math.round(n*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function Qs(e,t){return s=>s>0?t:e}const Cr=(e,t,s)=>{const r=e*e,n=s*(t*t-r)+r;return n<0?0:Math.sqrt(n)},Lm=[tn,ct,Ct],Fm=e=>Lm.find(t=>t.test(e));function Qi(e){const t=Fm(e);if(!t)return!1;let s=t.parse(e);return t===Ct&&(s=Om(s)),s}const Xi=(e,t)=>{const s=Qi(e),r=Qi(t);if(!s||!r)return Qs(e,t);const n={...s};return o=>(n.red=Cr(s.red,r.red,o),n.green=Cr(s.green,r.green,o),n.blue=Cr(s.blue,r.blue,o),n.alpha=q(s.alpha,r.alpha,o),ct.transform(n))},on=new Set(["none","hidden"]);function Im(e,t){return on.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function Um(e,t){return s=>q(e,t,s)}function $n(e){return typeof e=="number"?Um:typeof e=="string"?Fn(e)?Qs:se.test(e)?Xi:zm:Array.isArray(e)?Bl:typeof e=="object"?se.test(e)?Xi:Bm:Qs}function Bl(e,t){const s=[...e],r=s.length,n=e.map((o,i)=>$n(o)(o,t[i]));return o=>{for(let i=0;i<r;i++)s[i]=n[i](o);return s}}function Bm(e,t){const s={...e,...t},r={};for(const n in s)e[n]!==void 0&&t[n]!==void 0&&(r[n]=$n(e[n])(e[n],t[n]));return n=>{for(const o in r)s[o]=r[o](n);return s}}function qm(e,t){var s;const r=[],n={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const i=t.types[o],a=e.indexes[i][n[i]],l=(s=e.values[a])!==null&&s!==void 0?s:0;r[o]=l,n[i]++}return r}const zm=(e,t)=>{const s=st.createTransformer(t),r=Ss(e),n=Ss(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?on.has(e)&&!n.values.length||on.has(t)&&!r.values.length?Im(e,t):et(Bl(qm(r,n),n.values),s):Qs(e,t)};function ql(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?q(e,t,s):$n(e)(e,t)}function Wm(e,t,s){const r=[],n=s||ql,o=e.length-1;for(let i=0;i<o;i++){let a=n(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||ne:t;a=et(l,a)}r.push(a)}return r}function zl(e,t,{clamp:s=!0,ease:r,mixer:n}={}){const o=e.length;if(Zr(o===t.length),o===1)return()=>t[0];if(o===2&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=Wm(t,r,n),a=i.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Ht(e[d],e[d+1],u);return i[d](h)};return s?u=>l(Ie(e[0],e[o-1],u)):l}function Km(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const n=Ht(0,t,r);e.push(q(s,1,n))}}function $m(e){const t=[0];return Km(t,e.length-1),t}function Gm(e,t){return e.map(s=>s*t)}function Hm(e,t){return e.map(()=>t||Ul).splice(0,e.length-1)}function Xs({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const n=_m(r)?r.map(Hi):Hi(r),o={done:!1,value:t[0]},i=Gm(s&&s.length===t.length?s:$m(t),e),a=zl(i,t,{ease:Array.isArray(n)?n:Hm(t,n)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const Qm=e=>{const t=({timestamp:s})=>e(s);return{start:()=>I.update(t,!0),stop:()=>Fe(t),now:()=>J.isProcessing?J.timestamp:Ae.now()}},Xm={decay:$i,inertia:$i,tween:Xs,keyframes:Xs,spring:Il},Ym=e=>e/100;class Gn extends _l{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:s,motionValue:r,element:n,keyframes:o}=this.options,i=(n==null?void 0:n.KeyframeResolver)||In,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new i(o,a,s,r,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:r=0,repeatDelay:n=0,repeatType:o,velocity:i=0}=this.options,a=Wn(s)?s:Xm[s]||Xs;let l,u;a!==Xs&&typeof t[0]!="number"&&(l=et(Ym,ql(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});o==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=Fl(d));const{calculatedDuration:h}=d,f=h+n,p=f*(r+1)-n;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:n,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return o.next(0);const{delay:f,repeat:p,repeatType:b,repeatDelay:g,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),j=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,M=o;if(p){const w=Math.min(this.currentTime,d)/h;let P=Math.floor(w),V=w%1;!V&&w>=1&&(V=1),V===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(b==="reverse"?(V=1-V,g&&(V-=g/h)):b==="mirror"&&(M=i)),S=Ie(0,1,V)*h}const A=j?{done:!1,value:l[0]}:M.next(S);a&&(A.value=a(A.value));let{done:R}=A;!j&&u!==null&&(R=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return k&&n!==void 0&&(A.value=lr(l,this.options,n)),x&&x(A.value),k&&this.finish(),A}get duration(){const{resolved:t}=this;return t?Oe(t.calculatedDuration):0}get time(){return Oe(this.currentTime)}set time(t){t=Ve(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Oe(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Qm,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),s&&s();const n=this.driver.now();this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=n):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Zm=new Set(["opacity","clipPath","filter","transform"]);function Hn(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jm={linearEasing:void 0};function ep(e,t){const s=Hn(e);return()=>{var r;return(r=Jm[t])!==null&&r!==void 0?r:s()}}const Ys=ep(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Wl(e){return!!(typeof e=="function"&&Ys()||!e||typeof e=="string"&&(e in an||Ys())||Kn(e)||Array.isArray(e)&&e.every(Wl))}const ls=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,an={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ls([0,.65,.55,1]),circOut:ls([.55,0,1,.45]),backIn:ls([.31,.01,.66,-.59]),backOut:ls([.33,1.53,.69,.99])};function Kl(e,t){if(e)return typeof e=="function"&&Ys()?Vl(e,t):Kn(e)?ls(e):Array.isArray(e)?e.map(s=>Kl(s,t)||an.easeOut):an[e]}function tp(e,t,s,{delay:r=0,duration:n=300,repeat:o=0,repeatType:i="loop",ease:a="easeInOut",times:l}={}){const u={[t]:s};l&&(u.offset=l);const d=Kl(a,n);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:n,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function Yi(e,t){e.timeline=t,e.onfinish=null}const sp=Hn(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Zs=10,rp=2e4;function np(e){return Wn(e.type)||e.type==="spring"||!Wl(e.ease)}function ip(e,t){const s=new Gn({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const n=[];let o=0;for(;!r.done&&o<rp;)r=s.sample(o),n.push(r.value),o+=Zs;return{times:void 0,keyframes:n,duration:o-Zs,ease:"linear"}}const $l={anticipate:pl,backInOut:ml,circInOut:yl};function op(e){return e in $l}class Zi extends _l{constructor(t){super(t);const{name:s,motionValue:r,element:n,keyframes:o}=this.options;this.resolver=new Dl(o,(i,a)=>this.onKeyframesResolved(i,a),s,r,n),this.resolver.scheduleResolve()}initPlayback(t,s){var r;let{duration:n=300,times:o,ease:i,type:a,motionValue:l,name:u,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&Ys()&&op(i)&&(i=$l[i]),np(this.options)){const{onComplete:f,onUpdate:p,motionValue:b,element:g,...x}=this.options,y=ip(t,x);t=y.keyframes,t.length===1&&(t[1]=t[0]),n=y.duration,o=y.times,i=y.ease,a="keyframes"}const h=tp(l.owner.current,u,t,{...this.options,duration:n,times:o,ease:i});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(Yi(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(lr(t,this.options,s)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:n,times:o,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return Oe(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return Oe(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=Ve(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return ne;const{animation:r}=s;Yi(r,t)}return ne}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:r,duration:n,type:o,ease:i,times:a}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,b=new Gn({...p,keyframes:r,duration:n,type:o,ease:i,times:a,isGenerator:!0}),g=Ve(this.time);u.setWithVelocity(b.sample(g-Zs).value,b.sample(g).value,Zs)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:r,repeatDelay:n,repeatType:o,damping:i,type:a}=t;return sp()&&r&&Zm.has(r)&&s&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate&&!n&&o!=="mirror"&&i!==0&&a!=="inertia"}}const ap=Hn(()=>window.ScrollTimeline!==void 0);class lp{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,s){return Promise.all(this.animations).then(t).catch(s)}getAll(t){return this.animations[0][t]}setAll(t,s){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=s}attachTimeline(t,s){const r=this.animations.map(n=>ap()&&n.attachTimeline?n.attachTimeline(t):s(n));return()=>{r.forEach((n,o)=>{n&&n(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function cp({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:n,repeat:o,repeatType:i,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Qn=(e,t,s,r={},n,o)=>i=>{const a=Vn(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ve(l);let d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:n};cp(a)||(d={...d,...Vf(e,d)}),d.duration&&(d.duration=Ve(d.duration)),d.repeatDelay&&(d.repeatDelay=Ve(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!o&&t.get()!==void 0){const f=lr(d.keyframes,a);if(f!==void 0)return I.update(()=>{d.onUpdate(f),d.onComplete()}),new lp([])}return!o&&Zi.supports(d)?new Zi(d):new Gn(d)},up=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),dp=e=>Yr(e)?e[e.length-1]||0:e;function Xn(e,t){e.indexOf(t)===-1&&e.push(t)}function Yn(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Zn{constructor(){this.subscriptions=[]}add(t){return Xn(this.subscriptions,t),()=>Yn(this.subscriptions,t)}notify(t,s,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,s,r);else for(let o=0;o<n;o++){const i=this.subscriptions[o];i&&i(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ji=30,hp=e=>!isNaN(parseFloat(e)),hs={current:void 0};class fp{constructor(t,s={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,n=!0)=>{const o=Ae.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Ae.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=hp(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Zn);const r=this.events[t].add(s);return t==="change"?()=>{r(),I.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return hs.current&&hs.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ae.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ji)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Ji);return Ol(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qt(e,t){return new fp(e,t)}function mp(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Qt(s))}function pp(e,t){const s=ar(e,t);let{transitionEnd:r={},transition:n={},...o}=s||{};o={...o,...r};for(const i in o){const a=dp(o[i]);mp(e,i,a)}}const Jn=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gp="framerAppearId",Gl="data-"+Jn(gp);function Hl(e){return e.props[Gl]}const re=e=>!!(e&&e.getVelocity);function yp(e){return!!(re(e)&&e.add)}function ln(e,t){const s=e.getValue("willChange");if(yp(s))return s.add(t)}function vp({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function Ql(e,t,{delay:s=0,transitionOverride:r,type:n}={}){var o;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const u=[],d=n&&e.animationState&&e.animationState.getState()[n];for(const h in l){const f=e.getValue(h,(o=e.latestValues[h])!==null&&o!==void 0?o:null),p=l[h];if(p===void 0||d&&vp(d,h))continue;const b={delay:s,...Vn(i||{},h)};let g=!1;if(window.MotionHandoffAnimation){const y=Hl(e);if(y){const j=window.MotionHandoffAnimation(y,h,I);j!==null&&(b.startTime=j,g=!0)}}ln(e,h),f.start(Qn(h,f,p,e.shouldReduceMotion&&wt.has(h)?{type:!1}:b,e,g));const x=f.animation;x&&u.push(x)}return a&&Promise.all(u).then(()=>{I.update(()=>{a&&pp(e,a)})}),u}function cn(e,t,s={}){var r;const n=ar(e,t,s.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(o=s.transitionOverride);const i=n?()=>Promise.all(Ql(e,n,s)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=o;return xp(e,t,d+u,h,f,s)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(s.delay)])}function xp(e,t,s=0,r=0,n=1,o){const i=[],a=(e.variantChildren.size-1)*r,l=n===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(bp).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(cn(u,t,{...o,delay:s+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function bp(e,t){return e.sortNodePosition(t)}function wp(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const n=t.map(o=>cn(e,o,s));r=Promise.all(n)}else if(typeof t=="string")r=cn(e,t,s);else{const n=typeof t=="function"?ar(e,t,s.custom):t;r=Promise.all(Ql(e,n,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Sp=_n.length;function Xl(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Xl(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Sp;s++){const r=_n[s],n=e.props[r];(bs(n)||n===!1)&&(t[r]=n)}return t}const jp=[...Dn].reverse(),Pp=Dn.length;function Cp(e){return t=>Promise.all(t.map(({animation:s,options:r})=>wp(e,s,r)))}function Tp(e){let t=Cp(e),s=eo(),r=!0;const n=l=>(u,d)=>{var h;const f=ar(e,d,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:b,...g}=f;u={...u,...g,...b}}return u};function o(l){t=l(e)}function i(l){const{props:u}=e,d=Xl(e.parent)||{},h=[],f=new Set;let p={},b=1/0;for(let x=0;x<Pp;x++){const y=jp[x],j=s[y],S=u[y]!==void 0?u[y]:d[y],M=bs(S),A=y===l?j.isActive:null;A===!1&&(b=x);let R=S===d[y]&&S!==u[y]&&M;if(R&&r&&e.manuallyAnimateOnMount&&(R=!1),j.protectedKeys={...p},!j.isActive&&A===null||!S&&!j.prevProp||or(S)||typeof S=="boolean")continue;const k=Ap(j.prevProp,S);let w=k||y===l&&j.isActive&&!R&&M||x>b&&M,P=!1;const V=Array.isArray(S)?S:[S];let $=V.reduce(n(y),{});A===!1&&($={});const{prevResolvedValues:L={}}=j,Rs={...L,...$},nt=Y=>{w=!0,f.has(Y)&&(P=!0,f.delete(Y)),j.needsAnimating[Y]=!0;const ce=e.getValue(Y);ce&&(ce.liveStyle=!1)};for(const Y in Rs){const ce=$[Y],Me=L[Y];if(p.hasOwnProperty(Y))continue;let St=!1;Yr(ce)&&Yr(Me)?St=!ll(ce,Me):St=ce!==Me,St?ce!=null?nt(Y):f.add(Y):ce!==void 0&&f.has(Y)?nt(Y):j.protectedKeys[Y]=!0}j.prevProp=S,j.prevResolvedValues=$,j.isActive&&(p={...p,...$}),r&&e.blockInitialAnimation&&(w=!1),w&&(!(R&&k)||P)&&h.push(...V.map(Y=>({animation:Y,options:{type:y}})))}if(f.size){const x={};f.forEach(y=>{const j=e.getBaseTarget(y),S=e.getValue(y);S&&(S.liveStyle=!0),x[y]=j??null}),h.push({animation:x})}let g=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(h):Promise.resolve()}function a(l,u){var d;if(s[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),s[l].isActive=u;const h=i(l);for(const f in s)s[f].protectedKeys={};return h}return{animateChanges:i,setActive:a,setAnimateFunction:o,getState:()=>s,reset:()=>{s=eo(),r=!0}}}function Ap(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ll(t,e):!1}function ot(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eo(){return{animate:ot(!0),whileInView:ot(),whileHover:ot(),whileTap:ot(),whileDrag:ot(),whileFocus:ot(),exit:ot()}}class rt{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Mp extends rt{constructor(t){super(t),t.animationState||(t.animationState=Tp(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();or(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Np=0;class Ep extends rt{constructor(){super(...arguments),this.id=Np++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const n=this.node.animationState.setActive("exit",!t);s&&!t&&n.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Rp={animation:{Feature:Mp},exit:{Feature:Ep}};function kp(e,t,s){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let n=document;const o=(r=void 0)!==null&&r!==void 0?r:n.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const ye={x:!1,y:!1};function Yl(){return ye.x||ye.y}function to(e){return t=>{t.pointerType==="touch"||Yl()||e(t)}}function Dp(e,t,s={}){const r=new AbortController,n={passive:!0,...s,signal:r.signal},o=to(i=>{const{target:a}=i,l=t(i);if(!l||!a)return;const u=to(d=>{l(d),a.removeEventListener("pointerleave",u)});a.addEventListener("pointerleave",u,n)});return kp(e).forEach(i=>{i.addEventListener("pointerenter",o,n)}),()=>r.abort()}function _p(e){return e==="x"||e==="y"?ye[e]?null:(ye[e]=!0,()=>{ye[e]=!1}):ye.x||ye.y?null:(ye.x=ye.y=!0,()=>{ye.x=ye.y=!1})}const Zl=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Es(e){return{point:{x:e.pageX,y:e.pageY}}}const Vp=e=>t=>Zl(t)&&e(t,Es(t));function _e(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function tt(e,t,s,r){return _e(e,t,Vp(s),r)}const so=(e,t)=>Math.abs(e-t);function Op(e,t){const s=so(e.x,t.x),r=so(e.y,t.y);return Math.sqrt(s**2+r**2)}class Jl{constructor(t,s,{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ar(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=Op(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:b}=h,{timestamp:g}=J;this.history.push({...b,timestamp:g});const{onStart:x,onMove:y}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Tr(f,this.transformPagePoint),I.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ar(h.type==="pointercancel"?this.lastMoveEventInfo:Tr(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,x),b&&b(h,x)},!Zl(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=r,this.contextWindow=n||window;const i=Es(t),a=Tr(i,this.transformPagePoint),{point:l}=a,{timestamp:u}=J;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=s;d&&d(t,Ar(a,this.history)),this.removeListeners=et(tt(this.contextWindow,"pointermove",this.handlePointerMove),tt(this.contextWindow,"pointerup",this.handlePointerUp),tt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fe(this.updatePoint)}}function Tr(e,t){return t?{point:t(e.point)}:e}function ro(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ar({point:e},t){return{point:e,delta:ro(e,ec(t)),offset:ro(e,Lp(t)),velocity:Fp(t,.1)}}function Lp(e){return e[0]}function ec(e){return e[e.length-1]}function Fp(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const n=ec(e);for(;s>=0&&(r=e[s],!(n.timestamp-r.timestamp>Ve(t)));)s--;if(!r)return{x:0,y:0};const o=Oe(n.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(n.x-r.x)/o,y:(n.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Tt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const tc=1e-4,Ip=1-tc,Up=1+tc,sc=.01,Bp=0-sc,qp=0+sc;function de(e){return e.max-e.min}function zp(e,t,s){return Math.abs(e-t)<=s}function no(e,t,s,r=.5){e.origin=r,e.originPoint=q(t.min,t.max,e.origin),e.scale=de(s)/de(t),e.translate=q(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Ip&&e.scale<=Up||isNaN(e.scale))&&(e.scale=1),(e.translate>=Bp&&e.translate<=qp||isNaN(e.translate))&&(e.translate=0)}function fs(e,t,s,r){no(e.x,t.x,s.x,r?r.originX:void 0),no(e.y,t.y,s.y,r?r.originY:void 0)}function io(e,t,s){e.min=s.min+t.min,e.max=e.min+de(t)}function Wp(e,t,s){io(e.x,t.x,s.x),io(e.y,t.y,s.y)}function oo(e,t,s){e.min=t.min-s.min,e.max=e.min+de(t)}function ms(e,t,s){oo(e.x,t.x,s.x),oo(e.y,t.y,s.y)}function Kp(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?q(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?q(s,e,r.max):Math.min(e,s)),e}function ao(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function $p(e,{top:t,left:s,bottom:r,right:n}){return{x:ao(e.x,s,n),y:ao(e.y,t,r)}}function lo(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function Gp(e,t){return{x:lo(e.x,t.x),y:lo(e.y,t.y)}}function Hp(e,t){let s=.5;const r=de(e),n=de(t);return n>r?s=Ht(t.min,t.max-r,e.min):r>n&&(s=Ht(e.min,e.max-n,t.min)),Ie(0,1,s)}function Qp(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const un=.35;function Xp(e=un){return e===!1?e=0:e===!0&&(e=un),{x:co(e,"left","right"),y:co(e,"top","bottom")}}function co(e,t,s){return{min:uo(e,t),max:uo(e,s)}}function uo(e,t){return typeof e=="number"?e:e[t]||0}const ho=()=>({translate:0,scale:1,origin:0,originPoint:0}),At=()=>({x:ho(),y:ho()}),fo=()=>({min:0,max:0}),G=()=>({x:fo(),y:fo()});function fe(e){return[e("x"),e("y")]}function rc({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function Yp({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Zp(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Mr(e){return e===void 0||e===1}function dn({scale:e,scaleX:t,scaleY:s}){return!Mr(e)||!Mr(t)||!Mr(s)}function at(e){return dn(e)||nc(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function nc(e){return mo(e.x)||mo(e.y)}function mo(e){return e&&e!=="0%"}function Js(e,t,s){const r=e-s,n=t*r;return s+n}function po(e,t,s,r,n){return n!==void 0&&(e=Js(e,n,r)),Js(e,s,r)+t}function hn(e,t=0,s=1,r,n){e.min=po(e.min,t,s,r,n),e.max=po(e.max,t,s,r,n)}function ic(e,{x:t,y:s}){hn(e.x,t.translate,t.scale,t.originPoint),hn(e.y,s.translate,s.scale,s.originPoint)}const go=.999999999999,yo=1.0000000000001;function Jp(e,t,s,r=!1){const n=s.length;if(!n)return;t.x=t.y=1;let o,i;for(let a=0;a<n;a++){o=s[a],i=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Nt(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,ic(e,i)),r&&at(o.latestValues)&&Nt(e,o.latestValues))}t.x<yo&&t.x>go&&(t.x=1),t.y<yo&&t.y>go&&(t.y=1)}function Mt(e,t){e.min=e.min+t,e.max=e.max+t}function vo(e,t,s,r,n=.5){const o=q(e.min,e.max,n);hn(e,t,s,o,r)}function Nt(e,t){vo(e.x,t.x,t.scaleX,t.scale,t.originX),vo(e.y,t.y,t.scaleY,t.scale,t.originY)}function oc(e,t){return rc(Zp(e.getBoundingClientRect(),t))}function eg(e,t,s){const r=oc(e,s),{scroll:n}=t;return n&&(Mt(r.x,n.offset.x),Mt(r.y,n.offset.y)),r}const ac=({current:e})=>e?e.ownerDocument.defaultView:null,tg=new WeakMap;class sg{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=G(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const n=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Es(d).point)},o=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:b}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_p(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fe(x=>{let y=this.getAxisMotionValue(x).get()||0;if(Te.test(y)){const{projection:j}=this.visualElement;if(j&&j.layout){const S=j.layout.layoutBox[x];S&&(y=de(S)*(parseFloat(y)/100))}}this.originPoint[x]=y}),b&&I.postRender(()=>b(d,h)),ln(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:b,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=rg(x),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),g&&g(d,h)},a=(d,h)=>this.stop(d,h),l=()=>fe(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Jl(t,{onSessionStart:n,onStart:o,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ac(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=s;this.startAnimation(n);const{onDragEnd:o}=this.getProps();o&&I.postRender(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:n}=this.getProps();if(!r||!Is(t,n,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=Kp(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&Tt(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=$p(n.layoutBox,s):this.constraints=!1,this.elastic=Xp(r),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&fe(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Qp(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Tt(t))return!1;const r=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const o=eg(r,n.root,this.visualElement.getTransformPagePoint());let i=Gp(n.layout.layoutBox,o);if(s){const a=s(Yp(i));this.hasMutatedConstraints=!!a,a&&(i=rc(a))}return i}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:n,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=fe(d=>{if(!Is(d,s,this.currentDirection))return;let h=l&&l[d]||{};i&&(h={min:0,max:0});const f=n?200:1e6,p=n?40:1e7,b={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(a)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return ln(this.visualElement,t),r.start(Qn(t,r,0,s,this.visualElement,!1))}stopAnimation(){fe(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){fe(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),n=r[s];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){fe(s=>{const{drag:r}=this.getProps();if(!Is(s,r,this.currentDirection))return;const{projection:n}=this.visualElement,o=this.getAxisMotionValue(s);if(n&&n.layout){const{min:i,max:a}=n.layout.layoutBox[s];o.set(t[s]-q(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Tt(s)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};fe(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();n[i]=Hp({min:l,max:l},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fe(i=>{if(!Is(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:u}=this.constraints[i];a.set(q(l,u,n[i]))})}addListeners(){if(!this.visualElement.current)return;tg.set(this.visualElement,this);const t=this.visualElement.current,s=tt(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Tt(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,o=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),I.read(r);const i=_e(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(fe(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),s(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:o=!1,dragElastic:i=un,dragMomentum:a=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:n,dragConstraints:o,dragElastic:i,dragMomentum:a}}}function Is(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function rg(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class ng extends rt{constructor(t){super(t),this.removeGroupControls=ne,this.removeListeners=ne,this.controls=new sg(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ne}unmount(){this.removeGroupControls(),this.removeListeners()}}const xo=e=>(t,s)=>{e&&I.postRender(()=>e(t,s))};class ig extends rt{constructor(){super(...arguments),this.removePointerDownListener=ne}onPointerDown(t){this.session=new Jl(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ac(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:xo(t),onStart:xo(s),onMove:r,onEnd:(o,i)=>{delete this.session,n&&I.postRender(()=>n(o,i))}}}mount(){this.removePointerDownListener=tt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ei=v.createContext(null);function og(){const e=v.useContext(ei);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:r}=e,n=v.useId();v.useEffect(()=>r(n),[]);const o=v.useCallback(()=>s&&s(n),[n,s]);return!t&&s?[!1,o]:[!0]}const lc=v.createContext({}),cc=v.createContext({}),Ks={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bo(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const is={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(E.test(e))e=parseFloat(e);else return e;const s=bo(e,t.target.x),r=bo(e,t.target.y);return`${s}% ${r}%`}},ag={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,n=st.parse(e);if(n.length>5)return r;const o=st.createTransformer(e),i=typeof n[0]!="number"?1:0,a=s.x.scale*t.x,l=s.y.scale*t.y;n[0+i]/=a,n[1+i]/=l;const u=q(a,l,.5);return typeof n[2+i]=="number"&&(n[2+i]/=u),typeof n[3+i]=="number"&&(n[3+i]/=u),o(n)}},er={};function lg(e){Object.assign(er,e)}const{schedule:ti,cancel:Pv}=cl(queueMicrotask,!1);class cg extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:n}=this.props,{projection:o}=t;lg(ug),o&&(s.group&&s.group.add(o),r&&r.register&&n&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ks.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:n,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,n||t.layoutDependency!==s||s===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||I.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ti.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function uc(e){const[t,s]=og(),r=v.useContext(lc);return c.jsx(cg,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(cc),isPresent:t,safeToRemove:s})}const ug={borderRadius:{...is,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:is,borderTopRightRadius:is,borderBottomLeftRadius:is,borderBottomRightRadius:is,boxShadow:ag},dc=["TopLeft","TopRight","BottomLeft","BottomRight"],dg=dc.length,wo=e=>typeof e=="string"?parseFloat(e):e,So=e=>typeof e=="number"||E.test(e);function hg(e,t,s,r,n,o){n?(e.opacity=q(0,s.opacity!==void 0?s.opacity:1,fg(r)),e.opacityExit=q(t.opacity!==void 0?t.opacity:1,0,mg(r))):o&&(e.opacity=q(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let i=0;i<dg;i++){const a=`border${dc[i]}Radius`;let l=jo(t,a),u=jo(s,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||So(l)===So(u)?(e[a]=Math.max(q(wo(l),wo(u),r),0),(Te.test(u)||Te.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||s.rotate)&&(e.rotate=q(t.rotate||0,s.rotate||0,r))}function jo(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fg=hc(0,.5,gl),mg=hc(.5,.95,ne);function hc(e,t,s){return r=>r<e?0:r>t?1:s(Ht(e,t,r))}function Po(e,t){e.min=t.min,e.max=t.max}function he(e,t){Po(e.x,t.x),Po(e.y,t.y)}function Co(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function To(e,t,s,r,n){return e-=t,e=Js(e,1/s,r),n!==void 0&&(e=Js(e,1/n,r)),e}function pg(e,t=0,s=1,r=.5,n,o=e,i=e){if(Te.test(t)&&(t=parseFloat(t),t=q(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=q(o.min,o.max,r);e===o&&(a-=t),e.min=To(e.min,t,s,a,n),e.max=To(e.max,t,s,a,n)}function Ao(e,t,[s,r,n],o,i){pg(e,t[s],t[r],t[n],t.scale,o,i)}const gg=["x","scaleX","originX"],yg=["y","scaleY","originY"];function Mo(e,t,s,r){Ao(e.x,t,gg,s?s.x:void 0,r?r.x:void 0),Ao(e.y,t,yg,s?s.y:void 0,r?r.y:void 0)}function No(e){return e.translate===0&&e.scale===1}function fc(e){return No(e.x)&&No(e.y)}function Eo(e,t){return e.min===t.min&&e.max===t.max}function vg(e,t){return Eo(e.x,t.x)&&Eo(e.y,t.y)}function Ro(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function mc(e,t){return Ro(e.x,t.x)&&Ro(e.y,t.y)}function ko(e){return de(e.x)/de(e.y)}function Do(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class xg{constructor(){this.members=[]}add(t){Xn(this.members,t),t.scheduleRender()}remove(t){if(Yn(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(n=>t===n);if(s===0)return!1;let r;for(let n=s;n>=0;n--){const o=this.members[n];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bg(e,t,s){let r="";const n=e.x.translate/t.x,o=e.y.translate/t.y,i=(s==null?void 0:s.z)||0;if((n||o||i)&&(r=`translate3d(${n}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:b}=s;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const wg=(e,t)=>e.depth-t.depth;class Sg{constructor(){this.children=[],this.isDirty=!1}add(t){Xn(this.children,t),this.isDirty=!0}remove(t){Yn(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(wg),this.isDirty=!1,this.children.forEach(t)}}function $s(e){const t=re(e)?e.get():e;return up(t)?t.toValue():t}function jg(e,t){const s=Ae.now(),r=({timestamp:n})=>{const o=n-s;o>=t&&(Fe(r),e(o-t))};return I.read(r,!0),()=>Fe(r)}function Pg(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Cg(e,t,s){const r=re(e)?e:Qt(e);return r.start(Qn("",r,t,s)),r.animation}const lt={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cs=typeof window<"u"&&window.MotionDebug!==void 0,Nr=["","X","Y","Z"],Tg={visibility:"hidden"},_o=1e3;let Ag=0;function Er(e,t,s,r){const{latestValues:n}=t;n[e]&&(s[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function pc(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Hl(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:n,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",I,!(n||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&pc(r)}function gc({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(i={},a=t==null?void 0:t()){this.id=Ag++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cs&&(lt.totalNodes=lt.resolvedTargetDeltas=lt.recalculatedProjection=0),this.nodes.forEach(Eg),this.nodes.forEach(Vg),this.nodes.forEach(Og),this.nodes.forEach(Rg),cs&&window.MotionDebug.record(lt)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sg)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Zn),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Pg(i),this.instance=i;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=jg(f,250),Ks.hasAnimatedSinceResize&&(Ks.hasAnimatedSinceResize=!1,this.nodes.forEach(Oo))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Bg,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=d.getProps(),j=!this.targetLayout||!mc(this.targetLayout,b)||p,S=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const M={...Vn(g,"layout"),onPlay:x,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else f||Oo(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lg),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&pc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vo);return}this.isUpdating||this.nodes.forEach(Dg),this.isUpdating=!1,this.nodes.forEach(_g),this.nodes.forEach(Mg),this.nodes.forEach(Ng),this.clearAllSnapshots();const a=Ae.now();J.delta=Ie(0,1e3/60,a-J.timestamp),J.timestamp=a,J.isProcessing=!0,wr.update.process(J),wr.preRender.process(J),wr.render.process(J),J.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ti.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kg),this.sharedNodes.forEach(Fg)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,I.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){I.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=G(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!n)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!fc(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(a||at(this.latestValues)||d)&&(n(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),qg(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return G();const l=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(zg))){const{scroll:d}=this.root;d&&(Mt(l.x,d.offset.x),Mt(l.y,d.offset.y))}return l}removeElementScroll(i){var a;const l=G();if(he(l,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&he(l,i),Mt(l.x,h.offset.x),Mt(l.y,h.offset.y))}return l}applyTransform(i,a=!1){const l=G();he(l,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Nt(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),at(d.latestValues)&&Nt(l,d.latestValues)}return at(this.latestValues)&&Nt(l,this.latestValues),l}removeTransform(i){const a=G();he(a,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!at(u.latestValues))continue;dn(u.latestValues)&&u.updateSnapshot();const d=G(),h=u.measurePageBox();he(d,h),Mo(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return at(this.latestValues)&&Mo(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==J.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=J.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=G(),this.relativeTargetOrigin=G(),ms(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),he(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=G(),this.targetWithTransforms=G()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Wp(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):he(this.target,this.layout.layoutBox),ic(this.target,this.targetDelta)):he(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=G(),this.relativeTargetOrigin=G(),ms(this.relativeTargetOrigin,this.target,p.target),he(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cs&&lt.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dn(this.parent.latestValues)||nc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===J.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;he(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Jp(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=G());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Co(this.prevProjectionDelta.x,this.projectionDelta.x),Co(this.prevProjectionDelta.y,this.projectionDelta.y)),fs(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Do(this.projectionDelta.x,this.prevProjectionDelta.x)||!Do(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),cs&&lt.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=At(),this.projectionDelta=At(),this.projectionDeltaWithTransform=At()}setAnimationOrigin(i,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=At();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=G(),p=l?l.source:void 0,b=this.layout?this.layout.source:void 0,g=p!==b,x=this.getStack(),y=!x||x.members.length<=1,j=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(Ug));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const A=M/1e3;Lo(h.x,i.x,A),Lo(h.y,i.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ms(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ig(this.relativeTarget,this.relativeTargetOrigin,f,A),S&&vg(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=G()),he(S,this.relativeTarget)),g&&(this.animationValues=d,hg(d,u,this.latestValues,A,j,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=I.update(()=>{Ks.hasAnimatedSinceResize=!0,this.currentAnimation=Cg(0,_o,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_o),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=i;if(!(!a||!l||!u)){if(this!==i&&this.layout&&u&&yc(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||G();const h=de(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+h;const f=de(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+f}he(a,l),Nt(a,d),fs(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new xg),this.sharedNodes.get(i).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Er("z",i,u,this.animationValues);for(let d=0;d<Nr.length;d++)Er(`rotate${Nr[d]}`,i,u,this.animationValues),Er(`skew${Nr[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Tg;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=$s(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=$s(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!at(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=bg(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:b}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${b.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in er){if(f[g]===void 0)continue;const{correct:x,applyTo:y}=er[g],j=u.transform==="none"?f[g]:x(f[g],h);if(y){const S=y.length;for(let M=0;M<S;M++)u[y[M]]=j}else u[g]=j}return this.options.layoutId&&(u.pointerEvents=h===this?$s(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Vo),this.root.sharedNodes.clear()}}}function Mg(e){e.updateLayout()}function Ng(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:o}=e.options,i=s.source!==e.layout.source;o==="size"?fe(h=>{const f=i?s.measuredBox[h]:s.layoutBox[h],p=de(f);f.min=r[h].min,f.max=f.min+p}):yc(o,s.layoutBox,r)&&fe(h=>{const f=i?s.measuredBox[h]:s.layoutBox[h],p=de(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=At();fs(a,r,s.layoutBox);const l=At();i?fs(l,e.applyTransform(n,!0),s.measuredBox):fs(l,r,s.layoutBox);const u=!fc(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const b=G();ms(b,s.layoutBox,f.layoutBox);const g=G();ms(g,r,p.layoutBox),mc(b,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=b,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Eg(e){cs&&lt.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Rg(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function kg(e){e.clearSnapshot()}function Vo(e){e.clearMeasurements()}function Dg(e){e.isLayoutDirty=!1}function _g(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Oo(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Vg(e){e.resolveTargetDelta()}function Og(e){e.calcProjection()}function Lg(e){e.resetSkewAndRotation()}function Fg(e){e.removeLeadSnapshot()}function Lo(e,t,s){e.translate=q(t.translate,0,s),e.scale=q(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Fo(e,t,s,r){e.min=q(t.min,s.min,r),e.max=q(t.max,s.max,r)}function Ig(e,t,s,r){Fo(e.x,t.x,s.x,r),Fo(e.y,t.y,s.y,r)}function Ug(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Bg={duration:.45,ease:[.4,0,.1,1]},Io=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Uo=Io("applewebkit/")&&!Io("chrome/")?Math.round:ne;function Bo(e){e.min=Uo(e.min),e.max=Uo(e.max)}function qg(e){Bo(e.x),Bo(e.y)}function yc(e,t,s){return e==="position"||e==="preserve-aspect"&&!zp(ko(t),ko(s),.2)}function zg(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Wg=gc({attachResizeListener:(e,t)=>_e(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rr={current:void 0},vc=gc({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Rr.current){const e=new Wg({});e.mount(window),e.setOptions({layoutScroll:!0}),Rr.current=e}return Rr.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Kg={pan:{Feature:ig},drag:{Feature:ng,ProjectionNode:vc,MeasureLayout:uc}};function qo(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s);const n=r[s?"onHoverStart":"onHoverEnd"];n&&I.postRender(()=>n(t,Es(t)))}class $g extends rt{mount(){const{current:t,props:s}=this.node;t&&(this.unmount=Dp(t,r=>(qo(this.node,r,!0),n=>qo(this.node,n,!1)),{passive:!s.onHoverStart&&!s.onHoverEnd}))}unmount(){}}class Gg extends rt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=et(_e(this.node.current,"focus",()=>this.onFocus()),_e(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const xc=(e,t)=>t?e===t?!0:xc(e,t.parentElement):!1;function kr(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,Es(s))}class Hg extends rt{constructor(){super(...arguments),this.removeStartListeners=ne,this.removeEndListeners=ne,this.removeAccessibleListeners=ne,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=tt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!xc(this.node.current,a.target)?d:u;f&&I.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=tt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=et(o,i),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||kr("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&I.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=_e(this.node.current,"keyup",i),kr("down",(a,l)=>{this.startPress(a,l)})},s=_e(this.node.current,"keydown",t),r=()=>{this.isPressing&&kr("cancel",(o,i)=>this.cancelPress(o,i))},n=_e(this.node.current,"blur",r);this.removeAccessibleListeners=et(s,n)}}startPress(t,s){this.isPressing=!0;const{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&I.postRender(()=>r(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Yl()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&I.postRender(()=>r(t,s))}mount(){const t=this.node.getProps(),s=tt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=_e(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=et(s,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const fn=new WeakMap,Dr=new WeakMap,Qg=e=>{const t=fn.get(e.target);t&&t(e)},Xg=e=>{e.forEach(Qg)};function Yg({root:e,...t}){const s=e||document;Dr.has(s)||Dr.set(s,{});const r=Dr.get(s),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(Xg,{root:e,...t})),r[n]}function Zg(e,t,s){const r=Yg(t);return fn.set(e,s),r.observe(e),()=>{fn.delete(e),r.unobserve(e)}}const Jg={some:0,all:1};class ey extends rt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:n="some",once:o}=t,i={root:s?s.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:Jg[n]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return Zg(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(ty(t,s))&&this.startObserver()}unmount(){}}function ty({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const sy={inView:{Feature:ey},tap:{Feature:Hg},focus:{Feature:Gg},hover:{Feature:$g}},ry={layout:{ProjectionNode:vc,MeasureLayout:uc}},si=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),cr=v.createContext({}),ri=typeof window<"u",bc=ri?v.useLayoutEffect:v.useEffect,wc=v.createContext({strict:!1});function ny(e,t,s,r,n){var o,i;const{visualElement:a}=v.useContext(cr),l=v.useContext(wc),u=v.useContext(ei),d=v.useContext(si).reducedMotion,h=v.useRef();r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=v.useContext(cc);f&&!f.projection&&n&&(f.type==="html"||f.type==="svg")&&iy(h.current,s,n,p);const b=v.useRef(!1);v.useInsertionEffect(()=>{f&&b.current&&f.update(s,u)});const g=s[Gl],x=v.useRef(!!g&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,g))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return bc(()=>{f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),ti.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),x.current=!1))}),f}function iy(e,t,s,r){const{layoutId:n,layout:o,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:Sc(e.parent)),e.projection.setOptions({layoutId:n,layout:o,alwaysMeasureLayout:!!i||a&&Tt(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Sc(e){if(e)return e.options.allowProjection!==!1?e.projection:Sc(e.parent)}function oy(e,t,s){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Tt(s)&&(s.current=r))},[t])}function ur(e){return or(e.animate)||_n.some(t=>bs(e[t]))}function jc(e){return!!(ur(e)||e.variants)}function ay(e,t){if(ur(e)){const{initial:s,animate:r}=e;return{initial:s===!1||bs(s)?s:void 0,animate:bs(r)?r:void 0}}return e.inherit!==!1?t:{}}function ly(e){const{initial:t,animate:s}=ay(e,v.useContext(cr));return v.useMemo(()=>({initial:t,animate:s}),[zo(t),zo(s)])}function zo(e){return Array.isArray(e)?e.join(" "):e}const Wo={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xt={};for(const e in Wo)Xt[e]={isEnabled:t=>Wo[e].some(s=>!!t[s])};function cy(e){for(const t in e)Xt[t]={...Xt[t],...e[t]}}const uy=Symbol.for("motionComponentSymbol");function dy({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:n}){e&&cy(e);function o(a,l){let u;const d={...v.useContext(si),...a,layoutId:hy(a)},{isStatic:h}=d,f=ly(a),p=r(a,h);if(!h&&ri){fy();const b=my(d);u=b.MeasureLayout,f.visualElement=ny(n,p,d,t,b.ProjectionNode)}return c.jsxs(cr.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,s(n,a,oy(p,f.visualElement,l),p,h,f.visualElement)]})}const i=v.forwardRef(o);return i[uy]=n,i}function hy({layoutId:e}){const t=v.useContext(lc).id;return t&&e!==void 0?t+"-"+e:e}function fy(e,t){v.useContext(wc).strict}function my(e){const{drag:t,layout:s}=Xt;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const py=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ni(e){return typeof e!="string"||e.includes("-")?!1:!!(py.indexOf(e)>-1||/[A-Z]/u.test(e))}function Pc(e,{style:t,vars:s},r,n){Object.assign(e.style,t,n&&n.getProjectionStyles(r));for(const o in s)e.style.setProperty(o,s[o])}const Cc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tc(e,t,s,r){Pc(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(Cc.has(n)?n:Jn(n),t.attrs[n])}function Ac(e,{layout:t,layoutId:s}){return wt.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!er[e]||e==="opacity")}function ii(e,t,s){var r;const{style:n}=e,o={};for(const i in n)(re(n[i])||t.style&&re(t.style[i])||Ac(i,e)||((r=s==null?void 0:s.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[i]=n[i]);return o}function Mc(e,t,s){const r=ii(e,t,s);for(const n in e)if(re(e[n])||re(t[n])){const o=As.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[o]=e[n]}return r}function oi(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}function gy({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},r,n,o){const i={latestValues:yy(r,n,o,e),renderState:t()};return s&&(i.mount=a=>s(r,a,i)),i}const Nc=e=>(t,s)=>{const r=v.useContext(cr),n=v.useContext(ei),o=()=>gy(e,t,r,n);return s?o():oi(o)};function yy(e,t,s,r){const n={},o=r(e,{});for(const f in o)n[f]=$s(o[f]);let{initial:i,animate:a}=e;const l=ur(e),u=jc(e);t&&u&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let d=s?s.initial===!1:!1;d=d||i===!1;const h=d?a:i;if(h&&typeof h!="boolean"&&!or(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const b=kn(e,f[p]);if(b){const{transitionEnd:g,transition:x,...y}=b;for(const j in y){let S=y[j];if(Array.isArray(S)){const M=d?S.length-1:0;S=S[M]}S!==null&&(n[j]=S)}for(const j in g)n[j]=g[j]}}}return n}const ai=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ec=()=>({...ai(),attrs:{}}),Rc=(e,t)=>t&&typeof e=="number"?t.transform(e):e,vy={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xy=As.length;function by(e,t,s){let r="",n=!0;for(let o=0;o<xy;o++){const i=As[o],a=e[i];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(i.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||s){const u=Rc(a,qn[i]);if(!l){n=!1;const d=vy[i]||i;r+=`${d}(${u}) `}s&&(t[i]=u)}}return r=r.trim(),s?r=s(t,n?"":r):n&&(r="none"),r}function li(e,t,s){const{style:r,vars:n,transformOrigin:o}=e;let i=!1,a=!1;for(const l in t){const u=t[l];if(wt.has(l)){i=!0;continue}else if(wl(l)){n[l]=u;continue}else{const d=Rc(u,qn[l]);l.startsWith("origin")?(a=!0,o[l]=d):r[l]=d}}if(t.transform||(i||s?r.transform=by(t,e.transform,s):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=o;r.transformOrigin=`${l} ${u} ${d}`}}function Ko(e,t,s){return typeof e=="string"?e:E.transform(t+s*e)}function wy(e,t,s){const r=Ko(t,e.x,e.width),n=Ko(s,e.y,e.height);return`${r} ${n}`}const Sy={offset:"stroke-dashoffset",array:"stroke-dasharray"},jy={offset:"strokeDashoffset",array:"strokeDasharray"};function Py(e,t,s=1,r=0,n=!0){e.pathLength=1;const o=n?Sy:jy;e[o.offset]=E.transform(-r);const i=E.transform(t),a=E.transform(s);e[o.array]=`${i} ${a}`}function ci(e,{attrX:t,attrY:s,attrScale:r,originX:n,originY:o,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(li(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:b}=e;f.transform&&(b&&(p.transform=f.transform),delete f.transform),b&&(n!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=wy(b,n!==void 0?n:.5,o!==void 0?o:.5)),t!==void 0&&(f.x=t),s!==void 0&&(f.y=s),r!==void 0&&(f.scale=r),i!==void 0&&Py(f,i,a,l,!1)}const ui=e=>typeof e=="string"&&e.toLowerCase()==="svg",Cy={useVisualState:Nc({scrapeMotionValuesFromProps:Mc,createRenderState:Ec,onMount:(e,t,{renderState:s,latestValues:r})=>{I.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),I.render(()=>{ci(s,r,ui(t.tagName),e.transformTemplate),Tc(t,s)})}})},Ty={useVisualState:Nc({scrapeMotionValuesFromProps:ii,createRenderState:ai})};function kc(e,t,s){for(const r in t)!re(t[r])&&!Ac(r,s)&&(e[r]=t[r])}function Ay({transformTemplate:e},t){return v.useMemo(()=>{const s=ai();return li(s,t,e),Object.assign({},s.vars,s.style)},[t])}function My(e,t){const s=e.style||{},r={};return kc(r,s,e),Object.assign(r,Ay(e,t)),r}function Ny(e,t){const s={},r=My(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const Ey=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tr(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ey.has(e)}let Dc=e=>!tr(e);function Ry(e){e&&(Dc=t=>t.startsWith("on")?!tr(t):e(t))}try{Ry(require("@emotion/is-prop-valid").default)}catch{}function ky(e,t,s){const r={};for(const n in e)n==="values"&&typeof e.values=="object"||(Dc(n)||s===!0&&tr(n)||!t&&!tr(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}function Dy(e,t,s,r){const n=v.useMemo(()=>{const o=Ec();return ci(o,t,ui(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};kc(o,e.style,e),n.style={...o,...n.style}}return n}function _y(e=!1){return(s,r,n,{latestValues:o},i)=>{const l=(ni(s)?Dy:Ny)(r,o,i,s),u=ky(r,typeof s=="string",e),d=s!==v.Fragment?{...u,...l,ref:n}:{},{children:h}=r,f=v.useMemo(()=>re(h)?h.get():h,[h]);return v.createElement(s,{...d,children:f})}}function Vy(e,t){return function(r,{forwardMotionProps:n}={forwardMotionProps:!1}){const i={...ni(r)?Cy:Ty,preloadedFeatures:e,useRender:_y(n),createVisualElement:t,Component:r};return dy(i)}}const mn={current:null},_c={current:!1};function Oy(){if(_c.current=!0,!!ri)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>mn.current=e.matches;e.addListener(t),t()}else mn.current=!1}function Ly(e,t,s){for(const r in t){const n=t[r],o=s[r];if(re(n))e.addValue(r,n);else if(re(o))e.addValue(r,Qt(n,{owner:e}));else if(o!==n)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(n):i.hasAnimated||i.set(n)}else{const i=e.getStaticValue(r);e.addValue(r,Qt(i!==void 0?i:n,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const $o=new WeakMap,Fy=[...Pl,se,st],Iy=e=>Fy.find(jl(e)),Go=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Uy{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:o,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=In,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ae.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,I.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=ur(s),this.isVariantNode=jc(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&re(p)&&p.set(l[f],!1)}}mount(t){this.current=t,$o.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),_c.current||Oy(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$o.delete(this.current),this.projection&&this.projection.unmount(),Fe(this.notifyUpdate),Fe(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=wt.has(t),n=s.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&I.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{n(),o(),i&&i(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xt){const s=Xt[t];if(!s)continue;const{isEnabled:r,Feature:n}=s;if(!this.features[t]&&n&&r(this.props)&&(this.features[t]=new n(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):G()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Go.length;r++){const n=Go[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const o="on"+n,i=t[o];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=Ly(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=Qt(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){var r;let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(xl(n)||vl(n))?n=parseFloat(n):!Iy(n)&&st.test(s)&&(n=kl(t,s)),this.setBaseTarget(t,re(n)?n.get():n)),re(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=kn(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!re(o)?o:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Zn),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Vc extends Uy{constructor(){super(...arguments),this.KeyframeResolver=Dl}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;re(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function By(e){return window.getComputedStyle(e)}class qy extends Vc{constructor(){super(...arguments),this.type="html",this.renderInstance=Pc}readValueFromInstance(t,s){if(wt.has(s)){const r=zn(s);return r&&r.default||0}else{const r=By(t),n=(wl(s)?r.getPropertyValue(s):r[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:s}){return oc(t,s)}build(t,s,r){li(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return ii(t,s,r)}}class zy extends Vc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=G}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(wt.has(s)){const r=zn(s);return r&&r.default||0}return s=Cc.has(s)?s:Jn(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return Mc(t,s,r)}build(t,s,r){ci(t,s,this.isSVGTag,r.transformTemplate)}renderInstance(t,s,r,n){Tc(t,s,r,n)}mount(t){this.isSVGTag=ui(t.tagName),super.mount(t)}}const Wy=(e,t)=>ni(e)?new zy(t):new qy(t,{allowProjection:e!==v.Fragment}),Ky=Vy({...Rp,...sy,...Kg,...ry},Wy),$y=Ef(Ky);function Oc(e){const t=oi(()=>Qt(e)),{isStatic:s}=v.useContext(si);if(s){const[,r]=v.useState(e);v.useEffect(()=>t.on("change",r),[])}return t}function Lc(e,t){const s=Oc(t()),r=()=>s.set(t());return r(),bc(()=>{const n=()=>I.preRender(r,!1,!0),o=e.map(i=>i.on("change",n));return()=>{o.forEach(i=>i()),Fe(r)}}),s}const Gy=e=>e&&typeof e=="object"&&e.mix,Hy=e=>Gy(e)?e.mix:void 0;function Qy(...e){const t=!Array.isArray(e[0]),s=t?0:-1,r=e[0+s],n=e[1+s],o=e[2+s],i=e[3+s],a=zl(n,o,{mixer:Hy(o[0]),...i});return t?a(r):a}function Xy(e){hs.current=[],e();const t=Lc(hs.current,e);return hs.current=void 0,t}function Ho(e,t,s,r){if(typeof e=="function")return Xy(e);const n=typeof t=="function"?t:Qy(t,s,r);return Array.isArray(e)?Qo(e,n):Qo([e],([o])=>n(o))}function Qo(e,t){const s=oi(()=>[]);return Lc(e,()=>{s.length=0;const r=e.length;for(let n=0;n<r;n++)s[n]=e[n].get();return t(s)})}function Yy(){var w;const{toast:e}=al();rr();const[t,s]=v.useState(0),[r,n]=v.useState(null),[o,i]=v.useState([]),[a,l]=v.useState(null),[u,d]=v.useState(!1),h=Oc(0),f=Ho(h,[-200,0,200],[-25,0,25]),p=Ho(h,[-200,-150,0,150,200],[0,1,1,1,0]),{data:b,isLoading:g}=gs({queryKey:["projects","discover","initial"],queryFn:()=>Qr.getForDiscover(12)}),x=async()=>{if(!(!a||u)){d(!0);try{const P=await Qr.getForDiscover(12,a.lastCreatedAt,a.lastId);i(V=>[...V,...P.projects]),l(P.nextCursor)}catch(P){console.error("Failed to load more projects:",P)}finally{d(!1)}}};v.useEffect(()=>{b&&(i(b.projects),l(b.nextCursor))},[b]),v.useEffect(()=>{t>=o.length-2&&a&&!u&&x()},[t,o.length,a,u]);const y=Pt({mutationFn:P=>Pd.toggle(P),onSuccess:(P,V)=>{e({title:P.action==="added"?"プロジェクトをいいねしました！":"いいねを取り消しました",description:P.action==="added"?"素晴らしいプロジェクトですね！":""})},onError:P=>{e({title:"エラーが発生しました",description:"しばらく待ってからもう一度お試しください。",variant:"destructive"})}}),j=Pt({mutationFn:P=>Cd.toggle(P),onSuccess:()=>{e({title:"プロジェクトを非表示にしました",description:"このプロジェクトは今後表示されません。"})},onError:P=>{e({title:"エラーが発生しました",description:"しばらく待ってからもう一度お試しください。",variant:"destructive"})}}),S=o[t],M=P=>{S&&(n(P),P==="left"?j.mutate(S.id):P==="right"&&y.mutate(S.id),setTimeout(()=>{s(V=>{const $=V+1;return $>=o.length&&!a?(e({title:"すべてのプロジェクトを見ました！",description:"新しいビジョンを発見するために、後でまたチェックしてください。"}),0):$}),n(null),h.set(0)},300))},A=(P,V)=>{V.offset.x>100?M("right"):V.offset.x<-100?M("left"):h.set(0)},R=(P=[])=>({watch:P.filter(V=>V.type==="watch").length,raiseHand:P.filter(V=>V.type==="raise_hand").length,commit:P.filter(V=>V.type==="commit").length});if(g)return c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"素晴らしいプロジェクトを探しています..."})]})});if(!o.length&&!g)return c.jsx("div",{className:"max-w-md mx-auto px-4 py-8",children:c.jsx(H,{children:c.jsxs(Z,{className:"py-12 text-center",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"発見するプロジェクトがありません"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"あなたのビジョンをコミュニティと共有してみませんか！"}),c.jsx(ge,{href:"/projects/new",children:c.jsx(K,{children:"最初のプロジェクトを作成"})})]})})});if(!S)return null;const k=R(S.participations);return c.jsxs("div",{className:"max-w-md mx-auto px-4 py-8 min-h-screen flex flex-col",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx(ge,{href:"/",children:c.jsx(K,{variant:"ghost",size:"icon","data-testid":"button-back",children:c.jsx(mh,{className:"w-4 h-4"})})}),c.jsxs("div",{className:"flex-1 text-center",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"発見"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[t+1," of ",o.length,a?"+":"",u&&" (読み込み中...)"]})]})]}),c.jsx("div",{className:"flex-1 flex items-center justify-center relative overflow-hidden",children:c.jsx($y.div,{drag:"x",dragConstraints:{left:0,right:0},style:{x:h,rotate:f,opacity:p},onDragEnd:A,animate:r?{x:r==="left"?-300:300,opacity:0}:{x:0,opacity:1},transition:{duration:.3},className:"w-full max-w-sm cursor-grab active:cursor-grabbing","data-testid":"project-card",children:c.jsxs(H,{className:"w-full min-h-[400px] shadow-lg",children:[c.jsxs(be,{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsxs(Nn,{children:[c.jsx(En,{src:S.creator.profileImageUrl||void 0}),c.jsx(Rn,{children:((w=S.creator.firstName)==null?void 0:w[0])||"U"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-sm",children:S.creator.firstName||"Anonymous Creator"}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[c.jsx(Xa,{className:"w-3 h-3"}),(()=>{try{return An(new Date(S.createdAt||Date.now()),{addSuffix:!0})}catch{return"just now"}})()]})]})]}),c.jsx(we,{className:"text-xl",children:S.title})]}),c.jsxs(Z,{className:"space-y-4",children:[c.jsx(ir,{className:"text-base leading-relaxed",children:S.description}),c.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[c.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[c.jsx($t,{className:"w-4 h-4 text-blue-500"}),c.jsx("span",{children:k.watch})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[c.jsx(ys,{className:"w-4 h-4 text-orange-500"}),c.jsx("span",{children:k.raiseHand})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[c.jsx(Je,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{children:k.commit})]})]})]})]})})}),c.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[c.jsx(K,{variant:"outline",size:"icon",className:"rounded-full w-14 h-14",onClick:()=>M("left"),disabled:j.isPending,"data-testid":"button-hide",children:c.jsx(Tn,{className:"w-6 h-6 text-red-500"})}),c.jsx(ge,{href:`/projects/${S.id}`,children:c.jsx(K,{variant:"outline",size:"icon",className:"rounded-full w-12 h-12","data-testid":"button-view-project",children:c.jsx($t,{className:"w-5 h-5"})})}),c.jsx(K,{size:"icon",className:"rounded-full w-14 h-14 bg-red-500 hover:bg-red-600",onClick:()=>M("right"),disabled:y.isPending,"data-testid":"button-like",children:c.jsx(Ya,{className:"w-6 h-6 text-white"})})]}),c.jsx("div",{className:"text-center mt-6 text-sm text-muted-foreground",children:c.jsx("p",{children:"左にスワイプでスキップ • ❤️タップで表示 • 右にスワイプで続ける"})})]})}const Zy=nr("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function pn({className:e,variant:t,...s}){return c.jsx("div",{className:B(Zy({variant:t}),e),...s})}const Jy=ru,ev=nu,tv=su,Fc=v.forwardRef(({className:e,...t},s)=>c.jsx(la,{ref:s,className:B("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Fc.displayName=la.displayName;const Ic=v.forwardRef(({className:e,children:t,...s},r)=>c.jsxs(tv,{children:[c.jsx(Fc,{}),c.jsxs(ca,{ref:r,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,c.jsxs(tu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Tn,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ic.displayName=ca.displayName;const Uc=({className:e,...t})=>c.jsx("div",{className:B("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Uc.displayName="DialogHeader";const Bc=v.forwardRef(({className:e,...t},s)=>c.jsx(ua,{ref:s,className:B("text-lg font-semibold leading-none tracking-tight",e),...t}));Bc.displayName=ua.displayName;const qc=v.forwardRef(({className:e,...t},s)=>c.jsx(da,{ref:s,className:B("text-sm text-muted-foreground",e),...t}));qc.displayName=da.displayName;const jt=v.forwardRef(({className:e,type:t,...s},r)=>c.jsx("input",{type:t,className:B("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));jt.displayName="Input";var sv="Label",zc=v.forwardRef((e,t)=>c.jsx(bt.label,{...e,ref:t,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));zc.displayName=sv;var Wc=zc;const rv=nr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ke=v.forwardRef(({className:e,...t},s)=>c.jsx(Wc,{ref:s,className:B(rv(),e),...t}));ke.displayName=Wc.displayName;var nv="Separator",Xo="horizontal",iv=["horizontal","vertical"],Kc=v.forwardRef((e,t)=>{const{decorative:s,orientation:r=Xo,...n}=e,o=ov(r)?r:Xo,a=s?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return c.jsx(bt.div,{"data-orientation":o,...a,...n,ref:t})});Kc.displayName=nv;function ov(e){return iv.includes(e)}var $c=Kc;const gn=v.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},n)=>c.jsx($c,{ref:n,decorative:s,orientation:t,className:B("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));gn.displayName=$c.displayName;function av(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var di="Switch",[lv,Tv]=aa(di),[cv,uv]=lv(di),Gc=v.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:n,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:u,form:d,...h}=e,[f,p]=v.useState(null),b=iu(t,S=>p(S)),g=v.useRef(!1),x=f?d||!!f.closest("form"):!0,[y=!1,j]=ou({prop:n,defaultProp:o,onChange:u});return c.jsxs(cv,{scope:s,checked:y,disabled:a,children:[c.jsx(bt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":Xc(y),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:b,onClick:au(e.onClick,S=>{j(M=>!M),x&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),x&&c.jsx(dv,{control:f,bubbles:!g.current,name:r,value:l,checked:y,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});Gc.displayName=di;var Hc="SwitchThumb",Qc=v.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,n=uv(Hc,s);return c.jsx(bt.span,{"data-state":Xc(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})});Qc.displayName=Hc;var dv=e=>{const{control:t,checked:s,bubbles:r=!0,...n}=e,o=v.useRef(null),i=av(s),a=lu(t);return v.useEffect(()=>{const l=o.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==s&&h){const f=new Event("click",{bubbles:r});h.call(l,s),l.dispatchEvent(f)}},[i,s,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Xc(e){return e?"checked":"unchecked"}var Yc=Gc,hv=Qc;const Zc=v.forwardRef(({className:e,...t},s)=>c.jsx(Yc,{className:B("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:c.jsx(hv,{className:B("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Zc.displayName=Yc.displayName;function os({className:e,...t}){return c.jsx("div",{className:B("animate-pulse rounded-md bg-muted",e),...t})}const fv={async sendInterest(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("user_interests").insert({user_id:t.id,target_user_id:e,interest_type:"interested"}).select().single();if(r)throw r;return s},async removeInterest(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:s}=await C.from("user_interests").delete().eq("user_id",t.id).eq("target_user_id",e);if(s)throw s},async getReceivedInterests(){const{data:{user:e}}=await C.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:s}=await C.from("user_interests").select(`
        *,
        sender:users!user_interests_user_id_fkey (
          id,
          first_name,
          last_name,
          display_name,
          profile_image_url,
          avatar_url
        )
      `).eq("target_user_id",e.id).eq("interest_type","interested").order("created_at",{ascending:!1});if(s)throw s;return t||[]},async getSentInterests(){const{data:{user:e}}=await C.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:s}=await C.from("user_interests").select(`
        *,
        target:users!user_interests_target_user_id_fkey (
          id,
          first_name,
          last_name,
          display_name,
          profile_image_url,
          avatar_url
        )
      `).eq("user_id",e.id).eq("interest_type","interested").order("created_at",{ascending:!1});if(s)throw s;return t||[]},async checkInterestStatus(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("user_interests").select("*").eq("user_id",t.id).eq("target_user_id",e).eq("interest_type","interested").single();if(r&&r.code!=="PGRST116")throw r;return!!s}};function mv({projectId:e,isOwner:t}){const{toast:s}=al(),r=rr(),[n,o]=v.useState(""),[i,a]=v.useState({matchAll:!1,minOverlap:1,limit:20,offset:0,university:"",skillFilter:""}),[l,u]=v.useState(!1),{data:d=[],isLoading:h}=gs({queryKey:["project-required-skills",e],queryFn:()=>Vs.getProjectSkills(e)}),{data:f=[],isLoading:p,refetch:b}=gs({queryKey:["collaborator-candidates",e,i],queryFn:()=>Vs.searchCandidates(e,i.matchAll,i.minOverlap,i.limit,i.offset),enabled:l&&d.length>0}),g=Pt({mutationFn:w=>Vs.upsertSkill(e,w,1),onSuccess:()=>{r.invalidateQueries({queryKey:["project-required-skills",e]}),o(""),s({title:"スキルを追加しました",description:"協力者検索でこのスキルが使用されます。"})},onError:()=>{s({title:"エラーが発生しました",description:"スキルの追加に失敗しました。",variant:"destructive"})}}),x=Pt({mutationFn:w=>Vs.removeSkill(e,w),onSuccess:()=>{r.invalidateQueries({queryKey:["project-required-skills",e]}),s({title:"スキルを削除しました"})},onError:()=>{s({title:"エラーが発生しました",description:"スキルの削除に失敗しました。",variant:"destructive"})}}),y=Pt({mutationFn:({recipientId:w,content:P})=>Fa.sendMessage(w,P),onSuccess:()=>{s({title:"招待メッセージを送信しました",description:"相手に通知が届きます。"})},onError:()=>{s({title:"エラーが発生しました",description:"メッセージの送信に失敗しました。",variant:"destructive"})}}),j=Pt({mutationFn:w=>fv.sendInterest(w),onSuccess:()=>{s({title:"気になるを送信しました",description:"相手に通知が届きます。"})},onError:()=>{s({title:"エラーが発生しました",description:"気になるの送信に失敗しました。",variant:"destructive"})}}),S=()=>{n.trim()&&!d.some(w=>w.skill===n.trim())&&g.mutate(n.trim())},M=w=>{x.mutate(w)},A=w=>{const P=`こんにちは！プロジェクト「${e}」であなたのスキルを必要としています。ぜひ一緒に取り組みませんか？詳細はプロジェクトページをご覧ください。`;y.mutate({recipientId:w.user_id,content:P})},R=w=>{j.mutate(w.user_id)},k=()=>{if(d.length===0){s({title:"必要スキルを追加してください",description:"協力者検索には少なくとも1つのスキルが必要です。",variant:"destructive"});return}u(!0),b()};return c.jsxs(H,{children:[c.jsxs(be,{children:[c.jsxs(we,{className:"flex items-center gap-2",children:[c.jsx(xs,{className:"w-5 h-5"}),"協力者検索"]}),c.jsx(ir,{children:"プロジェクトに必要なスキルを設定して、適切な協力者を見つけましょう"})]}),c.jsxs(Z,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(ke,{className:"text-sm font-medium",children:"必要スキル"}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-3",children:h?Array.from({length:3}).map((w,P)=>c.jsx(os,{className:"w-20 h-6 rounded-full"},P)):d.map(w=>c.jsxs(pn,{variant:"secondary",className:"flex items-center gap-1",children:[w.skill,t&&c.jsx(Tn,{className:"w-3 h-3 cursor-pointer hover:text-destructive",onClick:()=>M(w.skill)})]},w.skill))}),t&&c.jsxs("div",{className:"flex gap-2",children:[c.jsx(jt,{placeholder:"スキルを追加 (例: React, Python, UI/UX)",value:n,onChange:w=>o(w.target.value),onKeyPress:w=>w.key==="Enter"&&S(),className:"flex-1"}),c.jsx(K,{onClick:S,disabled:!n.trim()||g.isPending,size:"sm",children:c.jsx(vs,{className:"w-4 h-4"})})]})]}),d.length>0&&c.jsxs(c.Fragment,{children:[c.jsx(gn,{}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ke,{className:"text-sm font-medium",children:"検索設定"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(vh,{className:"w-4 h-4"}),c.jsx(Zc,{checked:i.matchAll,onCheckedChange:w=>a(P=>({...P,matchAll:w}))}),c.jsx(ke,{className:"text-sm",children:"すべてのスキル必須"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ke,{className:"text-xs",children:"最小一致数"}),c.jsx(jt,{type:"number",min:"1",max:d.length,value:i.minOverlap,onChange:w=>a(P=>({...P,minOverlap:parseInt(w.target.value)||1})),className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx(ke,{className:"text-xs",children:"結果件数"}),c.jsx(jt,{type:"number",min:"5",max:"50",value:i.limit,onChange:w=>a(P=>({...P,limit:parseInt(w.target.value)||20})),className:"mt-1"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs(ke,{className:"text-xs flex items-center gap-1",children:[c.jsx(wh,{className:"w-3 h-3"}),"大学フィルター"]}),c.jsx(jt,{placeholder:"例: 青山学院大学",value:i.university,onChange:w=>a(P=>({...P,university:w.target.value})),className:"mt-1"})]}),c.jsxs("div",{children:[c.jsxs(ke,{className:"text-xs flex items-center gap-1",children:[c.jsx(ph,{className:"w-3 h-3"}),"スキルキーワード"]}),c.jsx(jt,{placeholder:"追加検索キーワード",value:i.skillFilter,onChange:w=>a(P=>({...P,skillFilter:w.target.value})),className:"mt-1"})]})]}),c.jsxs(K,{onClick:k,className:"w-full",disabled:p,children:[c.jsx(Sh,{className:"w-4 h-4 mr-2"}),p?"検索中...":"協力者を検索"]})]}),l&&c.jsxs(c.Fragment,{children:[c.jsx(gn,{}),c.jsxs("div",{children:[c.jsxs(ke,{className:"text-sm font-medium",children:["検索結果 (",f.length," 名)"]}),c.jsx("div",{className:"space-y-3 mt-3",children:p?Array.from({length:3}).map((w,P)=>c.jsx(H,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(os,{className:"w-10 h-10 rounded-full"}),c.jsxs("div",{className:"flex-1",children:[c.jsx(os,{className:"w-24 h-4 mb-1"}),c.jsx(os,{className:"w-32 h-3"})]}),c.jsx(os,{className:"w-16 h-8"})]})},P)):f.length===0?c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(xs,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"条件に一致する協力者が見つかりませんでした"}),c.jsx("p",{className:"text-sm",children:"検索条件を調整してみてください"})]}):f.map(w=>{var P;return c.jsx(H,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(Nn,{children:[c.jsx(En,{src:w.user.profile_image_url||w.user.avatar_url}),c.jsx(Rn,{children:((P=w.user.first_name)==null?void 0:P[0])||"U"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:w.user.display_name||w.user.first_name||"Anonymous"}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[w.overlap_count," / ",d.length," スキル一致 (",w.overlap_percentage,"%)"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(pn,{variant:"outline",children:[c.jsx(Ph,{className:"w-3 h-3 mr-1"}),w.overlap_percentage,"%"]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsxs(K,{size:"sm",variant:"outline",onClick:()=>R(w),disabled:j.isPending,children:[c.jsx(Ya,{className:"w-4 h-4 mr-1"}),"気になる"]}),t&&c.jsxs(K,{size:"sm",onClick:()=>A(w),disabled:y.isPending,children:[c.jsx(bh,{className:"w-4 h-4 mr-1"}),"招待"]})]})]})]})},w.user_id)})})]})]})]})]})]})}function pv(){const{user:e}=Pn(),[t,s]=v.useState(null),{data:r=[],isLoading:n,error:o}=gs({queryKey:["/api/projects"],select:i=>{if(console.log("Projects data in select:",i),console.log("Current user in mine.tsx:",e),!i||!Array.isArray(i))return console.log("No valid data array found"),[];const a=i.filter(l=>{const u=l.creatorId||l.creator_id,d=e==null?void 0:e.id;return console.log("Comparing project creator:",u,"with user:",d),u===d});return console.log("Filtered user projects:",a),a}});return console.log("Projects loading:",n),console.log("Projects data:",r),console.log("Projects error:",o),n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"あなたのプロジェクトを読み込み中..."})]})}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"マイプロジェクト"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"あなたのビジョンを現実に変えるために作成したプロジェクト"})]}),c.jsx(ge,{href:"/projects/new",children:c.jsxs(K,{"data-testid":"button-create-project",children:[c.jsx(vs,{className:"w-4 h-4 mr-2"}),"プロジェクト作成"]})})]}),r.length===0?c.jsx(H,{className:"text-center py-12",children:c.jsx(Z,{children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsx("h3",{className:"text-lg font-medium mb-2",children:"まだプロジェクトがありません"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"あなたのビジョンを現実にしませんか？最初のプロジェクトを作成して、コミュニティを築いていきましょう。"}),c.jsx(ge,{href:"/projects/new",children:c.jsxs(K,{"data-testid":"button-create-first-project",children:[c.jsx(vs,{className:"w-4 h-4 mr-2"}),"最初のプロジェクトを作成"]})})]})})}):c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(i=>{var a,l,u;return c.jsxs(H,{className:"hover-elevate",children:[c.jsxs(be,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(pn,{variant:i.isActive?"default":"secondary",children:i.isActive?"アクティブ":"非アクティブ"}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(Xa,{className:"w-3 h-3"}),(()=>{try{return An(new Date(i.createdAt||Date.now()),{addSuffix:!0})}catch{return""}})()]})]}),c.jsx(we,{className:"line-clamp-2",children:c.jsx(ge,{href:`/projects/${i.id}`,className:"hover:text-primary transition-colors","data-testid":`link-project-${i.id}`,children:i.title})}),c.jsx(ir,{className:"line-clamp-3",children:i.description})]}),c.jsxs(Z,{children:[c.jsxs("div",{className:"flex gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx($t,{className:"w-4 h-4 text-blue-500"}),c.jsx("span",{children:((a=i.participationCounts)==null?void 0:a.watch)||0})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ys,{className:"w-4 h-4 text-orange-500"}),c.jsx("span",{children:((l=i.participationCounts)==null?void 0:l.raiseHand)||0})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Je,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{children:((u=i.participationCounts)==null?void 0:u.commit)||0})]})]}),c.jsxs("div",{className:"mt-4 pt-4 border-t space-y-2",children:[c.jsx(ge,{href:`/projects/${i.id}`,children:c.jsx(K,{variant:"outline",className:"w-full","data-testid":`button-view-project-${i.id}`,children:"プロジェクトを表示"})}),c.jsxs(Jy,{open:t===i.id,onOpenChange:d=>s(d?i.id:null),children:[c.jsx(ev,{asChild:!0,children:c.jsxs(K,{variant:"secondary",className:"w-full","data-testid":`button-find-collaborators-${i.id}`,children:[c.jsx(xs,{className:"w-4 h-4 mr-2"}),"協力者を探す"]})}),c.jsxs(Ic,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[c.jsxs(Uc,{children:[c.jsxs(Bc,{children:["協力者検索 - ",i.title]}),c.jsx(qc,{children:"プロジェクトに最適な協力者を見つけましょう"})]}),c.jsx(mv,{projectId:i.id,isOwner:!0})]})]})]})]})]},i.id)})})]})}function gv(){return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsxs("nav",{className:"flex items-center justify-between py-4 border-b",children:[c.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"VisionMates"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("a",{href:"/",className:"text-gray-700 hover:text-blue-600",children:"ホーム"}),c.jsx("a",{href:"/discover",className:"text-gray-700 hover:text-blue-600",children:"発見"}),c.jsx("a",{href:"/projects/mine",className:"text-gray-700 hover:text-blue-600",children:"マイプロジェクト"})]})]}),c.jsx("main",{className:"py-8",children:c.jsxs(Uu,{children:[c.jsx(Ds,{path:"/",component:xf}),c.jsx(Ds,{path:"/discover",component:Yy}),c.jsx(Ds,{path:"/projects/mine",component:pv}),c.jsx(Ds,{path:"*",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"ページが見つかりません"}),c.jsx("a",{href:"/",className:"text-blue-600 hover:underline",children:"ホームに戻る"})]})})]})})]})})}function yv(){const{user:e,isLoading:t}=Pn();return v.useEffect(()=>{(()=>{const o=window.location;if(o.search[1]==="/"){const i=o.search.slice(1).split("&").map(function(a){return a.replace(/~and~/g,"&")}).join("?");window.history.replaceState(null,null,o.pathname.slice(0,-1)+i+o.hash)}})(),(()=>{const o=window.location.hash;if(o&&(o.includes("access_token")||o.includes("error"))){console.log("🔐 OAuth callback detected:",o);const i=new URLSearchParams(o.substring(1)),a=new URL(window.location.href);a.hash="",i.forEach((l,u)=>{a.searchParams.set(u,l)}),window.history.replaceState({},"",a.toString())}})()},[]),console.log("Current user:",e),console.log("Is user logged in:",!!e),t?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{children:"読み込み中..."})]})}):c.jsx(od,{client:Nd,children:c.jsx(ja,{base:"/replit_vision_mate",children:e?c.jsx(gv,{}):c.jsx(Ch,{})})})}ha(document.getElementById("root")).render(c.jsx(yv,{}));
