var fi=e=>{throw TypeError(e)};var yr=(e,t,s)=>t.has(e)||fi("Cannot "+s);var m=(e,t,s)=>(yr(e,t,"read from private field"),s?s.call(e):t.get(e)),M=(e,t,s)=>t.has(e)?fi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),T=(e,t,s,r)=>(yr(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),_=(e,t,s)=>(yr(e,t,"access private method"),s);var Os=(e,t,s,r)=>({set _(n){T(e,t,n,s)},get _(){return m(e,t,r)}});import{j as l,c as ca,P as wt,u as iu,a as Ir,S as ou,O as ua,C as da,b as au,T as ha,D as fa,d as lu,R as cu,e as uu,f as du,g as hu,h as fu,i as mu}from"./ui-BK6n24mn.js";import{a as pu,r as v,R as gu}from"./vendor-Dp9Vuofq.js";import{c as yu,_ as vr}from"./supabase-CPO8Fjiv.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();var ma,mi=pu;ma=mi.createRoot,mi.hydrateRoot;function vu(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,r,n,o,i=[],a="",c=e.split("/");for(c[0]||c.shift();n=c.shift();)s=n[0],s==="*"?(i.push(s),a+=n[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(r=n.indexOf("?",1),o=n.indexOf(".",1),i.push(n.substring(1,~r?r:~o?o:n.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+n.substring(o))):a+="/"+n;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var pa={exports:{}},ga={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=v;function xu(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bu=typeof Object.is=="function"?Object.is:xu,wu=$t.useState,ju=$t.useEffect,Su=$t.useLayoutEffect,Pu=$t.useDebugValue;function Cu(e,t){var s=t(),r=wu({inst:{value:s,getSnapshot:t}}),n=r[0].inst,o=r[1];return Su(function(){n.value=s,n.getSnapshot=t,xr(n)&&o({inst:n})},[e,s,t]),ju(function(){return xr(n)&&o({inst:n}),e(function(){xr(n)&&o({inst:n})})},[e]),Pu(s),s}function xr(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!bu(e,s)}catch{return!0}}function Tu(e,t){return t()}var Au=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tu:Cu;ga.useSyncExternalStore=$t.useSyncExternalStore!==void 0?$t.useSyncExternalStore:Au;pa.exports=ga;var ya=pa.exports;const Nu=gu.useInsertionEffect,Mu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Eu=Mu?v.useLayoutEffect:v.useEffect,ku=Nu||Eu,va=e=>{const t=v.useRef([e,(...s)=>t[0](...s)]).current;return ku(()=>{t[0]=e}),t[1]},Ru="popstate",wn="pushState",jn="replaceState",Du="hashchange",pi=[Ru,wn,jn,Du],_u=e=>{for(const t of pi)addEventListener(t,e);return()=>{for(const t of pi)removeEventListener(t,e)}},xa=(e,t)=>ya.useSyncExternalStore(_u,e,t),Vu=()=>location.search,Ou=({ssrSearch:e=""}={})=>xa(Vu,()=>e),gi=()=>location.pathname,Lu=({ssrPath:e}={})=>xa(gi,e?()=>e:gi),Fu=(e,{replace:t=!1,state:s=null}={})=>history[t?jn:wn](s,"",e),Iu=(e={})=>[Lu(e),Fu],yi=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[yi]>"u"){for(const e of[wn,jn]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),s}}Object.defineProperty(window,yi,{value:!0})}const Uu=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ba=(e="")=>e==="/"?"":e,Bu=(e,t)=>e[0]==="~"?e.slice(1):ba(t)+e,qu=(e="",t)=>Uu(vi(ba(e)),vi(t)),vi=e=>{try{return decodeURI(e)}catch{return e}},wa={hook:Iu,searchHook:Ou,parser:vu,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},ja=v.createContext(wa),or=()=>v.useContext(ja),Sa={},Pa=v.createContext(Sa),zu=()=>v.useContext(Pa),Sn=e=>{const[t,s]=e.hook(e);return[qu(e.base,t),va((r,n)=>s(Bu(r,e.base),n))]},Ca=(e,t,s,r)=>{const{pattern:n,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=n.exec(s)||[],[a,...c]=i;return a!==void 0?[!0,(()=>{const u=o!==!1?Object.fromEntries(o.map((h,f)=>[h,c[f]])):i.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},Ta=({children:e,...t})=>{var d,h;const s=or(),r=t.hook?wa:s;let n=r;const[o,i]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=o),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let a=v.useRef({}),c=a.current,u=c;for(let f in r){const p=f==="base"?r[f]+(t[f]||""):t[f]||r[f];c===u&&p!==u[f]&&(a.current=u={...u}),u[f]=p,p!==r[f]&&(n=u)}return v.createElement(ja.Provider,{value:n,children:e})},xi=({children:e,component:t},s)=>t?v.createElement(t,{params:s}):typeof e=="function"?e(s):e,Wu=e=>{let t=v.useRef(Sa),s=t.current;for(const r in e)e[r]!==s[r]&&(s=e);return Object.keys(e).length===0&&(s=e),t.current=s},ss=({path:e,nest:t,match:s,...r})=>{const n=or(),[o]=Sn(n),[i,a,c]=s??Ca(n.parser,e,o,t),u=Wu({...zu(),...a});if(!i)return null;const d=c?v.createElement(Ta,{base:c},xi(r,u)):xi(r,u);return v.createElement(Pa.Provider,{value:u,children:d})},G=v.forwardRef((e,t)=>{const s=or(),[r,n]=Sn(s),{to:o="",href:i=o,onClick:a,asChild:c,children:u,className:d,replace:h,state:f,...p}=e,b=va(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),n(i,e)))}),g=s.hrefs(i[0]==="~"?i.slice(1):s.base+i,s);return c&&v.isValidElement(u)?v.cloneElement(u,{onClick:b,href:g}):v.createElement("a",{...p,onClick:b,href:g,className:d!=null&&d.call?d(r===i):d,children:u,ref:t})}),Aa=e=>Array.isArray(e)?e.flatMap(t=>Aa(t&&t.type===v.Fragment?t.props.children:t)):[e],$u=({children:e,location:t})=>{const s=or(),[r]=Sn(s);for(const n of Aa(e)){let o=0;if(v.isValidElement(n)&&(o=Ca(s.parser,n.props.path,t||r,n.props.nest))[0])return v.cloneElement(n,{match:o})}return null},cs={v:[]},bi=()=>cs.v.forEach(e=>e()),Ku=e=>(cs.v.push(e)===1&&addEventListener("hashchange",bi),()=>{cs.v=cs.v.filter(t=>t!==e),cs.v.length||removeEventListener("hashchange",bi)}),Gu=()=>"/"+location.hash.replace(/^#?\/?/,""),Hu=(e,{state:t=null}={})=>{const[s,r]=e.replace(/^#?\/?/,"").split("?");history.replaceState(t,"",location.pathname+(r?`?${r}`:location.search)+(location.hash=`#/${s}`))},Na=({ssrPath:e="/"}={})=>[ya.useSyncExternalStore(Ku,Gu,()=>e),Hu];Na.hrefs=e=>"#"+e;var Zt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xt=typeof window>"u"||"Deno"in globalThis;function ve(){}function Qu(e,t){return typeof e=="function"?e(t):e}function Ur(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ma(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Et(e,t){return typeof e=="function"?e(t):e}function we(e,t){return typeof e=="function"?e(t):e}function wi(e,t){const{type:s="all",exact:r,fetchStatus:n,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==Pn(i,t.options))return!1}else if(!vs(t.queryKey,i))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||n&&n!==t.state.fetchStatus||o&&!o(t))}function ji(e,t){const{exact:s,status:r,predicate:n,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(s){if(bt(t.options.mutationKey)!==bt(o))return!1}else if(!vs(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||n&&!n(t))}function Pn(e,t){return((t==null?void 0:t.queryKeyHashFn)||bt)(e)}function bt(e){return JSON.stringify(e,(t,s)=>Br(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function vs(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!vs(e[s],t[s])):!1}function Ea(e,t){if(e===t)return e;const s=Si(e)&&Si(t);if(s||Br(e)&&Br(t)){const r=s?e:Object.keys(e),n=r.length,o=s?t:Object.keys(t),i=o.length,a=s?[]:{};let c=0;for(let u=0;u<i;u++){const d=s?u:o[u];(!s&&r.includes(d)||s)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=Ea(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&c++)}return n===i&&c===n?e:a}return t}function Xs(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function Si(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Br(e){if(!Pi(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Pi(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Pi(e){return Object.prototype.toString.call(e)==="[object Object]"}function Xu(e){return new Promise(t=>{setTimeout(t,e)})}function qr(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?Ea(e,t):t}function Yu(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function Zu(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var Cn=Symbol();function ka(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Cn?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var dt,We,Rt,Jo,Ju=(Jo=class extends Zt{constructor(){super();M(this,dt);M(this,We);M(this,Rt);T(this,Rt,t=>{if(!xt&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){m(this,We)||this.setEventListener(m(this,Rt))}onUnsubscribe(){var t;this.hasListeners()||((t=m(this,We))==null||t.call(this),T(this,We,void 0))}setEventListener(t){var s;T(this,Rt,t),(s=m(this,We))==null||s.call(this),T(this,We,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){m(this,dt)!==t&&(T(this,dt,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof m(this,dt)=="boolean"?m(this,dt):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},dt=new WeakMap,We=new WeakMap,Rt=new WeakMap,Jo),Tn=new Ju,Dt,$e,_t,ea,ed=(ea=class extends Zt{constructor(){super();M(this,Dt,!0);M(this,$e);M(this,_t);T(this,_t,t=>{if(!xt&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){m(this,$e)||this.setEventListener(m(this,_t))}onUnsubscribe(){var t;this.hasListeners()||((t=m(this,$e))==null||t.call(this),T(this,$e,void 0))}setEventListener(t){var s;T(this,_t,t),(s=m(this,$e))==null||s.call(this),T(this,$e,t(this.setOnline.bind(this)))}setOnline(t){m(this,Dt)!==t&&(T(this,Dt,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return m(this,Dt)}},Dt=new WeakMap,$e=new WeakMap,_t=new WeakMap,ea),Ys=new ed;function zr(){let e,t;const s=new Promise((n,o)=>{e=n,t=o});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),e(n)},s.reject=n=>{r({status:"rejected",reason:n}),t(n)},s}function td(e){return Math.min(1e3*2**e,3e4)}function Ra(e){return(e??"online")==="online"?Ys.isOnline():!0}var Da=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function br(e){return e instanceof Da}function _a(e){let t=!1,s=0,r=!1,n;const o=zr(),i=g=>{var x;r||(f(new Da(g)),(x=e.abort)==null||x.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>Tn.isFocused()&&(e.networkMode==="always"||Ys.isOnline())&&e.canRun(),d=()=>Ra(e.networkMode)&&e.canRun(),h=g=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,g),n==null||n(),o.resolve(g))},f=g=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,g),n==null||n(),o.reject(g))},p=()=>new Promise(g=>{var x;n=y=>{(r||u())&&g(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;n=void 0,r||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(r)return;let g;const x=s===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var k;if(r)return;const S=e.retry??(xt?0:3),j=e.retryDelay??td,N=typeof j=="function"?j(s,y):j,A=S===!0||typeof S=="number"&&s<S||typeof S=="function"&&S(s,y);if(t||!A){f(y);return}s++,(k=e.onFail)==null||k.call(e,s,y),Xu(N).then(()=>u()?void 0:p()).then(()=>{t?f(y):b()})})};return{promise:o,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?b():p().then(b),o)}}function sd(){let e=[],t=0,s=a=>{a()},r=a=>{a()},n=a=>setTimeout(a,0);const o=a=>{t?e.push(a):n(()=>{s(a)})},i=()=>{const a=e;e=[],a.length&&n(()=>{r(()=>{a.forEach(c=>{s(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{s=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{n=a}}}var Z=sd(),ht,ta,Va=(ta=class{constructor(){M(this,ht)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ur(this.gcTime)&&T(this,ht,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xt?1/0:5*60*1e3))}clearGcTimeout(){m(this,ht)&&(clearTimeout(m(this,ht)),T(this,ht,void 0))}},ht=new WeakMap,ta),Vt,Ot,ye,se,As,ft,be,ke,sa,rd=(sa=class extends Va{constructor(t){super();M(this,be);M(this,Vt);M(this,Ot);M(this,ye);M(this,se);M(this,As);M(this,ft);T(this,ft,!1),T(this,As,t.defaultOptions),this.setOptions(t.options),this.observers=[],T(this,ye,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,T(this,Vt,nd(this.options)),this.state=t.state??m(this,Vt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=m(this,se))==null?void 0:t.promise}setOptions(t){this.options={...m(this,As),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&m(this,ye).remove(this)}setData(t,s){const r=qr(this.state.data,t,this.options);return _(this,be,ke).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){_(this,be,ke).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,n;const s=(r=m(this,se))==null?void 0:r.promise;return(n=m(this,se))==null||n.cancel(t),s?s.then(ve).catch(ve):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(m(this,Vt))}isActive(){return this.observers.some(t=>we(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Ma(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=m(this,se))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=m(this,se))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),m(this,ye).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(m(this,se)&&(m(this,ft)?m(this,se).cancel({revert:!0}):m(this,se).cancelRetry()),this.scheduleGc()),m(this,ye).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_(this,be,ke).call(this,{type:"invalidate"})}fetch(t,s){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(m(this,se))return m(this,se).continueRetry(),m(this,se).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(T(this,ft,!0),r.signal)})},o=()=>{const h=ka(this.options,s),f={queryKey:this.queryKey,meta:this.meta};return n(f),T(this,ft,!1),this.options.persister?this.options.persister(h,f,this):h(f)},i={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};n(i),(c=this.options.behavior)==null||c.onFetch(i,this),T(this,Ot,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&_(this,be,ke).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=h=>{var f,p,b,g;br(h)&&h.silent||_(this,be,ke).call(this,{type:"error",error:h}),br(h)||((p=(f=m(this,ye).config).onError)==null||p.call(f,h,this),(g=(b=m(this,ye).config).onSettled)==null||g.call(b,this.state.data,h,this)),this.scheduleGc()};return T(this,se,_a({initialPromise:s==null?void 0:s.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,b,g;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){a(x);return}(p=(f=m(this,ye).config).onSuccess)==null||p.call(f,h,this),(g=(b=m(this,ye).config).onSettled)==null||g.call(b,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{_(this,be,ke).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{_(this,be,ke).call(this,{type:"pause"})},onContinue:()=>{_(this,be,ke).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),m(this,se).start()}},Vt=new WeakMap,Ot=new WeakMap,ye=new WeakMap,se=new WeakMap,As=new WeakMap,ft=new WeakMap,be=new WeakSet,ke=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Oa(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return br(n)&&n.revert&&m(this,Ot)?{...m(this,Ot),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),Z.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),m(this,ye).notify({query:this,type:"updated",action:t})})},sa);function Oa(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ra(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nd(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var je,ra,id=(ra=class extends Zt{constructor(t={}){super();M(this,je);this.config=t,T(this,je,new Map)}build(t,s,r){const n=s.queryKey,o=s.queryHash??Pn(n,s);let i=this.get(o);return i||(i=new rd({cache:this,queryKey:n,queryHash:o,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(i)),i}add(t){m(this,je).has(t.queryHash)||(m(this,je).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=m(this,je).get(t.queryHash);s&&(t.destroy(),s===t&&m(this,je).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Z.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return m(this,je).get(t)}getAll(){return[...m(this,je).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>wi(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>wi(t,r)):s}notify(t){Z.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Z.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Z.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},je=new WeakMap,ra),Se,oe,mt,Pe,qe,na,od=(na=class extends Va{constructor(t){super();M(this,Pe);M(this,Se);M(this,oe);M(this,mt);this.mutationId=t.mutationId,T(this,oe,t.mutationCache),T(this,Se,[]),this.state=t.state||La(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){m(this,Se).includes(t)||(m(this,Se).push(t),this.clearGcTimeout(),m(this,oe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){T(this,Se,m(this,Se).filter(s=>s!==t)),this.scheduleGc(),m(this,oe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){m(this,Se).length||(this.state.status==="pending"?this.scheduleGc():m(this,oe).remove(this))}continue(){var t;return((t=m(this,mt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var n,o,i,a,c,u,d,h,f,p,b,g,x,y,S,j,N,A,k,R;T(this,mt,_a({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(w,P)=>{_(this,Pe,qe).call(this,{type:"failed",failureCount:w,error:P})},onPause:()=>{_(this,Pe,qe).call(this,{type:"pause"})},onContinue:()=>{_(this,Pe,qe).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>m(this,oe).canRun(this)}));const s=this.state.status==="pending",r=!m(this,mt).canStart();try{if(!s){_(this,Pe,qe).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(n=m(this,oe).config).onMutate)==null?void 0:o.call(n,t,this));const P=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));P!==this.state.context&&_(this,Pe,qe).call(this,{type:"pending",context:P,variables:t,isPaused:r})}const w=await m(this,mt).start();return await((u=(c=m(this,oe).config).onSuccess)==null?void 0:u.call(c,w,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,w,t,this.state.context)),await((p=(f=m(this,oe).config).onSettled)==null?void 0:p.call(f,w,null,this.state.variables,this.state.context,this)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,w,null,t,this.state.context)),_(this,Pe,qe).call(this,{type:"success",data:w}),w}catch(w){try{throw await((y=(x=m(this,oe).config).onError)==null?void 0:y.call(x,w,t,this.state.context,this)),await((j=(S=this.options).onError)==null?void 0:j.call(S,w,t,this.state.context)),await((A=(N=m(this,oe).config).onSettled)==null?void 0:A.call(N,void 0,w,this.state.variables,this.state.context,this)),await((R=(k=this.options).onSettled)==null?void 0:R.call(k,void 0,w,t,this.state.context)),w}finally{_(this,Pe,qe).call(this,{type:"error",error:w})}}finally{m(this,oe).runNext(this)}}},Se=new WeakMap,oe=new WeakMap,mt=new WeakMap,Pe=new WeakSet,qe=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Z.batch(()=>{m(this,Se).forEach(r=>{r.onMutationUpdate(t)}),m(this,oe).notify({mutation:this,type:"updated",action:t})})},na);function La(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fe,Ns,ia,ad=(ia=class extends Zt{constructor(t={}){super();M(this,fe);M(this,Ns);this.config=t,T(this,fe,new Map),T(this,Ns,Date.now())}build(t,s,r){const n=new od({mutationCache:this,mutationId:++Os(this,Ns)._,options:t.defaultMutationOptions(s),state:r});return this.add(n),n}add(t){const s=Ls(t),r=m(this,fe).get(s)??[];r.push(t),m(this,fe).set(s,r),this.notify({type:"added",mutation:t})}remove(t){var r;const s=Ls(t);if(m(this,fe).has(s)){const n=(r=m(this,fe).get(s))==null?void 0:r.filter(o=>o!==t);n&&(n.length===0?m(this,fe).delete(s):m(this,fe).set(s,n))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const s=(r=m(this,fe).get(Ls(t)))==null?void 0:r.find(n=>n.state.status==="pending");return!s||s===t}runNext(t){var r;const s=(r=m(this,fe).get(Ls(t)))==null?void 0:r.find(n=>n!==t&&n.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Z.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...m(this,fe).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(r=>ji(s,r))}findAll(t={}){return this.getAll().filter(s=>ji(t,s))}notify(t){Z.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Z.batch(()=>Promise.all(t.map(s=>s.continue().catch(ve))))}},fe=new WeakMap,Ns=new WeakMap,ia);function Ls(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Ci(e){return{onFetch:(t,s)=>{var d,h,f,p,b;const r=t.options,n=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const x=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=ka(t.options,t.fetchOptions),S=async(j,N,A)=>{if(g)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const k={queryKey:t.queryKey,pageParam:N,direction:A?"backward":"forward",meta:t.options.meta};x(k);const R=await y(k),{maxPages:w}=t.options,P=A?Zu:Yu;return{pages:P(j.pages,R,w),pageParams:P(j.pageParams,N,w)}};if(n&&o.length){const j=n==="backward",N=j?ld:Ti,A={pages:o,pageParams:i},k=N(r,A);a=await S(A,k,j)}else{const j=e??o.length;do{const N=c===0?i[0]??r.initialPageParam:Ti(r,a);if(c>0&&N==null)break;a=await S(a,N),c++}while(c<j)}return a};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=u}}}function Ti(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function ld(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var $,Ke,Ge,Lt,Ft,He,It,Ut,oa,cd=(oa=class{constructor(e={}){M(this,$);M(this,Ke);M(this,Ge);M(this,Lt);M(this,Ft);M(this,He);M(this,It);M(this,Ut);T(this,$,e.queryCache||new id),T(this,Ke,e.mutationCache||new ad),T(this,Ge,e.defaultOptions||{}),T(this,Lt,new Map),T(this,Ft,new Map),T(this,He,0)}mount(){Os(this,He)._++,m(this,He)===1&&(T(this,It,Tn.subscribe(async e=>{e&&(await this.resumePausedMutations(),m(this,$).onFocus())})),T(this,Ut,Ys.subscribe(async e=>{e&&(await this.resumePausedMutations(),m(this,$).onOnline())})))}unmount(){var e,t;Os(this,He)._--,m(this,He)===0&&((e=m(this,It))==null||e.call(this),T(this,It,void 0),(t=m(this,Ut))==null||t.call(this),T(this,Ut,void 0))}isFetching(e){return m(this,$).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return m(this,Ke).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=m(this,$).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),r=m(this,$).build(this,s);return e.revalidateIfStale&&r.isStaleByTime(Et(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return m(this,$).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),n=m(this,$).get(r.queryHash),o=n==null?void 0:n.state.data,i=Qu(t,o);if(i!==void 0)return m(this,$).build(this,r).setData(i,{...s,manual:!0})}setQueriesData(e,t,s){return Z.batch(()=>m(this,$).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=m(this,$).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=m(this,$);Z.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=m(this,$),r={type:"active",...e};return Z.batch(()=>(s.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},r=Z.batch(()=>m(this,$).findAll(e).map(n=>n.cancel(s)));return Promise.all(r).then(ve).catch(ve)}invalidateQueries(e={},t={}){return Z.batch(()=>{if(m(this,$).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Z.batch(()=>m(this,$).findAll(e).filter(n=>!n.isDisabled()).map(n=>{let o=n.fetch(void 0,s);return s.throwOnError||(o=o.catch(ve)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ve)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=m(this,$).build(this,t);return s.isStaleByTime(Et(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ve).catch(ve)}fetchInfiniteQuery(e){return e.behavior=Ci(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ve).catch(ve)}ensureInfiniteQueryData(e){return e.behavior=Ci(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ys.isOnline()?m(this,Ke).resumePausedMutations():Promise.resolve()}getQueryCache(){return m(this,$)}getMutationCache(){return m(this,Ke)}getDefaultOptions(){return m(this,Ge)}setDefaultOptions(e){T(this,Ge,e)}setQueryDefaults(e,t){m(this,Lt).set(bt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...m(this,Lt).values()];let s={};return t.forEach(r=>{vs(e,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(e,t){m(this,Ft).set(bt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...m(this,Ft).values()];let s={};return t.forEach(r=>{vs(e,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...m(this,Ge).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Pn(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Cn&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...m(this,Ge).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){m(this,$).clear(),m(this,Ke).clear()}},$=new WeakMap,Ke=new WeakMap,Ge=new WeakMap,Lt=new WeakMap,Ft=new WeakMap,He=new WeakMap,It=new WeakMap,Ut=new WeakMap,oa),ue,O,Ms,ae,pt,Bt,Qe,Ce,Es,qt,zt,gt,yt,Xe,Wt,F,us,Wr,$r,Kr,Gr,Hr,Qr,Xr,Fa,aa,ud=(aa=class extends Zt{constructor(t,s){super();M(this,F);M(this,ue);M(this,O);M(this,Ms);M(this,ae);M(this,pt);M(this,Bt);M(this,Qe);M(this,Ce);M(this,Es);M(this,qt);M(this,zt);M(this,gt);M(this,yt);M(this,Xe);M(this,Wt,new Set);this.options=s,T(this,ue,t),T(this,Ce,null),T(this,Qe,zr()),this.options.experimental_prefetchInRender||m(this,Qe).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(m(this,O).addObserver(this),Ai(m(this,O),this.options)?_(this,F,us).call(this):this.updateResult(),_(this,F,Gr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Yr(m(this,O),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Yr(m(this,O),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_(this,F,Hr).call(this),_(this,F,Qr).call(this),m(this,O).removeObserver(this)}setOptions(t,s){const r=this.options,n=m(this,O);if(this.options=m(this,ue).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof we(this.options.enabled,m(this,O))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_(this,F,Xr).call(this),m(this,O).setOptions(this.options),r._defaulted&&!Xs(this.options,r)&&m(this,ue).getQueryCache().notify({type:"observerOptionsUpdated",query:m(this,O),observer:this});const o=this.hasListeners();o&&Ni(m(this,O),n,this.options,r)&&_(this,F,us).call(this),this.updateResult(s),o&&(m(this,O)!==n||we(this.options.enabled,m(this,O))!==we(r.enabled,m(this,O))||Et(this.options.staleTime,m(this,O))!==Et(r.staleTime,m(this,O)))&&_(this,F,Wr).call(this);const i=_(this,F,$r).call(this);o&&(m(this,O)!==n||we(this.options.enabled,m(this,O))!==we(r.enabled,m(this,O))||i!==m(this,Xe))&&_(this,F,Kr).call(this,i)}getOptimisticResult(t){const s=m(this,ue).getQueryCache().build(m(this,ue),t),r=this.createResult(s,t);return hd(this,r)&&(T(this,ae,r),T(this,Bt,this.options),T(this,pt,m(this,O).state)),r}getCurrentResult(){return m(this,ae)}trackResult(t,s){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),s==null||s(n),t[n])})}),r}trackProp(t){m(this,Wt).add(t)}getCurrentQuery(){return m(this,O)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=m(this,ue).defaultQueryOptions(t),r=m(this,ue).getQueryCache().build(m(this,ue),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return _(this,F,us).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),m(this,ae)))}createResult(t,s){var w;const r=m(this,O),n=this.options,o=m(this,ae),i=m(this,pt),a=m(this,Bt),u=t!==r?t.state:m(this,Ms),{state:d}=t;let h={...d},f=!1,p;if(s._optimisticResults){const P=this.hasListeners(),V=!P&&Ai(t,s),X=P&&Ni(t,r,s,n);(V||X)&&(h={...h,...Oa(d.data,t.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:x}=h;if(s.select&&h.data!==void 0)if(o&&h.data===(i==null?void 0:i.data)&&s.select===m(this,Es))p=m(this,qt);else try{T(this,Es,s.select),p=s.select(h.data),p=qr(o==null?void 0:o.data,p,s),T(this,qt,p),T(this,Ce,null)}catch(P){T(this,Ce,P)}else p=h.data;if(s.placeholderData!==void 0&&p===void 0&&x==="pending"){let P;if(o!=null&&o.isPlaceholderData&&s.placeholderData===(a==null?void 0:a.placeholderData))P=o.data;else if(P=typeof s.placeholderData=="function"?s.placeholderData((w=m(this,zt))==null?void 0:w.state.data,m(this,zt)):s.placeholderData,s.select&&P!==void 0)try{P=s.select(P),T(this,Ce,null)}catch(V){T(this,Ce,V)}P!==void 0&&(x="success",p=qr(o==null?void 0:o.data,P,s),f=!0)}m(this,Ce)&&(b=m(this,Ce),p=m(this,qt),g=Date.now(),x="error");const y=h.fetchStatus==="fetching",S=x==="pending",j=x==="error",N=S&&y,A=p!==void 0,R={status:x,fetchStatus:h.fetchStatus,isPending:S,isSuccess:x==="success",isError:j,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!S,isLoadingError:j&&!A,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&A,isStale:An(t,s),refetch:this.refetch,promise:m(this,Qe)};if(this.options.experimental_prefetchInRender){const P=L=>{R.status==="error"?L.reject(R.error):R.data!==void 0&&L.resolve(R.data)},V=()=>{const L=T(this,Qe,R.promise=zr());P(L)},X=m(this,Qe);switch(X.status){case"pending":t.queryHash===r.queryHash&&P(X);break;case"fulfilled":(R.status==="error"||R.data!==X.value)&&V();break;case"rejected":(R.status!=="error"||R.error!==X.reason)&&V();break}}return R}updateResult(t){const s=m(this,ae),r=this.createResult(m(this,O),this.options);if(T(this,pt,m(this,O).state),T(this,Bt,this.options),m(this,pt).data!==void 0&&T(this,zt,m(this,O)),Xs(r,s))return;T(this,ae,r);const n={},o=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!m(this,Wt).size)return!0;const c=new Set(a??m(this,Wt));return this.options.throwOnError&&c.add("error"),Object.keys(m(this,ae)).some(u=>{const d=u;return m(this,ae)[d]!==s[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&o()&&(n.listeners=!0),_(this,F,Fa).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_(this,F,Gr).call(this)}},ue=new WeakMap,O=new WeakMap,Ms=new WeakMap,ae=new WeakMap,pt=new WeakMap,Bt=new WeakMap,Qe=new WeakMap,Ce=new WeakMap,Es=new WeakMap,qt=new WeakMap,zt=new WeakMap,gt=new WeakMap,yt=new WeakMap,Xe=new WeakMap,Wt=new WeakMap,F=new WeakSet,us=function(t){_(this,F,Xr).call(this);let s=m(this,O).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(ve)),s},Wr=function(){_(this,F,Hr).call(this);const t=Et(this.options.staleTime,m(this,O));if(xt||m(this,ae).isStale||!Ur(t))return;const r=Ma(m(this,ae).dataUpdatedAt,t)+1;T(this,gt,setTimeout(()=>{m(this,ae).isStale||this.updateResult()},r))},$r=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(m(this,O)):this.options.refetchInterval)??!1},Kr=function(t){_(this,F,Qr).call(this),T(this,Xe,t),!(xt||we(this.options.enabled,m(this,O))===!1||!Ur(m(this,Xe))||m(this,Xe)===0)&&T(this,yt,setInterval(()=>{(this.options.refetchIntervalInBackground||Tn.isFocused())&&_(this,F,us).call(this)},m(this,Xe)))},Gr=function(){_(this,F,Wr).call(this),_(this,F,Kr).call(this,_(this,F,$r).call(this))},Hr=function(){m(this,gt)&&(clearTimeout(m(this,gt)),T(this,gt,void 0))},Qr=function(){m(this,yt)&&(clearInterval(m(this,yt)),T(this,yt,void 0))},Xr=function(){const t=m(this,ue).getQueryCache().build(m(this,ue),this.options);if(t===m(this,O))return;const s=m(this,O);T(this,O,t),T(this,Ms,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Fa=function(t){Z.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(m(this,ae))}),m(this,ue).getQueryCache().notify({query:m(this,O),type:"observerResultsUpdated"})})},aa);function dd(e,t){return we(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ai(e,t){return dd(e,t)||e.state.data!==void 0&&Yr(e,t,t.refetchOnMount)}function Yr(e,t,s){if(we(t.enabled,e)!==!1){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&An(e,t)}return!1}function Ni(e,t,s,r){return(e!==t||we(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&An(e,s)}function An(e,t){return we(t.enabled,e)!==!1&&e.isStaleByTime(Et(t.staleTime,e))}function hd(e,t){return!Xs(e.getCurrentResult(),t)}var Ye,Ze,de,De,Le,zs,Zr,la,fd=(la=class extends Zt{constructor(s,r){super();M(this,Le);M(this,Ye);M(this,Ze);M(this,de);M(this,De);T(this,Ye,s),this.setOptions(r),this.bindMethods(),_(this,Le,zs).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var n;const r=this.options;this.options=m(this,Ye).defaultMutationOptions(s),Xs(this.options,r)||m(this,Ye).getMutationCache().notify({type:"observerOptionsUpdated",mutation:m(this,de),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&bt(r.mutationKey)!==bt(this.options.mutationKey)?this.reset():((n=m(this,de))==null?void 0:n.state.status)==="pending"&&m(this,de).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=m(this,de))==null||s.removeObserver(this)}onMutationUpdate(s){_(this,Le,zs).call(this),_(this,Le,Zr).call(this,s)}getCurrentResult(){return m(this,Ze)}reset(){var s;(s=m(this,de))==null||s.removeObserver(this),T(this,de,void 0),_(this,Le,zs).call(this),_(this,Le,Zr).call(this)}mutate(s,r){var n;return T(this,De,r),(n=m(this,de))==null||n.removeObserver(this),T(this,de,m(this,Ye).getMutationCache().build(m(this,Ye),this.options)),m(this,de).addObserver(this),m(this,de).execute(s)}},Ye=new WeakMap,Ze=new WeakMap,de=new WeakMap,De=new WeakMap,Le=new WeakSet,zs=function(){var r;const s=((r=m(this,de))==null?void 0:r.state)??La();T(this,Ze,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Zr=function(s){Z.batch(()=>{var r,n,o,i,a,c,u,d;if(m(this,De)&&this.hasListeners()){const h=m(this,Ze).variables,f=m(this,Ze).context;(s==null?void 0:s.type)==="success"?((n=(r=m(this,De)).onSuccess)==null||n.call(r,s.data,h,f),(i=(o=m(this,De)).onSettled)==null||i.call(o,s.data,null,h,f)):(s==null?void 0:s.type)==="error"&&((c=(a=m(this,De)).onError)==null||c.call(a,s.error,h,f),(d=(u=m(this,De)).onSettled)==null||d.call(u,void 0,s.error,h,f))}this.listeners.forEach(h=>{h(m(this,Ze))})})},la),Ia=v.createContext(void 0),ar=e=>{const t=v.useContext(Ia);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},md=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Ia.Provider,{value:e,children:t})),Ua=v.createContext(!1),pd=()=>v.useContext(Ua);Ua.Provider;function gd(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var yd=v.createContext(gd()),vd=()=>v.useContext(yd);function Ba(e,t){return typeof e=="function"?e(...t):!!e}function Jr(){}var xd=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},bd=e=>{v.useEffect(()=>{e.clearReset()},[e])},wd=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Ba(s,[e.error,r]),jd=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Sd=(e,t)=>e.isLoading&&e.isFetching&&!t,Pd=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Mi=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Cd(e,t,s){var d,h,f,p,b;const r=ar(),n=pd(),o=vd(),i=r.defaultQueryOptions(e);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,i),i._optimisticResults=n?"isRestoring":"optimistic",jd(i),xd(i,o),bd(o);const a=!r.getQueryCache().get(i.queryHash),[c]=v.useState(()=>new t(r,i)),u=c.getOptimisticResult(i);if(v.useSyncExternalStore(v.useCallback(g=>{const x=n?Jr:c.subscribe(Z.batchCalls(g));return c.updateResult(),x},[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),Pd(i,u))throw Mi(i,c,o);if(wd({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw u.error;if((p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,i,u),i.experimental_prefetchInRender&&!xt&&Sd(u,n)){const g=a?Mi(i,c,o):(b=r.getQueryCache().get(i.queryHash))==null?void 0:b.promise;g==null||g.catch(Jr).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function xs(e,t){return Cd(e,ud)}function Pt(e,t){const s=ar(),[r]=v.useState(()=>new fd(s,e));v.useEffect(()=>{r.setOptions(e)},[r,e]);const n=v.useSyncExternalStore(v.useCallback(i=>r.subscribe(Z.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=v.useCallback((i,a)=>{r.mutate(i,a).catch(Jr)},[r]);if(n.error&&Ba(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:o,mutateAsync:n.mutate}}const Td="https://dyuzdoyzsfeszaxadxhl.supabase.co",Ad="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR5dXpkb3l6c2Zlc3pheGFkeGhsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3NzYwMTYsImV4cCI6MjA3MzM1MjAxNn0.p_tDknrJ_dJAr7N6sGUgN-8CFe0tTDPR1FLgI2UEDcQ",C=yu(Td,Ad,{auth:{storage:window.localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,debug:!0,flowType:"pkce",storageKey:"visionmates-auth-token",storageSync:!0},global:{headers:{"X-Client-Info":"visionmates-web"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}}),wr=Object.freeze(Object.defineProperty({__proto__:null,supabase:C},Symbol.toStringTag,{value:"Module"})),en={async getAll(){try{console.log("ðŸ” Fetching projects from Supabase...");const{data:e,error:t}=await C.from("projects").select("count").limit(1);if(t)throw console.error("âŒ Supabase connection test failed:",t),console.error("âŒ Error details:",{message:t.message,details:t.details,hint:t.hint,code:t.code}),t;console.log("âœ… Supabase connection test passed");const{data:s,error:r}=await C.from("projects").select(`
          *,
          creator:users!creator_id (
            id,
            first_name,
            last_name,
            display_name,
            avatar_url,
            profile_image_url
          )
        `).eq("is_active",!0).order("created_at",{ascending:!1});if(r)throw console.error("âŒ Supabase error fetching projects:",r),console.error("âŒ Error details:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),r;return console.log("âœ… Projects fetched successfully:",(s==null?void 0:s.length)||0,"projects"),console.log("ðŸ“Š Sample project data:",(s==null?void 0:s[0])||"No projects found"),s||[]}catch(e){return console.error("âŒ Error in getAll:",e),console.error("âŒ Full error object:",e),[]}},async getForDiscover(e=12,t,s){try{let r=C.from("projects").select(`
          *,
          creator:users!projects_creator_id_fkey (
            id,
            first_name,
            profile_image_url
          ),
          participations (
            type,
            user_id
          )
        `).eq("is_active",!0).order("created_at",{ascending:!1}).limit(e);t&&s&&(r=r.or(`created_at.lt.${t},and(created_at.eq.${t},id.lt.${s})`));const{data:n,error:o}=await r;if(o)throw console.error("Supabase error in getForDiscover:",o),o;const i=(n||[]).map(u=>({id:u.id,title:u.title,description:u.description,creator_id:u.creator_id,is_active:u.is_active,created_at:u.created_at,updated_at:u.updated_at,creator:{id:u.creator.id,first_name:u.creator.first_name,profile_image_url:u.creator.profile_image_url},participations:u.participations||[]})),a=i.length===e,c=i.length>0?{lastCreatedAt:i[i.length-1].created_at||"",lastId:i[i.length-1].id}:null;return{projects:i,hasMore:a,nextCursor:c}}catch(r){return console.error("Error in getForDiscover:",r),{projects:[],hasMore:!1,nextCursor:null}}},async getForDiscoverLegacy(){return(await this.getForDiscover(20)).projects},async getById(e){try{const{data:t,error:s}=await C.from("projects").select(`
          *,
          creator:users!creator_id (
            id,
            first_name,
            last_name,
            display_name,
            avatar_url,
            profile_image_url
          )
        `).eq("id",e).single();if(s)throw console.error("Error fetching project:",s),s;let r=[];try{const{data:a}=await C.from("participations").select(`
            *,
            user:users!user_id (
              id,
              first_name,
              last_name,
              display_name,
              avatar_url,
              profile_image_url
            )
          `).eq("project_id",e);r=a||[]}catch(a){console.warn("Could not fetch participations:",a)}let n=[];try{const{data:a}=await C.from("progress_updates").select(`
            *,
            user:users!user_id (
              id,
              first_name,
              last_name,
              display_name,
              avatar_url,
              profile_image_url
            )
          `).eq("project_id",e).order("created_at",{ascending:!1});n=a||[]}catch(a){console.warn("Could not fetch progress updates:",a)}let o=[];try{const{data:a}=await C.from("comments").select(`
            *,
            user:users!user_id (
              id,
              first_name,
              last_name,
              display_name,
              avatar_url,
              profile_image_url
            )
          `).eq("project_id",e).order("created_at",{ascending:!1});o=a||[]}catch(a){console.warn("Could not fetch comments:",a)}return{...t,participations:r||[],progressUpdates:(n||[]).map(a=>({...a,createdAt:a.created_at||a.createdAt||new Date().toISOString()})),comments:(o||[]).map(a=>({...a,createdAt:a.created_at||a.createdAt||new Date().toISOString()})),createdAt:t.created_at||t.createdAt||new Date().toISOString()}}catch(t){throw console.error("Error in getById:",t),t}},async create(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("projects").insert({...e,creator_id:t.id}).select().single();if(r)throw r;return s},async update(e,t){const{data:s,error:r}=await C.from("projects").update(t).eq("id",e).select().single();if(r)throw r;return s},async delete(e){const{error:t}=await C.from("projects").delete().eq("id",e);if(t)throw t}},Nd={async add(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:r,error:n}=await C.from("participations").insert({project_id:e,user_id:s.id,type:t}).select().single();if(n)throw n;return r},async remove(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{error:r}=await C.from("participations").delete().eq("project_id",e).eq("user_id",s.id).eq("type",t);if(r)throw r},async setExclusive(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{error:r}=await C.from("participations").delete().eq("project_id",e).eq("user_id",s.id);r&&console.warn("Failed to delete existing participations:",r);const{data:n,error:o}=await C.from("participations").insert({project_id:e,user_id:s.id,type:t}).select().single();if(o)throw o;return n},async removeAll(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:s}=await C.from("participations").delete().eq("project_id",e).eq("user_id",t.id);if(s)throw s},async getUserParticipation(e,t,s){const{data:r,error:n}=await C.from("participations").select("*").eq("project_id",e).eq("user_id",t).eq("type",s).single();if(n&&n.code!=="PGRST116")throw n;return r}},Md={async create(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:r,error:n}=await C.from("progress_updates").insert({...t,project_id:e,user_id:s.id}).select().single();if(n)throw n;return r}},Ed={async create(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:r,error:n}=await C.from("comments").insert({project_id:e,user_id:s.id,content:t}).select().single();if(n)throw n;return r}},kd={async getStatus(e,t){const{data:s,error:r}=await C.from("reactions").select("*").eq("target_id",e).eq("target_type",t);if(r)throw r;const n=(s==null?void 0:s.length)||0,{data:{user:o}}=await C.auth.getUser(),i=o&&(s==null?void 0:s.some(a=>a.user_id===o.id))||!1;return{count:n,userReacted:i}},async toggle(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:r,error:n}=await C.from("reactions").select("*").eq("target_id",e).eq("target_type",t).eq("user_id",s.id).eq("type","clap").single();if(n&&n.code!=="PGRST116")throw n;if(r){const{error:o}=await C.from("reactions").delete().eq("id",r.id);if(o)throw o;return{action:"removed"}}else{const{data:o,error:i}=await C.from("reactions").insert({target_id:e,target_type:t,user_id:s.id,type:"clap"}).select().single();if(i)throw i;return{action:"added",data:o}}}},qa={async getConversations(){const{data:{user:e}}=await C.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:s}=await C.from("conversations").select(`
        *,
        participant1:users!participant1_id (*),
        participant2:users!participant2_id (*),
        messages (
          *,
          sender:users!sender_id (*)
        )
      `).or(`participant1_id.eq.${e.id},participant2_id.eq.${e.id}`).order("last_message_at",{ascending:!1});if(s)throw s;return t||[]},async getConversation(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("conversations").select(`
        *,
        participant1:users!participant1_id (*),
        participant2:users!participant2_id (*),
        messages (
          *,
          sender:users!sender_id (*)
        )
      `).eq("id",e).or(`participant1_id.eq.${t.id},participant2_id.eq.${t.id}`).single();if(r)throw r;return s},async sendMessage(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");let r;const{data:n,error:o}=await C.from("conversations").select("id").or(`and(participant1_id.eq.${s.id},participant2_id.eq.${e}),and(participant1_id.eq.${e},participant2_id.eq.${s.id})`).single();if(o&&o.code!=="PGRST116")throw o;if(n)r=n.id;else{const{data:c,error:u}=await C.from("conversations").insert({participant1_id:s.id,participant2_id:e}).select().single();if(u)throw u;r=c.id}const{data:i,error:a}=await C.from("messages").insert({conversation_id:r,sender_id:s.id,content:t}).select().single();if(a)throw a;return await C.from("conversations").update({last_message_at:new Date().toISOString()}).eq("id",r),i}},Rd={async toggle(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("project_likes").select("*").eq("project_id",e).eq("user_id",t.id).single();if(r&&r.code!=="PGRST116")throw r;if(s){const{error:n}=await C.from("project_likes").delete().eq("project_id",e).eq("user_id",t.id);if(n)throw n;return{action:"removed"}}else{const{data:n,error:o}=await C.from("project_likes").insert({project_id:e,user_id:t.id}).select().single();if(o)throw o;return{action:"added",data:n}}},async getUserLikes(e=12,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");let r=C.from("project_likes").select(`
        created_at,
        project:projects!project_id (
          *,
          creator:users!creator_id (
            id,
            first_name,
            profile_image_url
          )
        )
      `).eq("user_id",s.id).order("created_at",{ascending:!1});t&&(r=r.lt("created_at",t));const{data:n,error:o}=await r.limit(e);if(o)throw o;return n||[]}},Dd={async toggle(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("project_hides").select("*").eq("project_id",e).eq("user_id",t.id).single();if(r&&r.code!=="PGRST116")throw r;if(s){const{error:n}=await C.from("project_hides").delete().eq("project_id",e).eq("user_id",t.id);if(n)throw n;return{action:"removed"}}else{const{data:n,error:o}=await C.from("project_hides").insert({project_id:e,user_id:t.id}).select().single();if(o)throw o;return{action:"added",data:n}}}},Fs={async getProjectSkills(e){const{data:t,error:s}=await C.from("project_required_skills").select("*").eq("project_id",e).order("priority",{ascending:!1});if(s)throw s;return t||[]},async upsertSkill(e,t,s=1){const{data:{user:r}}=await C.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:o}=await C.from("project_required_skills").upsert({project_id:e,skill:t,priority:s}).select().single();if(o)throw o;return n},async removeSkill(e,t){const{data:{user:s}}=await C.auth.getUser();if(!s)throw new Error("Not authenticated");const{error:r}=await C.from("project_required_skills").delete().eq("project_id",e).eq("skill",t);if(r)throw r},async searchCandidates(e,t=!1,s=1,r=20,n=0){const{data:o,error:i}=await C.rpc("search_candidates_for_project",{pid:e,match_all:t,min_overlap:s,limit_n:r,offset_n:n});if(i)throw i;if(o&&o.length>0){const a=o.map(d=>d.user_id),{data:c,error:u}=await C.from("users").select("id, first_name, last_name, display_name, avatar_url, profile_image_url").in("id",a);if(u)throw u;return o.map(d=>({...d,user:c==null?void 0:c.find(h=>h.id===d.user_id)}))}return o||[]}},_d={async getCurrentUser(){var r,n,o,i,a,c;const{data:{user:e}}=await C.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:s}=await C.from("users").select("*").eq("id",e.id).single();if(s){if(console.error("Error fetching current user:",s),s.code==="PGRST116"){console.log("User not found in users table, creating...");const u={id:e.id,email:e.email,first_name:((r=e.user_metadata)==null?void 0:r.first_name)||null,last_name:((n=e.user_metadata)==null?void 0:n.last_name)||null,avatar_url:((o=e.user_metadata)==null?void 0:o.avatar_url)||null,display_name:null,bio:null,skills:[],github_url:null,portfolio_url:null,university:null,department:null},{data:d,error:h}=await C.from("users").insert(u).select().single();return h?(console.error("Error creating user:",h),{...u,created_at:e.created_at,updated_at:new Date().toISOString()}):d}return{id:e.id,email:e.email,first_name:((i=e.user_metadata)==null?void 0:i.first_name)||null,last_name:((a=e.user_metadata)==null?void 0:a.last_name)||null,avatar_url:((c=e.user_metadata)==null?void 0:c.avatar_url)||null,display_name:null,bio:null,skills:[],github_url:null,portfolio_url:null,university:null,department:null,created_at:e.created_at,updated_at:new Date().toISOString()}}return t},async getProfile(e){const{data:t,error:s}=await C.from("users").select("*").eq("id",e).single();if(s)throw s;return t},async updateProfile(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("users").update(e).eq("id",t.id).select().single();if(r)throw r;return s}};async function Vd(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const it={projects:en,participations:Nd,progressUpdates:Md,comments:Ed,reactions:kd,messages:qa,users:_d},Od=({on401:e})=>async({queryKey:t})=>{var r;const s=t.join("/");try{if(s==="/api/projects")return await it.projects.getAll();if(s==="/api/projects/discover")return await it.projects.getForDiscover();if(s.startsWith("/api/projects/")&&s.split("/").length===4){const o=s.split("/")[3];return await it.projects.getById(o)}if(s==="/api/conversations")return await it.messages.getConversations();if(s.startsWith("/api/conversations/")&&s.split("/").length===4){const o=s.split("/")[3];return await it.messages.getConversation(o)}if(s==="/api/auth/user")return await it.users.getCurrentUser();if(s.startsWith("/api/reactions/")&&s.includes("/")){const o=s.split("/");if(o.length===5&&o[3]){const i=o[3],a=o[4];return await it.reactions.getStatus(a,i)}}const n=await fetch(s,{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await Vd(n),await n.json())}catch(n){if(e==="returnNull"&&((r=n==null?void 0:n.message)!=null&&r.includes("401")))return null;throw n}},Ld=new cd({defaultOptions:{queries:{queryFn:Od({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,retry:!1},mutations:{retry:!1}}});function Nn(){const[e,t]=v.useState(null),[s,r]=v.useState(null),[n,o]=v.useState(!0);console.log("ðŸ” useSupabaseAuth state:",{user:!!e,session:!!s,isLoading:n,userEmail:e==null?void 0:e.email,sessionValid:!!(s!=null&&s.access_token)}),v.useEffect(()=>{let h,f=!1;h=setTimeout(()=>{f||(console.log("â° Session loading timeout - continuing as guest user"),f=!0,o(!1),r(null),t(null))},1e4),(async()=>{var x;console.log("ðŸ”„ Getting initial session...");try{const{data:{session:y},error:S}=await C.auth.getSession();if(f)return;S?(console.log("â„¹ï¸ Session error:",S.message),console.log("â„¹ï¸ Error details:",S),r(null),t(null)):y?(r(y),t(y.user),console.log("âœ… Session loaded:",{hasSession:!!y,hasUser:!!y.user,userEmail:(x=y.user)==null?void 0:x.email,sessionExpires:y.expires_at})):(console.log("â„¹ï¸ No active session found"),r(null),t(null))}catch(y){if(f)return;console.log("â„¹ï¸ Session load failed:",y),r(null),t(null)}finally{f||(f=!0,clearTimeout(h),o(!1),console.log("ðŸ Session initialization complete"))}})();const{data:{subscription:g}}=C.auth.onAuthStateChange(async(x,y)=>{var S;console.log("ðŸ” Auth state changed:",x,{hasSession:!!y,hasUser:!!(y!=null&&y.user),userEmail:(S=y==null?void 0:y.user)==null?void 0:S.email}),f||(f=!0,clearTimeout(h)),r(y),t((y==null?void 0:y.user)??null),o(!1),y!=null&&y.user&&x==="SIGNED_IN"&&(console.log("ðŸ”„ Syncing user to database..."),await i(y.user)),x==="SIGNED_OUT"&&console.log("ðŸ‘‹ User signed out")});return()=>{clearTimeout(h),g.unsubscribe()}},[]);const i=async h=>{var f,p,b;try{const{data:g,error:x}=await C.from("users").select("*").eq("id",h.id).single();if(x&&x.code!=="PGRST116"){console.error("Error fetching user:",x);return}if(!g){const{error:y}=await C.from("users").insert({id:h.id,email:h.email,first_name:(f=h.user_metadata)==null?void 0:f.first_name,last_name:(p=h.user_metadata)==null?void 0:p.last_name,profile_image_url:(b=h.user_metadata)==null?void 0:b.avatar_url});y&&console.error("Error creating user profile:",y)}}catch(g){console.error("Error syncing user to database:",g)}};return{user:e,session:s,isLoading:n,isAuthenticated:!!e,signInWithGoogle:async()=>{try{const{error:h}=await C.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});if(h)throw h}catch(h){throw console.error("Error signing in with Google:",h),h}},signInWithEmail:async(h,f)=>{try{const{error:p}=await C.auth.signInWithPassword({email:h,password:f});if(p)throw p}catch(p){throw console.error("Error signing in with email:",p),p}},signUpWithEmail:async(h,f,p)=>{try{const{error:b}=await C.auth.signUp({email:h,password:f,options:{data:p}});if(b)throw b}catch(b){throw console.error("Error signing up:",b),b}},signOut:async()=>{try{const{error:h}=await C.auth.signOut();if(h)throw h}catch(h){throw console.error("Error signing out:",h),h}}}}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),za=(...e)=>e.filter((t,s,r)=>!!t&&r.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Id={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:o,iconNode:i,...a},c)=>v.createElement("svg",{ref:c,...Id,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:za("lucide",n),...a},[...i.map(([u,d])=>v.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const s=v.forwardRef(({className:r,...n},o)=>v.createElement(Ud,{ref:o,iconNode:t,className:za(`lucide-${Fd(e)}`,r),...n}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Q("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Q("BriefcaseBusiness",[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Q("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Q("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Q("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=Q("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=Q("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=Q("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var En="Avatar",[Jd,_v]=ca(En),[eh,Ha]=Jd(En),Qa=v.forwardRef((e,t)=>{const{__scopeAvatar:s,...r}=e,[n,o]=v.useState("idle");return l.jsx(eh,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:l.jsx(wt.span,{...r,ref:t})})});Qa.displayName=En;var Xa="AvatarImage",Ya=v.forwardRef((e,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:n=()=>{},...o}=e,i=Ha(Xa,s),a=th(r,o),c=iu(u=>{n(u),i.onImageLoadingStatusChange(u)});return Ir(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(wt.img,{...o,ref:t,src:r}):null});Ya.displayName=Xa;var Za="AvatarFallback",Ja=v.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:r,...n}=e,o=Ha(Za,s),[i,a]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?l.jsx(wt.span,{...n,ref:t}):null});Ja.displayName=Za;function Ei(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function th(e,{referrerPolicy:t,crossOrigin:s}){const r=rh(),n=v.useRef(null),o=r?(n.current||(n.current=new window.Image),n.current):null,[i,a]=v.useState(()=>Ei(o,e));return Ir(()=>{a(Ei(o,e))},[o,e]),Ir(()=>{const c=h=>()=>{a(h)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof s=="string"&&(o.crossOrigin=s),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,s,t]),i}function sh(){return()=>{}}function rh(){return v.useSyncExternalStore(sh,()=>!0,()=>!1)}var el=Qa,tl=Ya,sl=Ja;function rl(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=rl(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function nl(){for(var e,t,s=0,r="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=rl(e))&&(r&&(r+=" "),r+=t);return r}const kn="-",nh=e=>{const t=oh(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(kn);return a[0]===""&&a.length!==1&&a.shift(),il(a,t)||ih(i)},getConflictingClassGroupIds:(i,a)=>{const c=s[i]||[];return a&&r[i]?[...c,...r[i]]:c}}},il=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),n=r?il(e.slice(1),r):void 0;if(n)return n;if(t.validators.length===0)return;const o=e.join(kn);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},ki=/^\[(.+)\]$/,ih=e=>{if(ki.test(e)){const t=ki.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},oh=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return lh(Object.entries(e.classGroups),s).forEach(([o,i])=>{tn(i,r,o,t)}),r},tn=(e,t,s,r)=>{e.forEach(n=>{if(typeof n=="string"){const o=n===""?t:Ri(t,n);o.classGroupId=s;return}if(typeof n=="function"){if(ah(n)){tn(n(r),t,s,r);return}t.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([o,i])=>{tn(i,Ri(t,o),s,r)})})},Ri=(e,t)=>{let s=e;return t.split(kn).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},ah=e=>e.isThemeGetter,lh=(e,t)=>t?e.map(([s,r])=>{const n=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[s,n]}):e,ch=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const n=(o,i)=>{s.set(o,i),t++,t>e&&(t=0,r=s,s=new Map)};return{get(o){let i=s.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return n(o,i),i},set(o,i){s.has(o)?s.set(o,i):n(o,i)}}},ol="!",uh=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,n=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,h;for(let x=0;x<a.length;x++){let y=a[x];if(u===0){if(y===n&&(r||a.slice(x,x+o)===t)){c.push(a.slice(d,x)),d=x+o;continue}if(y==="/"){h=x;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?a:a.substring(d),p=f.startsWith(ol),b=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:g}};return s?a=>s({className:a,parseClassName:i}):i},dh=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},hh=e=>({cache:ch(e.cacheSize),parseClassName:uh(e),...nh(e)}),fh=/\s+/,mh=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n}=t,o=[],i=e.trim().split(fh);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=s(u);let b=!!p,g=r(b?f.substring(0,p):f);if(!g){if(!b){a=u+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=u+(a.length>0?" "+a:a);continue}b=!1}const x=dh(d).join(":"),y=h?x+ol:x,S=y+g;if(o.includes(S))continue;o.push(S);const j=n(g,b);for(let N=0;N<j.length;++N){const A=j[N];o.push(y+A)}a=u+(a.length>0?" "+a:a)}return a};function ph(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=al(t))&&(r&&(r+=" "),r+=s);return r}const al=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=al(e[r]))&&(s&&(s+=" "),s+=t);return s};function gh(e,...t){let s,r,n,o=i;function i(c){const u=t.reduce((d,h)=>h(d),e());return s=hh(u),r=s.cache.get,n=s.cache.set,o=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=mh(c,s);return n(c,d),d}return function(){return o(ph.apply(null,arguments))}}const U=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},ll=/^\[(?:([a-z-]+):)?(.+)\]$/i,yh=/^\d+\/\d+$/,vh=new Set(["px","full","screen"]),xh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wh=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ee=e=>kt(e)||vh.has(e)||yh.test(e),Ue=e=>Jt(e,"length",kh),kt=e=>!!e&&!Number.isNaN(Number(e)),jr=e=>Jt(e,"number",kt),rs=e=>!!e&&Number.isInteger(Number(e)),Ph=e=>e.endsWith("%")&&kt(e.slice(0,-1)),D=e=>ll.test(e),Be=e=>xh.test(e),Ch=new Set(["length","size","percentage"]),Th=e=>Jt(e,Ch,cl),Ah=e=>Jt(e,"position",cl),Nh=new Set(["image","url"]),Mh=e=>Jt(e,Nh,Dh),Eh=e=>Jt(e,"",Rh),ns=()=>!0,Jt=(e,t,s)=>{const r=ll.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},kh=e=>bh.test(e)&&!wh.test(e),cl=()=>!1,Rh=e=>jh.test(e),Dh=e=>Sh.test(e),_h=()=>{const e=U("colors"),t=U("spacing"),s=U("blur"),r=U("brightness"),n=U("borderColor"),o=U("borderRadius"),i=U("borderSpacing"),a=U("borderWidth"),c=U("contrast"),u=U("grayscale"),d=U("hueRotate"),h=U("invert"),f=U("gap"),p=U("gradientColorStops"),b=U("gradientColorStopPositions"),g=U("inset"),x=U("margin"),y=U("opacity"),S=U("padding"),j=U("saturate"),N=U("scale"),A=U("sepia"),k=U("skew"),R=U("space"),w=U("translate"),P=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",D,t],L=()=>[D,t],Vs=()=>["",Ee,Ue],nt=()=>["auto",kt,D],gr=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ts=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>["start","end","center","between","around","evenly","stretch"],Ne=()=>["","0",D],St=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Me=()=>[kt,D];return{cacheSize:500,separator:":",theme:{colors:[ns],spacing:[Ee,Ue],blur:["none","",Be,D],brightness:Me(),borderColor:[e],borderRadius:["none","","full",Be,D],borderSpacing:L(),borderWidth:Vs(),contrast:Me(),grayscale:Ne(),hueRotate:Me(),invert:Ne(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[Ph,Ue],inset:X(),margin:X(),opacity:Me(),padding:L(),saturate:Me(),scale:Me(),sepia:Ne(),skew:Me(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",D]}],container:["container"],columns:[{columns:[Be]}],"break-after":[{"break-after":St()}],"break-before":[{"break-before":St()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...gr(),D]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rs,D]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",D]}],grow:[{grow:Ne()}],shrink:[{shrink:Ne()}],order:[{order:["first","last","none",rs,D]}],"grid-cols":[{"grid-cols":[ns]}],"col-start-end":[{col:["auto",{span:["full",rs,D]},D]}],"col-start":[{"col-start":nt()}],"col-end":[{"col-end":nt()}],"grid-rows":[{"grid-rows":[ns]}],"row-start-end":[{row:["auto",{span:[rs,D]},D]}],"row-start":[{"row-start":nt()}],"row-end":[{"row-end":nt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",D]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",D]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...he()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...he(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...he(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",D,t]}],"min-w":[{"min-w":[D,t,"min","max","fit"]}],"max-w":[{"max-w":[D,t,"none","full","min","max","fit","prose",{screen:[Be]},Be]}],h:[{h:[D,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[D,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[D,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[D,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Be,Ue]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jr]}],"font-family":[{font:[ns]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",D]}],"line-clamp":[{"line-clamp":["none",kt,jr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ee,D]}],"list-image":[{"list-image":["none",D]}],"list-style-type":[{list:["none","disc","decimal",D]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ts(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ee,Ue]}],"underline-offset":[{"underline-offset":["auto",Ee,D]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",D]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",D]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...gr(),Ah]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Th]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Mh]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ts(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ts()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...ts()]}],"outline-offset":[{"outline-offset":[Ee,D]}],"outline-w":[{outline:[Ee,Ue]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Vs()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ee,Ue]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Be,Eh]}],"shadow-color":[{shadow:[ns]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Be,D]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",D]}],duration:[{duration:Me()}],ease:[{ease:["linear","in","out","in-out",D]}],delay:[{delay:Me()}],animate:[{animate:["none","spin","ping","pulse","bounce",D]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[rs,D]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",D]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",D]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",D]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ee,Ue,jr]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Vh=gh(_h);function z(...e){return Vh(nl(e))}const js=v.forwardRef(({className:e,...t},s)=>l.jsx(el,{ref:s,className:z(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));js.displayName=el.displayName;const lr=v.forwardRef(({className:e,...t},s)=>l.jsx(tl,{ref:s,className:z("aspect-square h-full w-full",e),...t}));lr.displayName=tl.displayName;const Ss=v.forwardRef(({className:e,...t},s)=>l.jsx(sl,{ref:s,className:z("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ss.displayName=sl.displayName;const q=v.forwardRef(({className:e,...t},s)=>l.jsx("div",{ref:s,className:z("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));q.displayName="Card";const le=v.forwardRef(({className:e,...t},s)=>l.jsx("div",{ref:s,className:z("flex flex-col space-y-1.5 p-6",e),...t}));le.displayName="CardHeader";const ce=v.forwardRef(({className:e,...t},s)=>l.jsx("div",{ref:s,className:z("text-2xl font-semibold leading-none tracking-tight",e),...t}));ce.displayName="CardTitle";const cr=v.forwardRef(({className:e,...t},s)=>l.jsx("div",{ref:s,className:z("text-sm text-muted-foreground",e),...t}));cr.displayName="CardDescription";const H=v.forwardRef(({className:e,...t},s)=>l.jsx("div",{ref:s,className:z("p-6 pt-0",e),...t}));H.displayName="CardContent";const Oh=v.forwardRef(({className:e,...t},s)=>l.jsx("div",{ref:s,className:z("flex items-center p-6 pt-0",e),...t}));Oh.displayName="CardFooter";const ct=v.forwardRef(({className:e,type:t,...s},r)=>l.jsx("input",{type:t,className:z("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));ct.displayName="Input";const Di=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_i=nl,ur=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return _i(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:o}=t,i=Object.keys(n).map(u=>{const d=s==null?void 0:s[u],h=o==null?void 0:o[u];if(d===null)return null;const f=Di(d)||Di(h);return n[u][f]}),a=s&&Object.entries(s).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(b=>{let[g,x]=b;return Array.isArray(x)?x.includes({...o,...a}[g]):{...o,...a}[g]===x})?[...u,h,f]:u},[]);return _i(e,i,c,s==null?void 0:s.class,s==null?void 0:s.className)},Lh=ur("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=v.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...n},o)=>{const i=r?ou:"button";return l.jsx(i,{className:`${Lh({variant:t,size:s})} ${e||""}`,ref:o,...n})});B.displayName="Button";var Fh="Separator",Vi="horizontal",Ih=["horizontal","vertical"],ul=v.forwardRef((e,t)=>{const{decorative:s,orientation:r=Vi,...n}=e,o=Uh(r)?r:Vi,a=s?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(wt.div,{"data-orientation":o,...a,...n,ref:t})});ul.displayName=Fh;function Uh(e){return Ih.includes(e)}var dl=ul;const Zs=v.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},n)=>l.jsx(dl,{ref:n,decorative:s,orientation:t,className:z("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Zs.displayName=dl.displayName;function Bh({children:e}){return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"sticky top-0 z-40 w-full bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80 border-b",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 h-14 flex items-center gap-4",children:[l.jsxs(G,{href:"/",className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-sky-600 text-white rounded grid place-items-center font-bold",children:"V"}),l.jsx("span",{className:"font-semibold hidden sm:inline",children:"VisionMates"})]}),l.jsx("div",{className:"flex-1 max-w-xl",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ga,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(ct,{placeholder:"æ¤œç´¢",className:"pl-8"})]})}),l.jsxs("nav",{className:"hidden md:flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs(G,{href:"/",className:"flex items-center gap-1 hover:text-foreground",children:[l.jsx(Hd,{className:"h-4 w-4"}),"ãƒ›ãƒ¼ãƒ "]}),l.jsxs(G,{href:"/discover",className:"flex items-center gap-1 hover:text-foreground",children:[l.jsx(Gt,{className:"h-4 w-4"}),"ç™ºè¦‹"]}),l.jsxs(G,{href:"/projects/mine",className:"flex items-center gap-1 hover:text-foreground",children:[l.jsx(Wd,{className:"h-4 w-4"}),"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"]}),l.jsxs(G,{href:"/messages",className:"flex items-center gap-1 hover:text-foreground",children:[l.jsx(Ka,{className:"h-4 w-4"}),"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"]}),l.jsx("button",{className:"flex items-center gap-1 hover:text-foreground","aria-label":"é€šçŸ¥",children:l.jsx(qd,{className:"h-4 w-4"})})]}),l.jsxs(js,{className:"h-8 w-8",children:[l.jsx(lr,{alt:"user"}),l.jsx(Ss,{children:"U"})]})]})}),l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 grid grid-cols-1 md:grid-cols-12 gap-6",children:[l.jsxs("aside",{className:"md:col-span-3 space-y-4",children:[l.jsxs(q,{children:[l.jsx(le,{className:"pb-3",children:l.jsx(ce,{className:"text-base",children:"ã‚ãªãŸã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«"})}),l.jsxs(H,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(js,{className:"h-10 w-10",children:l.jsx(Ss,{children:"U"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"ãƒ“ã‚¸ãƒ§ãƒŠãƒªãƒ¼"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"ãƒ‡ãƒ¼ã‚¿å¿—å‘ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼"})]})]}),l.jsx(Zs,{}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"é–²è¦§è€…: 0 â€¢ æŠ•ç¨¿ã®åå¿œ: 0"}),l.jsx(B,{asChild:!0,className:"w-full",size:"sm",children:l.jsx(G,{href:"/profile",children:"ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’è¦‹ã‚‹"})})]})]}),l.jsxs(q,{children:[l.jsx(le,{className:"pb-2",children:l.jsx(ce,{className:"text-base",children:"ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£"})}),l.jsxs(H,{className:"space-y-2 text-sm",children:[l.jsx(G,{href:"/likes",className:"block text-muted-foreground hover:text-foreground",children:"ã„ã„ã­"}),l.jsx(G,{href:"/projects/mine",className:"block text-muted-foreground hover:text-foreground",children:"ãƒžã‚¤ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"}),l.jsx(G,{href:"/settings",className:"block text-muted-foreground hover:text-foreground",children:"è¨­å®š"})]})]})]}),l.jsx("main",{className:"md:col-span-6 min-w-0",children:e}),l.jsxs("aside",{className:"md:col-span-3 space-y-4",children:[l.jsxs(q,{children:[l.jsx(le,{className:"pb-2",children:l.jsx(ce,{className:"text-base",children:"ãŠã™ã™ã‚"})}),l.jsxs(H,{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"äººæ°—ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"}),l.jsx(B,{variant:"ghost",size:"sm",children:"è¡¨ç¤º"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"æ–°ç€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£"}),l.jsx(B,{variant:"ghost",size:"sm",children:"è¡¨ç¤º"})]})]})]}),l.jsxs(q,{children:[l.jsx(le,{className:"pb-2",children:l.jsx(ce,{className:"text-base",children:"åºƒå‘Š"})}),l.jsx(H,{className:"text-sm text-muted-foreground",children:"ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å®£ä¼ã—ã¾ã›ã‚“ã‹ï¼Ÿ"})]})]})]})]})}const qh=ur("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hl=v.forwardRef(({className:e,variant:t,...s},r)=>l.jsx("div",{ref:r,role:"alert",className:z(qh({variant:t}),e),...s}));hl.displayName="Alert";const fl=v.forwardRef(({className:e,...t},s)=>l.jsx("h5",{ref:s,className:z("mb-1 font-medium leading-none tracking-tight",e),...t}));fl.displayName="AlertTitle";const ml=v.forwardRef(({className:e,...t},s)=>l.jsx("div",{ref:s,className:z("text-sm [&_p]:leading-relaxed",e),...t}));ml.displayName="AlertDescription";function zh(){const[e,t]=v.useState(!1);return v.useEffect(()=>{new URLSearchParams(window.location.search).get("error")==="domain_not_allowed"&&(t(!0),window.history.replaceState({},document.title,window.location.pathname))},[]),l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center",children:l.jsx(Je,{className:"w-4 h-4 text-primary-foreground"})}),l.jsx("h1",{className:"text-xl font-bold",children:"VisionMates"})]}),l.jsx(B,{onClick:async()=>{try{console.log("ðŸ” Starting Google OAuth...");const{supabase:s}=await vr(async()=>{const{supabase:i}=await Promise.resolve().then(()=>wr);return{supabase:i}},void 0,import.meta.url),r=window.location.href.includes("localhost")?"http://localhost:5173/":"https://0319-2004.github.io/replit_vision_mate/";console.log("ðŸ”— Redirect URL:",r),console.log("ðŸ”— Current URL:",window.location.href);const{data:n,error:o}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:r,queryParams:{access_type:"offline",prompt:"consent"},skipBrowserRedirect:!1}});o?(console.error("âŒ OAuth Error:",o),console.error("âŒ Error details:",{message:o.message,status:o.status,statusText:o.statusText}),alert(`èªè¨¼ã‚¨ãƒ©ãƒ¼: ${o.message}`)):(console.log("âœ… OAuth initiated:",n),console.log("âœ… OAuth URL:",n==null?void 0:n.url))}catch(s){console.error("âŒ Unexpected error:",s),alert(`äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${s}`)}},"data-testid":"button-login",children:"å§‹ã‚ã‚‹"})]})}),e&&l.jsx("div",{className:"max-w-4xl mx-auto px-4 pt-8",children:l.jsxs(hl,{variant:"destructive",children:[l.jsx($d,{className:"h-4 w-4"}),l.jsx(fl,{children:"ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ / Access Restricted"}),l.jsxs(ml,{children:["ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯é’å±±å­¦é™¢å¤§å­¦ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆ@aoyama.ac.jp ã¾ãŸã¯ @aoyama.jpï¼‰ã§ã®ã¿ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™ã€‚",l.jsx("br",{}),l.jsx("br",{}),"This application is only available for Aoyama Gakuin University email addresses (@aoyama.ac.jp or @aoyama.jp)."]})]})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["ã‚ãªãŸã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’",l.jsx("span",{className:"text-primary",children:"ã‚¢ã‚¯ã‚·ãƒ§ãƒ³"}),"ã«"]}),l.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"å°ã•ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‹ã‚‰å¤§ããªå¤‰åŒ–ã¸ã€‚VisionMatesã¯ã€ã‚ãªãŸã®ãƒ“ã‚¸ãƒ§ãƒ³ã‚’å½¢ã«ã™ã‚‹ãŸã‚ã®ãƒãƒ¼ãƒ ã‚’è¦‹ã¤ã‘ã€é€²æ—ã‚’å…±æœ‰ã—ã€ä¸€ç·’ã«è¡Œå‹•ã‚’èµ·ã“ã›ã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚"}),l.jsx(B,{size:"lg",onClick:async()=>{try{console.log("ðŸ” Starting Google OAuth (Hero)...");const{supabase:s}=await vr(async()=>{const{supabase:i}=await Promise.resolve().then(()=>wr);return{supabase:i}},void 0,import.meta.url),r=window.location.href.includes("localhost")?"http://localhost:5173/":"https://0319-2004.github.io/replit_vision_mate/";console.log("ðŸ”— Redirect URL:",r);const{data:n,error:o}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:r,queryParams:{access_type:"offline",prompt:"consent"}}});o?(console.error("âŒ OAuth Error:",o),alert(`èªè¨¼ã‚¨ãƒ©ãƒ¼: ${o.message}`)):console.log("âœ… OAuth initiated:",n)}catch(s){console.error("âŒ Unexpected error:",s),alert(`äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${s}`)}},className:"mr-4","data-testid":"button-hero-signup",children:"ã‚ãªãŸã®ãƒ“ã‚¸ãƒ§ãƒ³ã‚’å§‹ã‚ã‚‹"}),l.jsx(B,{variant:"outline",size:"lg",onClick:()=>{var s;return(s=document.getElementById("features"))==null?void 0:s.scrollIntoView({behavior:"smooth"})},"data-testid":"button-learn-more",children:"è©³ã—ãçŸ¥ã‚‹"})]})}),l.jsx("section",{id:"features",className:"py-20 px-4 bg-muted/50",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"ãƒ“ã‚¸ãƒ§ãƒ³ã‚’ç¾å®Ÿã«ã™ã‚‹ã€ã™ã¹ã¦ã®ãƒ„ãƒ¼ãƒ«"}),l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs(q,{children:[l.jsxs(le,{children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Je,{className:"w-6 h-6 text-primary"})}),l.jsx(ce,{children:"ãƒ“ã‚¸ãƒ§ãƒ³ä¸»å°Žãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"})]}),l.jsx(H,{children:l.jsx("p",{className:"text-muted-foreground",children:"ã‚ãªãŸã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚„è§£æ±ºã—ãŸã„èª²é¡Œã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦æŠ•ç¨¿ã§ãã¾ã™ã€‚è¦æ¨¡ã®å¤§å°ã¯å•ã„ã¾ã›ã‚“ã€‚"})})]}),l.jsxs(q,{children:[l.jsxs(le,{children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:l.jsxs("div",{className:"flex gap-1",children:[l.jsx(Kt,{className:"w-4 h-4 text-primary"}),l.jsx(bs,{className:"w-4 h-4 text-primary"})]})}),l.jsx(ce,{children:"å‚åŠ ã‚·ã‚°ãƒŠãƒ«"})]}),l.jsx(H,{children:l.jsx("p",{className:"text-muted-foreground",children:"ã‚¦ã‚©ãƒƒãƒã€æ‰‹ã‚’ä¸Šã’ã‚‹ã€ã‚³ãƒŸãƒƒãƒˆã§æ°—ã«ãªã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®å‚åŠ æ„æ€ã‚’è¡¨æ˜Žã§ãã¾ã™ã€‚"})})]}),l.jsxs(q,{children:[l.jsxs(le,{children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Kd,{className:"w-6 h-6 text-primary"})}),l.jsx(ce,{children:"é€²æ—æ›´æ–°"})]}),l.jsx(H,{children:l.jsx("p",{className:"text-muted-foreground",children:"ãƒãƒ£ãƒƒãƒˆã§åŸ‹ã‚‚ã‚ŒãŒã¡ãªé€²æ—ã‚‚ã€ã‚ã‹ã‚Šã‚„ã™ã„ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤ºã§ç¢ºèªã§ãã¾ã™ã€‚"})})]}),l.jsxs(q,{children:[l.jsxs(le,{children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Gt,{className:"w-6 h-6 text-primary"})}),l.jsx(ce,{children:"ç™ºè¦‹ãƒ¢ãƒ¼ãƒ‰"})]}),l.jsx(H,{children:l.jsx("p",{className:"text-muted-foreground",children:"ã‚«ãƒ¼ãƒ‰å½¢å¼ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¹ãƒ¯ã‚¤ãƒ—ã—ã¦ã€èˆˆå‘³ã®ã‚ã‚‹ã‚‚ã®ã‚’ç´ æ—©ãç™ºè¦‹ã§ãã¾ã™ã€‚"})})]}),l.jsxs(q,{children:[l.jsxs(le,{children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Yd,{className:"w-6 h-6 text-primary"})}),l.jsx(ce,{children:"ç°¡å˜ã‚·ã‚§ã‚¢"})]}),l.jsx(H,{children:l.jsx("p",{className:"text-muted-foreground",children:"LINEã€Instagramã€LinkedInãªã©ã§ç°¡å˜ã«å‹é”ã‚’æ‹›å¾…ã§ãã¾ã™ã€‚"})})]}),l.jsxs(q,{children:[l.jsxs(le,{children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:l.jsx("div",{className:"text-primary text-lg",children:"ðŸ‘"})}),l.jsx(ce,{children:"è»½é‡ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³"})]}),l.jsx(H,{children:l.jsx("p",{className:"text-muted-foreground",children:"ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§ãŠäº’ã„ã‚’å¿œæ´ã—ã€ä¸€ç·’ã«ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é«˜ã‚ã¦ã„ã‘ã¾ã™ã€‚"})})]})]})]})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h2",{className:"text-3xl font-bold mb-6",children:"ã‚ãªãŸã®ãƒ“ã‚¸ãƒ§ãƒ³ã‚’ç¾å®Ÿã«ã—ã¾ã›ã‚“ã‹ï¼Ÿ"}),l.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"VisionMatesã§ã€ä»Šæ—¥ã‹ã‚‰ã‚ãªãŸã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è¡Œå‹•ã«å¤‰ãˆã¦ã„ãã¾ã—ã‚‡ã†ã€‚"}),l.jsx(B,{size:"lg",onClick:async()=>{try{console.log("ðŸ” Starting Google OAuth (CTA)...");const{supabase:s}=await vr(async()=>{const{supabase:i}=await Promise.resolve().then(()=>wr);return{supabase:i}},void 0,import.meta.url),r=window.location.href.includes("localhost")?"http://localhost:5173/":"https://0319-2004.github.io/replit_vision_mate/";console.log("ðŸ”— Redirect URL:",r);const{data:n,error:o}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:r,queryParams:{access_type:"offline",prompt:"consent"}}});o?(console.error("âŒ OAuth Error:",o),alert(`èªè¨¼ã‚¨ãƒ©ãƒ¼: ${o.message}`)):console.log("âœ… OAuth initiated:",n)}catch(s){console.error("âŒ Unexpected error:",s),alert(`äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${s}`)}},"data-testid":"button-cta-signup",children:"ä»Šã™ãå§‹ã‚ã‚‹"})]})}),l.jsx("footer",{className:"border-t py-8 px-4",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center text-muted-foreground",children:l.jsx("p",{children:"Â© 2024 VisionMates. ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«ã€‚"})})})]})}function te(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Wh(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Is=43200,Oi=1440;let $h={};function Kh(){return $h}function Li(e){const t=te(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function Ws(e,t){const s=te(e),r=te(t),n=s.getTime()-r.getTime();return n<0?-1:n>0?1:n}function Gh(e){return Wh(e,Date.now())}function Hh(e,t){const s=te(e),r=te(t),n=s.getFullYear()-r.getFullYear(),o=s.getMonth()-r.getMonth();return n*12+o}function Qh(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Xh(e,t){return+te(e)-+te(t)}function Yh(e){const t=te(e);return t.setHours(23,59,59,999),t}function Zh(e){const t=te(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function Jh(e){const t=te(e);return+Yh(t)==+Zh(t)}function ef(e,t){const s=te(e),r=te(t),n=Ws(s,r),o=Math.abs(Hh(s,r));let i;if(o<1)i=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-n*o);let a=Ws(s,r)===-n;Jh(te(e))&&o===1&&Ws(e,r)===1&&(a=!1),i=n*(o-Number(a))}return i===0?0:i}function tf(e,t,s){const r=Xh(e,t)/1e3;return Qh(s==null?void 0:s.roundingMethod)(r)}const sf={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rf=(e,t,s)=>{let r;const n=sf[e];return typeof n=="string"?r=n:t===1?r=n.one:r=n.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function Sr(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const nf={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},of={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},af={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lf={date:Sr({formats:nf,defaultWidth:"full"}),time:Sr({formats:of,defaultWidth:"full"}),dateTime:Sr({formats:af,defaultWidth:"full"})},cf={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uf=(e,t,s,r)=>cf[e];function is(e){return(t,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let n;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=s!=null&&s.width?String(s.width):i;n=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return n[o]}}const df={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hf={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ff={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mf={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pf={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gf={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yf=(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},vf={ordinalNumber:yf,era:is({values:df,defaultWidth:"wide"}),quarter:is({values:hf,defaultWidth:"wide",argumentCallback:e=>e-1}),month:is({values:ff,defaultWidth:"wide"}),day:is({values:mf,defaultWidth:"wide"}),dayPeriod:is({values:pf,defaultWidth:"wide",formattingValues:gf,defaultFormattingWidth:"wide"})};function os(e){return(t,s={})=>{const r=s.width,n=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(n);if(!o)return null;const i=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?bf(a,h=>h.test(i)):xf(a,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=s.valueCallback?s.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function xf(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function bf(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function wf(e){return(t,s={})=>{const r=t.match(e.matchPattern);if(!r)return null;const n=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=s.valueCallback?s.valueCallback(i):i;const a=t.slice(n.length);return{value:i,rest:a}}}const jf=/^(\d+)(th|st|nd|rd)?/i,Sf=/\d+/i,Pf={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Cf={any:[/^b/i,/^(a|c)/i]},Tf={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Af={any:[/1/i,/2/i,/3/i,/4/i]},Nf={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mf={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ef={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kf={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rf={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Df={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_f={ordinalNumber:wf({matchPattern:jf,parsePattern:Sf,valueCallback:e=>parseInt(e,10)}),era:os({matchPatterns:Pf,defaultMatchWidth:"wide",parsePatterns:Cf,defaultParseWidth:"any"}),quarter:os({matchPatterns:Tf,defaultMatchWidth:"wide",parsePatterns:Af,defaultParseWidth:"any",valueCallback:e=>e+1}),month:os({matchPatterns:Nf,defaultMatchWidth:"wide",parsePatterns:Mf,defaultParseWidth:"any"}),day:os({matchPatterns:Ef,defaultMatchWidth:"wide",parsePatterns:kf,defaultParseWidth:"any"}),dayPeriod:os({matchPatterns:Rf,defaultMatchWidth:"any",parsePatterns:Df,defaultParseWidth:"any"})},Vf={code:"en-US",formatDistance:rf,formatLong:lf,formatRelative:uf,localize:vf,match:_f,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Of(e,t,s){const r=Kh(),n=(s==null?void 0:s.locale)??r.locale??Vf,o=2520,i=Ws(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:i});let c,u;i>0?(c=te(t),u=te(e)):(c=te(e),u=te(t));const d=tf(u,c),h=(Li(u)-Li(c))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return s!=null&&s.includeSeconds?d<5?n.formatDistance("lessThanXSeconds",5,a):d<10?n.formatDistance("lessThanXSeconds",10,a):d<20?n.formatDistance("lessThanXSeconds",20,a):d<40?n.formatDistance("halfAMinute",0,a):d<60?n.formatDistance("lessThanXMinutes",1,a):n.formatDistance("xMinutes",1,a):f===0?n.formatDistance("lessThanXMinutes",1,a):n.formatDistance("xMinutes",f,a);if(f<45)return n.formatDistance("xMinutes",f,a);if(f<90)return n.formatDistance("aboutXHours",1,a);if(f<Oi){const b=Math.round(f/60);return n.formatDistance("aboutXHours",b,a)}else{if(f<o)return n.formatDistance("xDays",1,a);if(f<Is){const b=Math.round(f/Oi);return n.formatDistance("xDays",b,a)}else if(f<Is*2)return p=Math.round(f/Is),n.formatDistance("aboutXMonths",p,a)}if(p=ef(u,c),p<12){const b=Math.round(f/Is);return n.formatDistance("xMonths",b,a)}else{const b=p%12,g=Math.trunc(p/12);return b<3?n.formatDistance("aboutXYears",g,a):b<9?n.formatDistance("overXYears",g,a):n.formatDistance("almostXYears",g+1,a)}}function Rn(e,t){return Of(e,Gh(e),t)}function Lf(){const{user:e}=Nn();console.log("Current user:",e),console.log("Is user logged in:",!!e);const{data:t=[],isLoading:s,error:r}=xs({queryKey:["/api/projects"]});return console.log("Projects loading:",s),console.log("Projects data:",t),console.log("Projects error:",r),s?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª­ã¿è¾¼ã¿ä¸­..."})]})}):l.jsxs("div",{className:"px-0 md:px-0 py-0 md:py-0",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6 px-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-xl md:text-2xl font-semibold mb-1",children:["ãŠã‹ãˆã‚Šãªã•ã„ã€",(e==null?void 0:e.firstName)||"ãƒ“ã‚¸ãƒ§ãƒŠãƒªãƒ¼","ã•ã‚“ï¼ðŸ‘‹"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç™ºè¦‹ã—ãŸã‚Šã€ã‚ãªãŸã®ãƒ“ã‚¸ãƒ§ãƒ³ã‚’ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¨å…±æœ‰ã—ã¾ã—ã‚‡ã†ã€‚"})]}),l.jsxs("div",{className:"flex gap-2 px-1",children:[l.jsx(G,{href:"/discover",children:l.jsxs(B,{variant:"outline","data-testid":"button-discover",children:[l.jsx(Gt,{className:"w-4 h-4 mr-2"}),"ç™ºè¦‹"]})}),l.jsx(G,{href:"/projects/new",children:l.jsxs(B,{"data-testid":"button-create-project",children:[l.jsx(ws,{className:"w-4 h-4 mr-2"}),"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ"]})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-4 md:mb-6 px-4",children:[l.jsx(q,{children:l.jsx(H,{className:"pt-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Je,{className:"w-5 h-5 text-primary mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:t.length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"})]})]})})}),l.jsx(q,{children:l.jsx(H,{className:"pt-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Kt,{className:"w-5 h-5 text-blue-500 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:"ðŸ‘€"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"ã‚¦ã‚©ãƒƒãƒä¸­"})]})]})})}),l.jsx(q,{children:l.jsx(H,{className:"pt-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(bs,{className:"w-5 h-5 text-yellow-500 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:"âœ‹"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"æ‰‹ã‚’ä¸Šã’ãŸ"})]})]})})}),l.jsx(q,{children:l.jsx(H,{className:"pt-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Je,{className:"w-5 h-5 text-green-500 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:"ðŸš€"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"ã‚³ãƒŸãƒƒãƒˆæ¸ˆã¿"})]})]})})})]}),l.jsxs("section",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6 px-4",children:[l.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:"æœ€è¿‘ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"}),l.jsx(G,{href:"/projects",children:l.jsx(B,{variant:"ghost","data-testid":"button-view-all-projects",children:"ã™ã¹ã¦è¡¨ç¤º"})})]}),t.length===0?l.jsx(q,{children:l.jsxs(H,{className:"py-8 md:py-12 text-center",children:[l.jsx(Je,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"ã¾ã ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚Šã¾ã›ã‚“"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"ã‚ãªãŸã®ãƒ“ã‚¸ãƒ§ãƒ³ã‚’ã‚·ã‚§ã‚¢ã—ã¦ã€ã¿ã‚“ãªã§è¡Œå‹•ã‚’èµ·ã“ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼"}),l.jsx(G,{href:"/projects/new",children:l.jsxs(B,{"data-testid":"button-first-project",children:[l.jsx(ws,{className:"w-4 h-4 mr-2"}),"æœ€åˆã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ"]})})]})}):l.jsx("div",{className:"grid gap-4 md:gap-6 px-0 md:px-0",children:t.slice(0,6).map(n=>l.jsxs(q,{className:"hover-elevate",children:[l.jsx(le,{children:l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{className:"flex-1",children:[l.jsx(ce,{className:"text-base md:text-lg mb-2",children:l.jsx(G,{href:`/projects/${n.id}`,className:"hover:text-primary",children:n.title})}),l.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2",children:n.description})]})})}),l.jsx(H,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Kt,{className:"w-4 h-4"}),"0"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"0"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Je,{className:"w-4 h-4"}),"0"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ka,{className:"w-4 h-4"}),"0"]})]}),l.jsx("span",{className:"text-sm text-muted-foreground",children:(()=>{try{return n.createdAt?Rn(new Date(n.createdAt),{addSuffix:!0}):""}catch{return""}})()})]})})]},n.id))})]})]})}const Ff=1,If=1e6;let Pr=0;function Uf(){return Pr=(Pr+1)%Number.MAX_SAFE_INTEGER,Pr.toString()}const Cr=new Map,Fi=e=>{if(Cr.has(e))return;const t=setTimeout(()=>{Cr.delete(e),fs({type:"REMOVE_TOAST",toastId:e})},If);Cr.set(e,t)},Bf=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ff)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Fi(s):e.toasts.forEach(r=>{Fi(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},$s=[];let Ks={toasts:[]};function fs(e){Ks=Bf(Ks,e),$s.forEach(t=>{t(Ks)})}function qf({...e}){const t=Uf(),s=n=>fs({type:"UPDATE_TOAST",toast:{...n,id:t}}),r=()=>fs({type:"DISMISS_TOAST",toastId:t});return fs({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||r()}}}),{id:t,dismiss:r,update:s}}function pl(){const[e,t]=v.useState(Ks);return v.useEffect(()=>($s.push(t),()=>{const s=$s.indexOf(t);s>-1&&$s.splice(s,1)}),[e]),{...e,toast:qf,dismiss:s=>fs({type:"DISMISS_TOAST",toastId:s})}}function zf(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...r)=>e(...r);return new Proxy(s,{get:(r,n)=>n==="create"?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}function dr(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const sn=e=>Array.isArray(e);function gl(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}function Ps(e){return typeof e=="string"||Array.isArray(e)}function Ii(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function Dn(e,t,s,r){if(typeof t=="function"){const[n,o]=Ii(r);t=t(s!==void 0?s:e.custom,n,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,o]=Ii(r);t=t(s!==void 0?s:e.custom,n,o)}return t}function hr(e,t,s){const r=e.getProps();return Dn(r,t,s!==void 0?s:r.custom,e)}const _n=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vn=["initial",..._n],ks=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jt=new Set(ks),Ve=e=>e*1e3,Oe=e=>e/1e3,Wf={type:"spring",stiffness:500,damping:25,restSpeed:10},$f=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Kf={type:"keyframes",duration:.8},Gf={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hf=(e,{keyframes:t})=>t.length>2?Kf:jt.has(e)?e.startsWith("scale")?$f(t[1]):Wf:Gf;function On(e,t){return e?e[t]||e.default||e:void 0}const Qf={skipAnimations:!1,useManualTiming:!1},Xf=e=>e!==null;function fr(e,{repeat:t,repeatType:s="loop"},r){const n=e.filter(Xf),o=t&&s!=="loop"&&t%2===1?0:n.length-1;return!o||r===void 0?n[o]:r}const ie=e=>e;let rn=ie;function Yf(e){let t=new Set,s=new Set,r=!1,n=!1;const o=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(u){o.has(u)&&(c.schedule(u),e()),u(i)}const c={schedule:(u,d=!1,h=!1)=>{const p=h&&r?t:s;return d&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(i=u,r){n=!0;return}r=!0,[t,s]=[s,t],s.clear(),t.forEach(a),r=!1,n&&(n=!1,c.process(u))}};return c}const Us=["read","resolveKeyframes","update","preRender","render","postRender"],Zf=40;function yl(e,t){let s=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,i=Us.reduce((y,S)=>(y[S]=Yf(o),y),{}),{read:a,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=i,p=()=>{const y=performance.now();s=!1,n.delta=r?1e3/60:Math.max(Math.min(y-n.timestamp,Zf),1),n.timestamp=y,n.isProcessing=!0,a.process(n),c.process(n),u.process(n),d.process(n),h.process(n),f.process(n),n.isProcessing=!1,s&&t&&(r=!1,e(p))},b=()=>{s=!0,r=!0,n.isProcessing||e(p)};return{schedule:Us.reduce((y,S)=>{const j=i[S];return y[S]=(N,A=!1,k=!1)=>(s||b(),j.schedule(N,A,k)),y},{}),cancel:y=>{for(let S=0;S<Us.length;S++)i[Us[S]].cancel(y)},state:n,steps:i}}const{schedule:I,cancel:Fe,state:ee,steps:Tr}=yl(typeof requestAnimationFrame<"u"?requestAnimationFrame:ie,!0),vl=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Jf=1e-7,em=12;function tm(e,t,s,r,n){let o,i,a=0;do i=t+(s-t)/2,o=vl(i,r,n)-e,o>0?s=i:t=i;while(Math.abs(o)>Jf&&++a<em);return i}function Rs(e,t,s,r){if(e===t&&s===r)return ie;const n=o=>tm(o,0,1,e,s);return o=>o===0||o===1?o:vl(n(o),t,r)}const xl=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bl=e=>t=>1-e(1-t),wl=Rs(.33,1.53,.69,.99),Ln=bl(wl),jl=xl(Ln),Sl=e=>(e*=2)<1?.5*Ln(e):.5*(2-Math.pow(2,-10*(e-1))),Fn=e=>1-Math.sin(Math.acos(e)),Pl=bl(Fn),Cl=xl(Fn),Tl=e=>/^0[^.\s]+$/u.test(e);function sm(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Tl(e):!0}const Al=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Nl=e=>t=>typeof t=="string"&&t.startsWith(e),Ml=Nl("--"),rm=Nl("var(--"),In=e=>rm(e)?nm.test(e.split("/*")[0].trim()):!1,nm=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,im=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function om(e){const t=im.exec(e);if(!t)return[,];const[,s,r,n]=t;return[`--${s??r}`,n]}function El(e,t,s=1){const[r,n]=om(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return Al(i)?parseFloat(i):i}return In(n)?El(n,t,s+1):n}const Ie=(e,t,s)=>s>t?t:s<e?e:s,es={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Cs={...es,transform:e=>Ie(0,1,e)},Bs={...es,default:1},Ds=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ze=Ds("deg"),Te=Ds("%"),E=Ds("px"),am=Ds("vh"),lm=Ds("vw"),Ui={...Te,parse:e=>Te.parse(e)/100,transform:e=>Te.transform(e*100)},cm=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Bi=e=>e===es||e===E,qi=(e,t)=>parseFloat(e.split(", ")[t]),zi=(e,t)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const n=r.match(/^matrix3d\((.+)\)$/u);if(n)return qi(n[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?qi(o[1],e):0}},um=new Set(["x","y","z"]),dm=ks.filter(e=>!um.has(e));function hm(e){const t=[];return dm.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Ht={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:zi(4,13),y:zi(5,14)};Ht.translateX=Ht.x;Ht.translateY=Ht.y;const kl=e=>t=>t.test(e),fm={test:e=>e==="auto",parse:e=>e},Rl=[es,E,Te,ze,lm,am,fm],Wi=e=>Rl.find(kl(e)),vt=new Set;let nn=!1,on=!1;function Dl(){if(on){const e=Array.from(vt).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const n=hm(r);n.length&&(s.set(r,n),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const n=s.get(r);n&&n.forEach(([o,i])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}on=!1,nn=!1,vt.forEach(e=>e.complete()),vt.clear()}function _l(){vt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(on=!0)})}function mm(){_l(),Dl()}class Un{constructor(t,s,r,n,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=n,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vt.add(this),nn||(nn=!0,I.read(_l),I.resolveKeyframes(Dl))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:n}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const i=n==null?void 0:n.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&s){const c=r.readValue(s,a);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=a),n&&i===void 0&&n.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ms=e=>Math.round(e*1e5)/1e5,Bn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pm(e){return e==null}const gm=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qn=(e,t)=>s=>!!(typeof s=="string"&&gm.test(s)&&s.startsWith(e)||t&&!pm(s)&&Object.prototype.hasOwnProperty.call(s,t)),Vl=(e,t,s)=>r=>{if(typeof r!="string")return r;const[n,o,i,a]=r.match(Bn);return{[e]:parseFloat(n),[t]:parseFloat(o),[s]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},ym=e=>Ie(0,255,e),Ar={...es,transform:e=>Math.round(ym(e))},ut={test:qn("rgb","red"),parse:Vl("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Ar.transform(e)+", "+Ar.transform(t)+", "+Ar.transform(s)+", "+ms(Cs.transform(r))+")"};function vm(e){let t="",s="",r="",n="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,s+=s,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const an={test:qn("#"),parse:vm,transform:ut.transform},Ct={test:qn("hsl","hue"),parse:Vl("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+Te.transform(ms(t))+", "+Te.transform(ms(s))+", "+ms(Cs.transform(r))+")"},re={test:e=>ut.test(e)||an.test(e)||Ct.test(e),parse:e=>ut.test(e)?ut.parse(e):Ct.test(e)?Ct.parse(e):an.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ut.transform(e):Ct.transform(e)},xm=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bm(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Bn))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(xm))===null||s===void 0?void 0:s.length)||0)>0}const Ol="number",Ll="color",wm="var",jm="var(",$i="${}",Sm=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ts(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},n=[];let o=0;const a=t.replace(Sm,c=>(re.test(c)?(r.color.push(o),n.push(Ll),s.push(re.parse(c))):c.startsWith(jm)?(r.var.push(o),n.push(wm),s.push(c)):(r.number.push(o),n.push(Ol),s.push(parseFloat(c))),++o,$i)).split($i);return{values:s,split:a,indexes:r,types:n}}function Fl(e){return Ts(e).values}function Il(e){const{split:t,types:s}=Ts(e),r=t.length;return n=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],n[i]!==void 0){const a=s[i];a===Ol?o+=ms(n[i]):a===Ll?o+=re.transform(n[i]):o+=n[i]}return o}}const Pm=e=>typeof e=="number"?0:e;function Cm(e){const t=Fl(e);return Il(e)(t.map(Pm))}const st={test:bm,parse:Fl,createTransformer:Il,getAnimatableNone:Cm},Tm=new Set(["brightness","contrast","saturate","opacity"]);function Am(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(Bn)||[];if(!r)return e;const n=s.replace(r,"");let o=Tm.has(t)?1:0;return r!==s&&(o*=100),t+"("+o+n+")"}const Nm=/\b([a-z-]*)\(.*?\)/gu,ln={...st,getAnimatableNone:e=>{const t=e.match(Nm);return t?t.map(Am).join(" "):e}},Mm={borderWidth:E,borderTopWidth:E,borderRightWidth:E,borderBottomWidth:E,borderLeftWidth:E,borderRadius:E,radius:E,borderTopLeftRadius:E,borderTopRightRadius:E,borderBottomRightRadius:E,borderBottomLeftRadius:E,width:E,maxWidth:E,height:E,maxHeight:E,top:E,right:E,bottom:E,left:E,padding:E,paddingTop:E,paddingRight:E,paddingBottom:E,paddingLeft:E,margin:E,marginTop:E,marginRight:E,marginBottom:E,marginLeft:E,backgroundPositionX:E,backgroundPositionY:E},Em={rotate:ze,rotateX:ze,rotateY:ze,rotateZ:ze,scale:Bs,scaleX:Bs,scaleY:Bs,scaleZ:Bs,skew:ze,skewX:ze,skewY:ze,distance:E,translateX:E,translateY:E,translateZ:E,x:E,y:E,z:E,perspective:E,transformPerspective:E,opacity:Cs,originX:Ui,originY:Ui,originZ:E},Ki={...es,transform:Math.round},zn={...Mm,...Em,zIndex:Ki,size:E,fillOpacity:Cs,strokeOpacity:Cs,numOctaves:Ki},km={...zn,color:re,backgroundColor:re,outlineColor:re,fill:re,stroke:re,borderColor:re,borderTopColor:re,borderRightColor:re,borderBottomColor:re,borderLeftColor:re,filter:ln,WebkitFilter:ln},Wn=e=>km[e];function Ul(e,t){let s=Wn(e);return s!==ln&&(s=st),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Rm=new Set(["auto","none","0"]);function Dm(e,t,s){let r=0,n;for(;r<e.length&&!n;){const o=e[r];typeof o=="string"&&!Rm.has(o)&&Ts(o).values.length&&(n=e[r]),r++}if(n&&s)for(const o of t)e[o]=Ul(s,n)}class Bl extends Un{constructor(t,s,r,n,o){super(t,s,r,n,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),In(u))){const d=El(u,s.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!cm.has(r)||t.length!==2)return;const[n,o]=t,i=Wi(n),a=Wi(o);if(i!==a)if(Bi(i)&&Bi(a))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let n=0;n<t.length;n++)sm(t[n])&&r.push(n);r.length&&Dm(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ht[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const n=s[s.length-1];n!==void 0&&t.getValue(r,n).jump(n,!1)}measureEndState(){var t;const{element:s,name:r,unresolvedKeyframes:n}=this;if(!s||!s.current)return;const o=s.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=Ht[r](s.measureViewportBox(),window.getComputedStyle(s.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{s.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function $n(e){return typeof e=="function"}let Gs;function _m(){Gs=void 0}const Ae={now:()=>(Gs===void 0&&Ae.set(ee.isProcessing||Qf.useManualTiming?ee.timestamp:performance.now()),Gs),set:e=>{Gs=e,queueMicrotask(_m)}},Gi=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(st.test(e)||e==="0")&&!e.startsWith("url("));function Vm(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function Om(e,t,s,r){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=Gi(n,t),a=Gi(o,t);return!i||!a?!1:Vm(e)||(s==="spring"||$n(s))&&r}const Lm=40;class ql{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ae.now(),this.options={autoplay:t,delay:s,type:r,repeat:n,repeatDelay:o,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Lm?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&mm(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=Ae.now(),this.hasAttemptedResolve=!0;const{name:r,type:n,velocity:o,delay:i,onComplete:a,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Om(t,r,n,o))if(i)this.options.duration=0;else{c==null||c(fr(t,this.options,s)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,s);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...d},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Qt=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r},zl=(e,t,s=10)=>{let r="";const n=Math.max(Math.round(t/s),2);for(let o=0;o<n;o++)r+=e(Qt(0,n-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Wl(e,t){return t?e*(1e3/t):0}const Fm=5;function $l(e,t,s){const r=Math.max(t-Fm,0);return Wl(s-e(r),t-r)}const K={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nr=.001;function Im({duration:e=K.duration,bounce:t=K.bounce,velocity:s=K.velocity,mass:r=K.mass}){let n,o,i=1-t;i=Ie(K.minDamping,K.maxDamping,i),e=Ie(K.minDuration,K.maxDuration,Oe(e)),i<1?(n=u=>{const d=u*i,h=d*e,f=d-s,p=cn(u,i),b=Math.exp(-h);return Nr-f/p*b},o=u=>{const h=u*i*e,f=h*s+s,p=Math.pow(i,2)*Math.pow(u,2)*e,b=Math.exp(-h),g=cn(Math.pow(u,2),i);return(-n(u)+Nr>0?-1:1)*((f-p)*b)/g}):(n=u=>{const d=Math.exp(-u*e),h=(u-s)*e+1;return-Nr+d*h},o=u=>{const d=Math.exp(-u*e),h=(s-u)*(e*e);return d*h});const a=5/e,c=Bm(n,o,a);if(e=Ve(e),isNaN(c))return{stiffness:K.stiffness,damping:K.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const Um=12;function Bm(e,t,s){let r=s;for(let n=1;n<Um;n++)r=r-e(r)/t(r);return r}function cn(e,t){return e*Math.sqrt(1-t*t)}const un=2e4;function Kl(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<un;)t+=s,r=e.next(t);return t>=un?1/0:t}const qm=["duration","bounce"],zm=["stiffness","damping","mass"];function Hi(e,t){return t.some(s=>e[s]!==void 0)}function Wm(e){let t={velocity:K.velocity,stiffness:K.stiffness,damping:K.damping,mass:K.mass,isResolvedFromDuration:!1,...e};if(!Hi(e,zm)&&Hi(e,qm))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),n=r*r,o=2*Ie(.05,1,1-e.bounce)*Math.sqrt(n);t={...t,mass:K.mass,stiffness:n,damping:o}}else{const s=Im(e);t={...t,...s,mass:K.mass},t.isResolvedFromDuration=!0}return t}function Gl(e=K.visualDuration,t=K.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:n}=s;const o=s.keyframes[0],i=s.keyframes[s.keyframes.length-1],a={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=Wm({...s,velocity:-Oe(s.velocity||0)}),b=f||0,g=u/(2*Math.sqrt(c*d)),x=i-o,y=Oe(Math.sqrt(c/d)),S=Math.abs(x)<5;r||(r=S?K.restSpeed.granular:K.restSpeed.default),n||(n=S?K.restDelta.granular:K.restDelta.default);let j;if(g<1){const A=cn(y,g);j=k=>{const R=Math.exp(-g*y*k);return i-R*((b+g*y*x)/A*Math.sin(A*k)+x*Math.cos(A*k))}}else if(g===1)j=A=>i-Math.exp(-y*A)*(x+(b+y*x)*A);else{const A=y*Math.sqrt(g*g-1);j=k=>{const R=Math.exp(-g*y*k),w=Math.min(A*k,300);return i-R*((b+g*y*x)*Math.sinh(w)+A*x*Math.cosh(w))/A}}const N={calculatedDuration:p&&h||null,next:A=>{const k=j(A);if(p)a.done=A>=h;else{let R=0;g<1&&(R=A===0?Ve(b):$l(j,A,k));const w=Math.abs(R)<=r,P=Math.abs(i-k)<=n;a.done=w&&P}return a.value=a.done?i:k,a},toString:()=>{const A=Math.min(Kl(N),un),k=zl(R=>N.next(A*R).value,A,30);return A+"ms "+k}};return N}function Qi({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:o=500,modifyTarget:i,min:a,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=w=>a!==void 0&&w<a||c!==void 0&&w>c,b=w=>a===void 0?c:c===void 0||Math.abs(a-w)<Math.abs(c-w)?a:c;let g=s*t;const x=h+g,y=i===void 0?x:i(x);y!==x&&(g=y-h);const S=w=>-g*Math.exp(-w/r),j=w=>y+S(w),N=w=>{const P=S(w),V=j(w);f.done=Math.abs(P)<=u,f.value=f.done?y:V};let A,k;const R=w=>{p(f.value)&&(A=w,k=Gl({keyframes:[f.value,b(f.value)],velocity:$l(j,w,f.value),damping:n,stiffness:o,restDelta:u,restSpeed:d}))};return R(0),{calculatedDuration:null,next:w=>{let P=!1;return!k&&A===void 0&&(P=!0,N(w),R(w)),A!==void 0&&w>=A?k.next(w-A):(!P&&N(w),f)}}}const $m=Rs(.42,0,1,1),Km=Rs(0,0,.58,1),Hl=Rs(.42,0,.58,1),Gm=e=>Array.isArray(e)&&typeof e[0]!="number",Kn=e=>Array.isArray(e)&&typeof e[0]=="number",Xi={linear:ie,easeIn:$m,easeInOut:Hl,easeOut:Km,circIn:Fn,circInOut:Cl,circOut:Pl,backIn:Ln,backInOut:jl,backOut:wl,anticipate:Sl},Yi=e=>{if(Kn(e)){rn(e.length===4);const[t,s,r,n]=e;return Rs(t,s,r,n)}else if(typeof e=="string")return rn(Xi[e]!==void 0),Xi[e];return e},Hm=(e,t)=>s=>t(e(s)),et=(...e)=>e.reduce(Hm),W=(e,t,s)=>e+(t-e)*s;function Mr(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function Qm({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let n=0,o=0,i=0;if(!t)n=o=i=s;else{const a=s<.5?s*(1+t):s+t-s*t,c=2*s-a;n=Mr(c,a,e+1/3),o=Mr(c,a,e),i=Mr(c,a,e-1/3)}return{red:Math.round(n*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function Js(e,t){return s=>s>0?t:e}const Er=(e,t,s)=>{const r=e*e,n=s*(t*t-r)+r;return n<0?0:Math.sqrt(n)},Xm=[an,ut,Ct],Ym=e=>Xm.find(t=>t.test(e));function Zi(e){const t=Ym(e);if(!t)return!1;let s=t.parse(e);return t===Ct&&(s=Qm(s)),s}const Ji=(e,t)=>{const s=Zi(e),r=Zi(t);if(!s||!r)return Js(e,t);const n={...s};return o=>(n.red=Er(s.red,r.red,o),n.green=Er(s.green,r.green,o),n.blue=Er(s.blue,r.blue,o),n.alpha=W(s.alpha,r.alpha,o),ut.transform(n))},dn=new Set(["none","hidden"]);function Zm(e,t){return dn.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function Jm(e,t){return s=>W(e,t,s)}function Gn(e){return typeof e=="number"?Jm:typeof e=="string"?In(e)?Js:re.test(e)?Ji:sp:Array.isArray(e)?Ql:typeof e=="object"?re.test(e)?Ji:ep:Js}function Ql(e,t){const s=[...e],r=s.length,n=e.map((o,i)=>Gn(o)(o,t[i]));return o=>{for(let i=0;i<r;i++)s[i]=n[i](o);return s}}function ep(e,t){const s={...e,...t},r={};for(const n in s)e[n]!==void 0&&t[n]!==void 0&&(r[n]=Gn(e[n])(e[n],t[n]));return n=>{for(const o in r)s[o]=r[o](n);return s}}function tp(e,t){var s;const r=[],n={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const i=t.types[o],a=e.indexes[i][n[i]],c=(s=e.values[a])!==null&&s!==void 0?s:0;r[o]=c,n[i]++}return r}const sp=(e,t)=>{const s=st.createTransformer(t),r=Ts(e),n=Ts(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?dn.has(e)&&!n.values.length||dn.has(t)&&!r.values.length?Zm(e,t):et(Ql(tp(r,n),n.values),s):Js(e,t)};function Xl(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?W(e,t,s):Gn(e)(e,t)}function rp(e,t,s){const r=[],n=s||Xl,o=e.length-1;for(let i=0;i<o;i++){let a=n(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||ie:t;a=et(c,a)}r.push(a)}return r}function Yl(e,t,{clamp:s=!0,ease:r,mixer:n}={}){const o=e.length;if(rn(o===t.length),o===1)return()=>t[0];if(o===2&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=rp(t,r,n),a=i.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Qt(e[d],e[d+1],u);return i[d](h)};return s?u=>c(Ie(e[0],e[o-1],u)):c}function np(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const n=Qt(0,t,r);e.push(W(s,1,n))}}function ip(e){const t=[0];return np(t,e.length-1),t}function op(e,t){return e.map(s=>s*t)}function ap(e,t){return e.map(()=>t||Hl).splice(0,e.length-1)}function er({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const n=Gm(r)?r.map(Yi):Yi(r),o={done:!1,value:t[0]},i=op(s&&s.length===t.length?s:ip(t),e),a=Yl(i,t,{ease:Array.isArray(n)?n:ap(t,n)});return{calculatedDuration:e,next:c=>(o.value=a(c),o.done=c>=e,o)}}const lp=e=>{const t=({timestamp:s})=>e(s);return{start:()=>I.update(t,!0),stop:()=>Fe(t),now:()=>ee.isProcessing?ee.timestamp:Ae.now()}},cp={decay:Qi,inertia:Qi,tween:er,keyframes:er,spring:Gl},up=e=>e/100;class Hn extends ql{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:r,element:n,keyframes:o}=this.options,i=(n==null?void 0:n.KeyframeResolver)||Un,a=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new i(o,a,s,r,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:r=0,repeatDelay:n=0,repeatType:o,velocity:i=0}=this.options,a=$n(s)?s:cp[s]||er;let c,u;a!==er&&typeof t[0]!="number"&&(c=et(up,Xl(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});o==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=Kl(d));const{calculatedDuration:h}=d,f=h+n,p=f*(r+1)-n;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:n,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return o.next(0);const{delay:f,repeat:p,repeatType:b,repeatDelay:g,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),S=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let j=this.currentTime,N=o;if(p){const w=Math.min(this.currentTime,d)/h;let P=Math.floor(w),V=w%1;!V&&w>=1&&(V=1),V===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(b==="reverse"?(V=1-V,g&&(V-=g/h)):b==="mirror"&&(N=i)),j=Ie(0,1,V)*h}const A=S?{done:!1,value:c[0]}:N.next(j);a&&(A.value=a(A.value));let{done:k}=A;!S&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return R&&n!==void 0&&(A.value=fr(c,this.options,n)),x&&x(A.value),R&&this.finish(),A}get duration(){const{resolved:t}=this;return t?Oe(t.calculatedDuration):0}get time(){return Oe(this.currentTime)}set time(t){t=Ve(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Oe(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=lp,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),s&&s();const n=this.driver.now();this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=n):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const dp=new Set(["opacity","clipPath","filter","transform"]);function Qn(e){let t;return()=>(t===void 0&&(t=e()),t)}const hp={linearEasing:void 0};function fp(e,t){const s=Qn(e);return()=>{var r;return(r=hp[t])!==null&&r!==void 0?r:s()}}const tr=fp(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Zl(e){return!!(typeof e=="function"&&tr()||!e||typeof e=="string"&&(e in hn||tr())||Kn(e)||Array.isArray(e)&&e.every(Zl))}const ds=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,hn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ds([0,.65,.55,1]),circOut:ds([.55,0,1,.45]),backIn:ds([.31,.01,.66,-.59]),backOut:ds([.33,1.53,.69,.99])};function Jl(e,t){if(e)return typeof e=="function"&&tr()?zl(e,t):Kn(e)?ds(e):Array.isArray(e)?e.map(s=>Jl(s,t)||hn.easeOut):hn[e]}function mp(e,t,s,{delay:r=0,duration:n=300,repeat:o=0,repeatType:i="loop",ease:a="easeInOut",times:c}={}){const u={[t]:s};c&&(u.offset=c);const d=Jl(a,n);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:n,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function eo(e,t){e.timeline=t,e.onfinish=null}const pp=Qn(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sr=10,gp=2e4;function yp(e){return $n(e.type)||e.type==="spring"||!Zl(e.ease)}function vp(e,t){const s=new Hn({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const n=[];let o=0;for(;!r.done&&o<gp;)r=s.sample(o),n.push(r.value),o+=sr;return{times:void 0,keyframes:n,duration:o-sr,ease:"linear"}}const ec={anticipate:Sl,backInOut:jl,circInOut:Cl};function xp(e){return e in ec}class to extends ql{constructor(t){super(t);const{name:s,motionValue:r,element:n,keyframes:o}=this.options;this.resolver=new Bl(o,(i,a)=>this.onKeyframesResolved(i,a),s,r,n),this.resolver.scheduleResolve()}initPlayback(t,s){var r;let{duration:n=300,times:o,ease:i,type:a,motionValue:c,name:u,startTime:d}=this.options;if(!(!((r=c.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&tr()&&xp(i)&&(i=ec[i]),yp(this.options)){const{onComplete:f,onUpdate:p,motionValue:b,element:g,...x}=this.options,y=vp(t,x);t=y.keyframes,t.length===1&&(t[1]=t[0]),n=y.duration,o=y.times,i=y.ease,a="keyframes"}const h=mp(c.owner.current,u,t,{...this.options,duration:n,times:o,ease:i});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(eo(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;c.set(fr(t,this.options,s)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:n,times:o,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return Oe(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return Oe(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=Ve(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return ie;const{animation:r}=s;eo(r,t)}return ie}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:r,duration:n,type:o,ease:i,times:a}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,b=new Hn({...p,keyframes:r,duration:n,type:o,ease:i,times:a,isGenerator:!0}),g=Ve(this.time);u.setWithVelocity(b.sample(g-sr).value,b.sample(g).value,sr)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:r,repeatDelay:n,repeatType:o,damping:i,type:a}=t;return pp()&&r&&dp.has(r)&&s&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate&&!n&&o!=="mirror"&&i!==0&&a!=="inertia"}}const bp=Qn(()=>window.ScrollTimeline!==void 0);class wp{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,s){return Promise.all(this.animations).then(t).catch(s)}getAll(t){return this.animations[0][t]}setAll(t,s){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=s}attachTimeline(t,s){const r=this.animations.map(n=>bp()&&n.attachTimeline?n.attachTimeline(t):s(n));return()=>{r.forEach((n,o)=>{n&&n(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function jp({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:n,repeat:o,repeatType:i,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Xn=(e,t,s,r={},n,o)=>i=>{const a=On(r,e)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ve(c);let d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:n};jp(a)||(d={...d,...Hf(e,d)}),d.duration&&(d.duration=Ve(d.duration)),d.repeatDelay&&(d.repeatDelay=Ve(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!o&&t.get()!==void 0){const f=fr(d.keyframes,a);if(f!==void 0)return I.update(()=>{d.onUpdate(f),d.onComplete()}),new wp([])}return!o&&to.supports(d)?new to(d):new Hn(d)},Sp=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Pp=e=>sn(e)?e[e.length-1]||0:e;function Yn(e,t){e.indexOf(t)===-1&&e.push(t)}function Zn(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Jn{constructor(){this.subscriptions=[]}add(t){return Yn(this.subscriptions,t),()=>Zn(this.subscriptions,t)}notify(t,s,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,s,r);else for(let o=0;o<n;o++){const i=this.subscriptions[o];i&&i(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const so=30,Cp=e=>!isNaN(parseFloat(e)),ps={current:void 0};class Tp{constructor(t,s={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,n=!0)=>{const o=Ae.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Ae.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Cp(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Jn);const r=this.events[t].add(s);return t==="change"?()=>{r(),I.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ps.current&&ps.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ae.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>so)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,so);return Wl(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xt(e,t){return new Tp(e,t)}function Ap(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Xt(s))}function Np(e,t){const s=hr(e,t);let{transitionEnd:r={},transition:n={},...o}=s||{};o={...o,...r};for(const i in o){const a=Pp(o[i]);Ap(e,i,a)}}const ei=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Mp="framerAppearId",tc="data-"+ei(Mp);function sc(e){return e.props[tc]}const ne=e=>!!(e&&e.getVelocity);function Ep(e){return!!(ne(e)&&e.add)}function fn(e,t){const s=e.getValue("willChange");if(Ep(s))return s.add(t)}function kp({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function rc(e,t,{delay:s=0,transitionOverride:r,type:n}={}){var o;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...c}=t;r&&(i=r);const u=[],d=n&&e.animationState&&e.animationState.getState()[n];for(const h in c){const f=e.getValue(h,(o=e.latestValues[h])!==null&&o!==void 0?o:null),p=c[h];if(p===void 0||d&&kp(d,h))continue;const b={delay:s,...On(i||{},h)};let g=!1;if(window.MotionHandoffAnimation){const y=sc(e);if(y){const S=window.MotionHandoffAnimation(y,h,I);S!==null&&(b.startTime=S,g=!0)}}fn(e,h),f.start(Xn(h,f,p,e.shouldReduceMotion&&jt.has(h)?{type:!1}:b,e,g));const x=f.animation;x&&u.push(x)}return a&&Promise.all(u).then(()=>{I.update(()=>{a&&Np(e,a)})}),u}function mn(e,t,s={}){var r;const n=hr(e,t,s.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(o=s.transitionOverride);const i=n?()=>Promise.all(rc(e,n,s)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=o;return Rp(e,t,d+u,h,f,s)}:()=>Promise.resolve(),{when:c}=o;if(c){const[u,d]=c==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(s.delay)])}function Rp(e,t,s=0,r=0,n=1,o){const i=[],a=(e.variantChildren.size-1)*r,c=n===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(Dp).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(mn(u,t,{...o,delay:s+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function Dp(e,t){return e.sortNodePosition(t)}function _p(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const n=t.map(o=>mn(e,o,s));r=Promise.all(n)}else if(typeof t=="string")r=mn(e,t,s);else{const n=typeof t=="function"?hr(e,t,s.custom):t;r=Promise.all(rc(e,n,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Vp=Vn.length;function nc(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?nc(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Vp;s++){const r=Vn[s],n=e.props[r];(Ps(n)||n===!1)&&(t[r]=n)}return t}const Op=[..._n].reverse(),Lp=_n.length;function Fp(e){return t=>Promise.all(t.map(({animation:s,options:r})=>_p(e,s,r)))}function Ip(e){let t=Fp(e),s=ro(),r=!0;const n=c=>(u,d)=>{var h;const f=hr(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:b,...g}=f;u={...u,...g,...b}}return u};function o(c){t=c(e)}function i(c){const{props:u}=e,d=nc(e.parent)||{},h=[],f=new Set;let p={},b=1/0;for(let x=0;x<Lp;x++){const y=Op[x],S=s[y],j=u[y]!==void 0?u[y]:d[y],N=Ps(j),A=y===c?S.isActive:null;A===!1&&(b=x);let k=j===d[y]&&j!==u[y]&&N;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),S.protectedKeys={...p},!S.isActive&&A===null||!j&&!S.prevProp||dr(j)||typeof j=="boolean")continue;const R=Up(S.prevProp,j);let w=R||y===c&&S.isActive&&!k&&N||x>b&&N,P=!1;const V=Array.isArray(j)?j:[j];let X=V.reduce(n(y),{});A===!1&&(X={});const{prevResolvedValues:L={}}=S,Vs={...L,...X},nt=J=>{w=!0,f.has(J)&&(P=!0,f.delete(J)),S.needsAnimating[J]=!0;const he=e.getValue(J);he&&(he.liveStyle=!1)};for(const J in Vs){const he=X[J],Ne=L[J];if(p.hasOwnProperty(J))continue;let St=!1;sn(he)&&sn(Ne)?St=!gl(he,Ne):St=he!==Ne,St?he!=null?nt(J):f.add(J):he!==void 0&&f.has(J)?nt(J):S.protectedKeys[J]=!0}S.prevProp=j,S.prevResolvedValues=X,S.isActive&&(p={...p,...X}),r&&e.blockInitialAnimation&&(w=!1),w&&(!(k&&R)||P)&&h.push(...V.map(J=>({animation:J,options:{type:y}})))}if(f.size){const x={};f.forEach(y=>{const S=e.getBaseTarget(y),j=e.getValue(y);j&&(j.liveStyle=!0),x[y]=S??null}),h.push({animation:x})}let g=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(h):Promise.resolve()}function a(c,u){var d;if(s[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),s[c].isActive=u;const h=i(c);for(const f in s)s[f].protectedKeys={};return h}return{animateChanges:i,setActive:a,setAnimateFunction:o,getState:()=>s,reset:()=>{s=ro(),r=!0}}}function Up(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gl(t,e):!1}function ot(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ro(){return{animate:ot(!0),whileInView:ot(),whileHover:ot(),whileTap:ot(),whileDrag:ot(),whileFocus:ot(),exit:ot()}}class rt{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Bp extends rt{constructor(t){super(t),t.animationState||(t.animationState=Ip(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();dr(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let qp=0;class zp extends rt{constructor(){super(...arguments),this.id=qp++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const n=this.node.animationState.setActive("exit",!t);s&&!t&&n.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Wp={animation:{Feature:Bp},exit:{Feature:zp}};function $p(e,t,s){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let n=document;const o=(r=void 0)!==null&&r!==void 0?r:n.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const xe={x:!1,y:!1};function ic(){return xe.x||xe.y}function no(e){return t=>{t.pointerType==="touch"||ic()||e(t)}}function Kp(e,t,s={}){const r=new AbortController,n={passive:!0,...s,signal:r.signal},o=no(i=>{const{target:a}=i,c=t(i);if(!c||!a)return;const u=no(d=>{c(d),a.removeEventListener("pointerleave",u)});a.addEventListener("pointerleave",u,n)});return $p(e).forEach(i=>{i.addEventListener("pointerenter",o,n)}),()=>r.abort()}function Gp(e){return e==="x"||e==="y"?xe[e]?null:(xe[e]=!0,()=>{xe[e]=!1}):xe.x||xe.y?null:(xe.x=xe.y=!0,()=>{xe.x=xe.y=!1})}const oc=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function _s(e){return{point:{x:e.pageX,y:e.pageY}}}const Hp=e=>t=>oc(t)&&e(t,_s(t));function _e(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function tt(e,t,s,r){return _e(e,t,Hp(s),r)}const io=(e,t)=>Math.abs(e-t);function Qp(e,t){const s=io(e.x,t.x),r=io(e.y,t.y);return Math.sqrt(s**2+r**2)}class ac{constructor(t,s,{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Rr(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=Qp(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:b}=h,{timestamp:g}=ee;this.history.push({...b,timestamp:g});const{onStart:x,onMove:y}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=kr(f,this.transformPagePoint),I.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Rr(h.type==="pointercancel"?this.lastMoveEventInfo:kr(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,x),b&&b(h,x)},!oc(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=r,this.contextWindow=n||window;const i=_s(t),a=kr(i,this.transformPagePoint),{point:c}=a,{timestamp:u}=ee;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=s;d&&d(t,Rr(a,this.history)),this.removeListeners=et(tt(this.contextWindow,"pointermove",this.handlePointerMove),tt(this.contextWindow,"pointerup",this.handlePointerUp),tt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fe(this.updatePoint)}}function kr(e,t){return t?{point:t(e.point)}:e}function oo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Rr({point:e},t){return{point:e,delta:oo(e,lc(t)),offset:oo(e,Xp(t)),velocity:Yp(t,.1)}}function Xp(e){return e[0]}function lc(e){return e[e.length-1]}function Yp(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const n=lc(e);for(;s>=0&&(r=e[s],!(n.timestamp-r.timestamp>Ve(t)));)s--;if(!r)return{x:0,y:0};const o=Oe(n.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(n.x-r.x)/o,y:(n.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Tt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const cc=1e-4,Zp=1-cc,Jp=1+cc,uc=.01,eg=0-uc,tg=0+uc;function me(e){return e.max-e.min}function sg(e,t,s){return Math.abs(e-t)<=s}function ao(e,t,s,r=.5){e.origin=r,e.originPoint=W(t.min,t.max,e.origin),e.scale=me(s)/me(t),e.translate=W(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Zp&&e.scale<=Jp||isNaN(e.scale))&&(e.scale=1),(e.translate>=eg&&e.translate<=tg||isNaN(e.translate))&&(e.translate=0)}function gs(e,t,s,r){ao(e.x,t.x,s.x,r?r.originX:void 0),ao(e.y,t.y,s.y,r?r.originY:void 0)}function lo(e,t,s){e.min=s.min+t.min,e.max=e.min+me(t)}function rg(e,t,s){lo(e.x,t.x,s.x),lo(e.y,t.y,s.y)}function co(e,t,s){e.min=t.min-s.min,e.max=e.min+me(t)}function ys(e,t,s){co(e.x,t.x,s.x),co(e.y,t.y,s.y)}function ng(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?W(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?W(s,e,r.max):Math.min(e,s)),e}function uo(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function ig(e,{top:t,left:s,bottom:r,right:n}){return{x:uo(e.x,s,n),y:uo(e.y,t,r)}}function ho(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function og(e,t){return{x:ho(e.x,t.x),y:ho(e.y,t.y)}}function ag(e,t){let s=.5;const r=me(e),n=me(t);return n>r?s=Qt(t.min,t.max-r,e.min):r>n&&(s=Qt(e.min,e.max-n,t.min)),Ie(0,1,s)}function lg(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const pn=.35;function cg(e=pn){return e===!1?e=0:e===!0&&(e=pn),{x:fo(e,"left","right"),y:fo(e,"top","bottom")}}function fo(e,t,s){return{min:mo(e,t),max:mo(e,s)}}function mo(e,t){return typeof e=="number"?e:e[t]||0}const po=()=>({translate:0,scale:1,origin:0,originPoint:0}),At=()=>({x:po(),y:po()}),go=()=>({min:0,max:0}),Y=()=>({x:go(),y:go()});function ge(e){return[e("x"),e("y")]}function dc({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function ug({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dg(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Dr(e){return e===void 0||e===1}function gn({scale:e,scaleX:t,scaleY:s}){return!Dr(e)||!Dr(t)||!Dr(s)}function at(e){return gn(e)||hc(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function hc(e){return yo(e.x)||yo(e.y)}function yo(e){return e&&e!=="0%"}function rr(e,t,s){const r=e-s,n=t*r;return s+n}function vo(e,t,s,r,n){return n!==void 0&&(e=rr(e,n,r)),rr(e,s,r)+t}function yn(e,t=0,s=1,r,n){e.min=vo(e.min,t,s,r,n),e.max=vo(e.max,t,s,r,n)}function fc(e,{x:t,y:s}){yn(e.x,t.translate,t.scale,t.originPoint),yn(e.y,s.translate,s.scale,s.originPoint)}const xo=.999999999999,bo=1.0000000000001;function hg(e,t,s,r=!1){const n=s.length;if(!n)return;t.x=t.y=1;let o,i;for(let a=0;a<n;a++){o=s[a],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Mt(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,fc(e,i)),r&&at(o.latestValues)&&Mt(e,o.latestValues))}t.x<bo&&t.x>xo&&(t.x=1),t.y<bo&&t.y>xo&&(t.y=1)}function Nt(e,t){e.min=e.min+t,e.max=e.max+t}function wo(e,t,s,r,n=.5){const o=W(e.min,e.max,n);yn(e,t,s,o,r)}function Mt(e,t){wo(e.x,t.x,t.scaleX,t.scale,t.originX),wo(e.y,t.y,t.scaleY,t.scale,t.originY)}function mc(e,t){return dc(dg(e.getBoundingClientRect(),t))}function fg(e,t,s){const r=mc(e,s),{scroll:n}=t;return n&&(Nt(r.x,n.offset.x),Nt(r.y,n.offset.y)),r}const pc=({current:e})=>e?e.ownerDocument.defaultView:null,mg=new WeakMap;class pg{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Y(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const n=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(_s(d).point)},o=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:b}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Gp(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ge(x=>{let y=this.getAxisMotionValue(x).get()||0;if(Te.test(y)){const{projection:S}=this.visualElement;if(S&&S.layout){const j=S.layout.layoutBox[x];j&&(y=me(j)*(parseFloat(y)/100))}}this.originPoint[x]=y}),b&&I.postRender(()=>b(d,h)),fn(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:b,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=gg(x),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),g&&g(d,h)},a=(d,h)=>this.stop(d,h),c=()=>ge(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ac(t,{onSessionStart:n,onStart:o,onMove:i,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:pc(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=s;this.startAnimation(n);const{onDragEnd:o}=this.getProps();o&&I.postRender(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:n}=this.getProps();if(!r||!qs(t,n,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=ng(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&Tt(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=ig(n.layoutBox,s):this.constraints=!1,this.elastic=cg(r),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ge(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=lg(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Tt(t))return!1;const r=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const o=fg(r,n.root,this.visualElement.getTransformPagePoint());let i=og(n.layout.layoutBox,o);if(s){const a=s(ug(i));this.hasMutatedConstraints=!!a,a&&(i=dc(a))}return i}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:n,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=ge(d=>{if(!qs(d,s,this.currentDirection))return;let h=c&&c[d]||{};i&&(h={min:0,max:0});const f=n?200:1e6,p=n?40:1e7,b={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(a)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return fn(this.visualElement,t),r.start(Xn(t,r,0,s,this.visualElement,!1))}stopAnimation(){ge(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ge(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),n=r[s];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ge(s=>{const{drag:r}=this.getProps();if(!qs(s,r,this.currentDirection))return;const{projection:n}=this.visualElement,o=this.getAxisMotionValue(s);if(n&&n.layout){const{min:i,max:a}=n.layout.layoutBox[s];o.set(t[s]-W(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Tt(s)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};ge(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const c=a.get();n[i]=ag({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ge(i=>{if(!qs(i,t,null))return;const a=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];a.set(W(c,u,n[i]))})}addListeners(){if(!this.visualElement.current)return;mg.set(this.visualElement,this);const t=this.visualElement.current,s=tt(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Tt(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,o=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),I.read(r);const i=_e(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ge(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),s(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:o=!1,dragElastic:i=pn,dragMomentum:a=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:n,dragConstraints:o,dragElastic:i,dragMomentum:a}}}function qs(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function gg(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class yg extends rt{constructor(t){super(t),this.removeGroupControls=ie,this.removeListeners=ie,this.controls=new pg(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ie}unmount(){this.removeGroupControls(),this.removeListeners()}}const jo=e=>(t,s)=>{e&&I.postRender(()=>e(t,s))};class vg extends rt{constructor(){super(...arguments),this.removePointerDownListener=ie}onPointerDown(t){this.session=new ac(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pc(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:jo(t),onStart:jo(s),onMove:r,onEnd:(o,i)=>{delete this.session,n&&I.postRender(()=>n(o,i))}}}mount(){this.removePointerDownListener=tt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ti=v.createContext(null);function xg(){const e=v.useContext(ti);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:r}=e,n=v.useId();v.useEffect(()=>r(n),[]);const o=v.useCallback(()=>s&&s(n),[n,s]);return!t&&s?[!1,o]:[!0]}const gc=v.createContext({}),yc=v.createContext({}),Hs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function So(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const as={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(E.test(e))e=parseFloat(e);else return e;const s=So(e,t.target.x),r=So(e,t.target.y);return`${s}% ${r}%`}},bg={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,n=st.parse(e);if(n.length>5)return r;const o=st.createTransformer(e),i=typeof n[0]!="number"?1:0,a=s.x.scale*t.x,c=s.y.scale*t.y;n[0+i]/=a,n[1+i]/=c;const u=W(a,c,.5);return typeof n[2+i]=="number"&&(n[2+i]/=u),typeof n[3+i]=="number"&&(n[3+i]/=u),o(n)}},nr={};function wg(e){Object.assign(nr,e)}const{schedule:si,cancel:Vv}=yl(queueMicrotask,!1);class jg extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:n}=this.props,{projection:o}=t;wg(Sg),o&&(s.group&&s.group.add(o),r&&r.register&&n&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Hs.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:n,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,n||t.layoutDependency!==s||s===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||I.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),si.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vc(e){const[t,s]=xg(),r=v.useContext(gc);return l.jsx(jg,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(yc),isPresent:t,safeToRemove:s})}const Sg={borderRadius:{...as,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:as,borderTopRightRadius:as,borderBottomLeftRadius:as,borderBottomRightRadius:as,boxShadow:bg},xc=["TopLeft","TopRight","BottomLeft","BottomRight"],Pg=xc.length,Po=e=>typeof e=="string"?parseFloat(e):e,Co=e=>typeof e=="number"||E.test(e);function Cg(e,t,s,r,n,o){n?(e.opacity=W(0,s.opacity!==void 0?s.opacity:1,Tg(r)),e.opacityExit=W(t.opacity!==void 0?t.opacity:1,0,Ag(r))):o&&(e.opacity=W(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let i=0;i<Pg;i++){const a=`border${xc[i]}Radius`;let c=To(t,a),u=To(s,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Co(c)===Co(u)?(e[a]=Math.max(W(Po(c),Po(u),r),0),(Te.test(u)||Te.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||s.rotate)&&(e.rotate=W(t.rotate||0,s.rotate||0,r))}function To(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Tg=bc(0,.5,Pl),Ag=bc(.5,.95,ie);function bc(e,t,s){return r=>r<e?0:r>t?1:s(Qt(e,t,r))}function Ao(e,t){e.min=t.min,e.max=t.max}function pe(e,t){Ao(e.x,t.x),Ao(e.y,t.y)}function No(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Mo(e,t,s,r,n){return e-=t,e=rr(e,1/s,r),n!==void 0&&(e=rr(e,1/n,r)),e}function Ng(e,t=0,s=1,r=.5,n,o=e,i=e){if(Te.test(t)&&(t=parseFloat(t),t=W(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=W(o.min,o.max,r);e===o&&(a-=t),e.min=Mo(e.min,t,s,a,n),e.max=Mo(e.max,t,s,a,n)}function Eo(e,t,[s,r,n],o,i){Ng(e,t[s],t[r],t[n],t.scale,o,i)}const Mg=["x","scaleX","originX"],Eg=["y","scaleY","originY"];function ko(e,t,s,r){Eo(e.x,t,Mg,s?s.x:void 0,r?r.x:void 0),Eo(e.y,t,Eg,s?s.y:void 0,r?r.y:void 0)}function Ro(e){return e.translate===0&&e.scale===1}function wc(e){return Ro(e.x)&&Ro(e.y)}function Do(e,t){return e.min===t.min&&e.max===t.max}function kg(e,t){return Do(e.x,t.x)&&Do(e.y,t.y)}function _o(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jc(e,t){return _o(e.x,t.x)&&_o(e.y,t.y)}function Vo(e){return me(e.x)/me(e.y)}function Oo(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Rg{constructor(){this.members=[]}add(t){Yn(this.members,t),t.scheduleRender()}remove(t){if(Zn(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(n=>t===n);if(s===0)return!1;let r;for(let n=s;n>=0;n--){const o=this.members[n];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Dg(e,t,s){let r="";const n=e.x.translate/t.x,o=e.y.translate/t.y,i=(s==null?void 0:s.z)||0;if((n||o||i)&&(r=`translate3d(${n}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:b}=s;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const _g=(e,t)=>e.depth-t.depth;class Vg{constructor(){this.children=[],this.isDirty=!1}add(t){Yn(this.children,t),this.isDirty=!0}remove(t){Zn(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_g),this.isDirty=!1,this.children.forEach(t)}}function Qs(e){const t=ne(e)?e.get():e;return Sp(t)?t.toValue():t}function Og(e,t){const s=Ae.now(),r=({timestamp:n})=>{const o=n-s;o>=t&&(Fe(r),e(o-t))};return I.read(r,!0),()=>Fe(r)}function Lg(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Fg(e,t,s){const r=ne(e)?e:Xt(e);return r.start(Xn("",r,t,s)),r.animation}const lt={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},hs=typeof window<"u"&&window.MotionDebug!==void 0,_r=["","X","Y","Z"],Ig={visibility:"hidden"},Lo=1e3;let Ug=0;function Vr(e,t,s,r){const{latestValues:n}=t;n[e]&&(s[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Sc(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=sc(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:n,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",I,!(n||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Sc(r)}function Pc({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(i={},a=t==null?void 0:t()){this.id=Ug++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,hs&&(lt.totalNodes=lt.resolvedTargetDeltas=lt.recalculatedProjection=0),this.nodes.forEach(zg),this.nodes.forEach(Hg),this.nodes.forEach(Qg),this.nodes.forEach(Wg),hs&&window.MotionDebug.record(lt)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vg)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Jn),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const c=this.eventHandlers.get(i);c&&c.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Lg(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Og(f,250),Hs.hasAnimatedSinceResize&&(Hs.hasAnimatedSinceResize=!1,this.nodes.forEach(Io))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||ey,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=d.getProps(),S=!this.targetLayout||!jc(this.targetLayout,b)||p,j=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,j);const N={...On(g,"layout"),onPlay:x,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else f||Io(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xg),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Sc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fo);return}this.isUpdating||this.nodes.forEach(Kg),this.isUpdating=!1,this.nodes.forEach(Gg),this.nodes.forEach(Bg),this.nodes.forEach(qg),this.clearAllSnapshots();const a=Ae.now();ee.delta=Ie(0,1e3/60,a-ee.timestamp),ee.timestamp=a,ee.isProcessing=!0,Tr.update.process(ee),Tr.preRender.process(ee),Tr.render.process(ee),ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,si.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($g),this.sharedNodes.forEach(Yg)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,I.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){I.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Y(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!wc(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(a||at(this.latestValues)||d)&&(n(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return i&&(c=this.removeTransform(c)),ty(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return Y();const c=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(sy))){const{scroll:d}=this.root;d&&(Nt(c.x,d.offset.x),Nt(c.y,d.offset.y))}return c}removeElementScroll(i){var a;const c=Y();if(pe(c,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&pe(c,i),Nt(c.x,h.offset.x),Nt(c.y,h.offset.y))}return c}applyTransform(i,a=!1){const c=Y();pe(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Mt(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),at(d.latestValues)&&Mt(c,d.latestValues)}return at(this.latestValues)&&Mt(c,this.latestValues),c}removeTransform(i){const a=Y();pe(a,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!at(u.latestValues))continue;gn(u.latestValues)&&u.updateSnapshot();const d=Y(),h=u.measurePageBox();pe(d,h),ko(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return at(this.latestValues)&&ko(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=ee.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Y(),this.relativeTargetOrigin=Y(),ys(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),pe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Y(),this.targetWithTransforms=Y()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rg(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pe(this.target,this.layout.layoutBox),fc(this.target,this.targetDelta)):pe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Y(),this.relativeTargetOrigin=Y(),ys(this.relativeTargetOrigin,this.target,p.target),pe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hs&&lt.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gn(this.parent.latestValues)||hc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ee.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;pe(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;hg(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Y());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(No(this.prevProjectionDelta.x,this.projectionDelta.x),No(this.prevProjectionDelta.y,this.projectionDelta.y)),gs(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Oo(this.projectionDelta.x,this.prevProjectionDelta.x)||!Oo(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),hs&&lt.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=At(),this.projectionDelta=At(),this.projectionDeltaWithTransform=At()}setAnimationOrigin(i,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=At();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Y(),p=c?c.source:void 0,b=this.layout?this.layout.source:void 0,g=p!==b,x=this.getStack(),y=!x||x.members.length<=1,S=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(Jg));this.animationProgress=0;let j;this.mixTargetDelta=N=>{const A=N/1e3;Uo(h.x,i.x,A),Uo(h.y,i.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ys(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Zg(this.relativeTarget,this.relativeTargetOrigin,f,A),j&&kg(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Y()),pe(j,this.relativeTarget)),g&&(this.animationValues=d,Cg(d,u,this.latestValues,A,S,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=I.update(()=>{Hs.hasAnimatedSinceResize=!0,this.currentAnimation=Fg(0,Lo,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lo),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=i;if(!(!a||!c||!u)){if(this!==i&&this.layout&&u&&Cc(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Y();const h=me(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const f=me(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+f}pe(a,c),Mt(a,d),gs(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Rg),this.sharedNodes.get(i).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&Vr("z",i,u,this.animationValues);for(let d=0;d<_r.length;d++)Vr(`rotate${_r[d]}`,i,u,this.animationValues),Vr(`skew${_r[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ig;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Qs(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Qs(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!at(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Dg(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:b}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${b.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in nr){if(f[g]===void 0)continue;const{correct:x,applyTo:y}=nr[g],S=u.transform==="none"?f[g]:x(f[g],h);if(y){const j=y.length;for(let N=0;N<j;N++)u[y[N]]=S}else u[g]=S}return this.options.layoutId&&(u.pointerEvents=h===this?Qs(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Fo),this.root.sharedNodes.clear()}}}function Bg(e){e.updateLayout()}function qg(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:o}=e.options,i=s.source!==e.layout.source;o==="size"?ge(h=>{const f=i?s.measuredBox[h]:s.layoutBox[h],p=me(f);f.min=r[h].min,f.max=f.min+p}):Cc(o,s.layoutBox,r)&&ge(h=>{const f=i?s.measuredBox[h]:s.layoutBox[h],p=me(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=At();gs(a,r,s.layoutBox);const c=At();i?gs(c,e.applyTransform(n,!0),s.measuredBox):gs(c,r,s.layoutBox);const u=!wc(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const b=Y();ys(b,s.layoutBox,f.layoutBox);const g=Y();ys(g,r,p.layoutBox),jc(b,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=b,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function zg(e){hs&&lt.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Wg(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $g(e){e.clearSnapshot()}function Fo(e){e.clearMeasurements()}function Kg(e){e.isLayoutDirty=!1}function Gg(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Io(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Hg(e){e.resolveTargetDelta()}function Qg(e){e.calcProjection()}function Xg(e){e.resetSkewAndRotation()}function Yg(e){e.removeLeadSnapshot()}function Uo(e,t,s){e.translate=W(t.translate,0,s),e.scale=W(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Bo(e,t,s,r){e.min=W(t.min,s.min,r),e.max=W(t.max,s.max,r)}function Zg(e,t,s,r){Bo(e.x,t.x,s.x,r),Bo(e.y,t.y,s.y,r)}function Jg(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ey={duration:.45,ease:[.4,0,.1,1]},qo=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zo=qo("applewebkit/")&&!qo("chrome/")?Math.round:ie;function Wo(e){e.min=zo(e.min),e.max=zo(e.max)}function ty(e){Wo(e.x),Wo(e.y)}function Cc(e,t,s){return e==="position"||e==="preserve-aspect"&&!sg(Vo(t),Vo(s),.2)}function sy(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const ry=Pc({attachResizeListener:(e,t)=>_e(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Or={current:void 0},Tc=Pc({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Or.current){const e=new ry({});e.mount(window),e.setOptions({layoutScroll:!0}),Or.current=e}return Or.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ny={pan:{Feature:vg},drag:{Feature:yg,ProjectionNode:Tc,MeasureLayout:vc}};function $o(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s);const n=r[s?"onHoverStart":"onHoverEnd"];n&&I.postRender(()=>n(t,_s(t)))}class iy extends rt{mount(){const{current:t,props:s}=this.node;t&&(this.unmount=Kp(t,r=>($o(this.node,r,!0),n=>$o(this.node,n,!1)),{passive:!s.onHoverStart&&!s.onHoverEnd}))}unmount(){}}class oy extends rt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=et(_e(this.node.current,"focus",()=>this.onFocus()),_e(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ac=(e,t)=>t?e===t?!0:Ac(e,t.parentElement):!1;function Lr(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,_s(s))}class ay extends rt{constructor(){super(...arguments),this.removeStartListeners=ie,this.removeEndListeners=ie,this.removeAccessibleListeners=ie,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=tt(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!Ac(this.node.current,a.target)?d:u;f&&I.update(()=>f(a,c))},{passive:!(r.onTap||r.onPointerUp)}),i=tt(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=et(o,i),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||Lr("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&I.postRender(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=_e(this.node.current,"keyup",i),Lr("down",(a,c)=>{this.startPress(a,c)})},s=_e(this.node.current,"keydown",t),r=()=>{this.isPressing&&Lr("cancel",(o,i)=>this.cancelPress(o,i))},n=_e(this.node.current,"blur",r);this.removeAccessibleListeners=et(s,n)}}startPress(t,s){this.isPressing=!0;const{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&I.postRender(()=>r(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ic()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&I.postRender(()=>r(t,s))}mount(){const t=this.node.getProps(),s=tt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=_e(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=et(s,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const vn=new WeakMap,Fr=new WeakMap,ly=e=>{const t=vn.get(e.target);t&&t(e)},cy=e=>{e.forEach(ly)};function uy({root:e,...t}){const s=e||document;Fr.has(s)||Fr.set(s,{});const r=Fr.get(s),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(cy,{root:e,...t})),r[n]}function dy(e,t,s){const r=uy(t);return vn.set(e,s),r.observe(e),()=>{vn.delete(e),r.unobserve(e)}}const hy={some:0,all:1};class fy extends rt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:n="some",once:o}=t,i={root:s?s.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:hy[n]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return dy(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(my(t,s))&&this.startObserver()}unmount(){}}function my({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const py={inView:{Feature:fy},tap:{Feature:ay},focus:{Feature:oy},hover:{Feature:iy}},gy={layout:{ProjectionNode:Tc,MeasureLayout:vc}},ri=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),mr=v.createContext({}),ni=typeof window<"u",Nc=ni?v.useLayoutEffect:v.useEffect,Mc=v.createContext({strict:!1});function yy(e,t,s,r,n){var o,i;const{visualElement:a}=v.useContext(mr),c=v.useContext(Mc),u=v.useContext(ti),d=v.useContext(ri).reducedMotion,h=v.useRef();r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=v.useContext(yc);f&&!f.projection&&n&&(f.type==="html"||f.type==="svg")&&vy(h.current,s,n,p);const b=v.useRef(!1);v.useInsertionEffect(()=>{f&&b.current&&f.update(s,u)});const g=s[tc],x=v.useRef(!!g&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,g))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return Nc(()=>{f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),si.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),x.current=!1))}),f}function vy(e,t,s,r){const{layoutId:n,layout:o,drag:i,dragConstraints:a,layoutScroll:c,layoutRoot:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:Ec(e.parent)),e.projection.setOptions({layoutId:n,layout:o,alwaysMeasureLayout:!!i||a&&Tt(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function Ec(e){if(e)return e.options.allowProjection!==!1?e.projection:Ec(e.parent)}function xy(e,t,s){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Tt(s)&&(s.current=r))},[t])}function pr(e){return dr(e.animate)||Vn.some(t=>Ps(e[t]))}function kc(e){return!!(pr(e)||e.variants)}function by(e,t){if(pr(e)){const{initial:s,animate:r}=e;return{initial:s===!1||Ps(s)?s:void 0,animate:Ps(r)?r:void 0}}return e.inherit!==!1?t:{}}function wy(e){const{initial:t,animate:s}=by(e,v.useContext(mr));return v.useMemo(()=>({initial:t,animate:s}),[Ko(t),Ko(s)])}function Ko(e){return Array.isArray(e)?e.join(" "):e}const Go={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yt={};for(const e in Go)Yt[e]={isEnabled:t=>Go[e].some(s=>!!t[s])};function jy(e){for(const t in e)Yt[t]={...Yt[t],...e[t]}}const Sy=Symbol.for("motionComponentSymbol");function Py({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:n}){e&&jy(e);function o(a,c){let u;const d={...v.useContext(ri),...a,layoutId:Cy(a)},{isStatic:h}=d,f=wy(a),p=r(a,h);if(!h&&ni){Ty();const b=Ay(d);u=b.MeasureLayout,f.visualElement=yy(n,p,d,t,b.ProjectionNode)}return l.jsxs(mr.Provider,{value:f,children:[u&&f.visualElement?l.jsx(u,{visualElement:f.visualElement,...d}):null,s(n,a,xy(p,f.visualElement,c),p,h,f.visualElement)]})}const i=v.forwardRef(o);return i[Sy]=n,i}function Cy({layoutId:e}){const t=v.useContext(gc).id;return t&&e!==void 0?t+"-"+e:e}function Ty(e,t){v.useContext(Mc).strict}function Ay(e){const{drag:t,layout:s}=Yt;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ny=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ii(e){return typeof e!="string"||e.includes("-")?!1:!!(Ny.indexOf(e)>-1||/[A-Z]/u.test(e))}function Rc(e,{style:t,vars:s},r,n){Object.assign(e.style,t,n&&n.getProjectionStyles(r));for(const o in s)e.style.setProperty(o,s[o])}const Dc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _c(e,t,s,r){Rc(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(Dc.has(n)?n:ei(n),t.attrs[n])}function Vc(e,{layout:t,layoutId:s}){return jt.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!nr[e]||e==="opacity")}function oi(e,t,s){var r;const{style:n}=e,o={};for(const i in n)(ne(n[i])||t.style&&ne(t.style[i])||Vc(i,e)||((r=s==null?void 0:s.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[i]=n[i]);return o}function Oc(e,t,s){const r=oi(e,t,s);for(const n in e)if(ne(e[n])||ne(t[n])){const o=ks.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[o]=e[n]}return r}function ai(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}function My({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},r,n,o){const i={latestValues:Ey(r,n,o,e),renderState:t()};return s&&(i.mount=a=>s(r,a,i)),i}const Lc=e=>(t,s)=>{const r=v.useContext(mr),n=v.useContext(ti),o=()=>My(e,t,r,n);return s?o():ai(o)};function Ey(e,t,s,r){const n={},o=r(e,{});for(const f in o)n[f]=Qs(o[f]);let{initial:i,animate:a}=e;const c=pr(e),u=kc(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let d=s?s.initial===!1:!1;d=d||i===!1;const h=d?a:i;if(h&&typeof h!="boolean"&&!dr(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const b=Dn(e,f[p]);if(b){const{transitionEnd:g,transition:x,...y}=b;for(const S in y){let j=y[S];if(Array.isArray(j)){const N=d?j.length-1:0;j=j[N]}j!==null&&(n[S]=j)}for(const S in g)n[S]=g[S]}}}return n}const li=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Fc=()=>({...li(),attrs:{}}),Ic=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ky={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ry=ks.length;function Dy(e,t,s){let r="",n=!0;for(let o=0;o<Ry;o++){const i=ks[o],a=e[i];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(i.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||s){const u=Ic(a,zn[i]);if(!c){n=!1;const d=ky[i]||i;r+=`${d}(${u}) `}s&&(t[i]=u)}}return r=r.trim(),s?r=s(t,n?"":r):n&&(r="none"),r}function ci(e,t,s){const{style:r,vars:n,transformOrigin:o}=e;let i=!1,a=!1;for(const c in t){const u=t[c];if(jt.has(c)){i=!0;continue}else if(Ml(c)){n[c]=u;continue}else{const d=Ic(u,zn[c]);c.startsWith("origin")?(a=!0,o[c]=d):r[c]=d}}if(t.transform||(i||s?r.transform=Dy(t,e.transform,s):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;r.transformOrigin=`${c} ${u} ${d}`}}function Ho(e,t,s){return typeof e=="string"?e:E.transform(t+s*e)}function _y(e,t,s){const r=Ho(t,e.x,e.width),n=Ho(s,e.y,e.height);return`${r} ${n}`}const Vy={offset:"stroke-dashoffset",array:"stroke-dasharray"},Oy={offset:"strokeDashoffset",array:"strokeDasharray"};function Ly(e,t,s=1,r=0,n=!0){e.pathLength=1;const o=n?Vy:Oy;e[o.offset]=E.transform(-r);const i=E.transform(t),a=E.transform(s);e[o.array]=`${i} ${a}`}function ui(e,{attrX:t,attrY:s,attrScale:r,originX:n,originY:o,pathLength:i,pathSpacing:a=1,pathOffset:c=0,...u},d,h){if(ci(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:b}=e;f.transform&&(b&&(p.transform=f.transform),delete f.transform),b&&(n!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=_y(b,n!==void 0?n:.5,o!==void 0?o:.5)),t!==void 0&&(f.x=t),s!==void 0&&(f.y=s),r!==void 0&&(f.scale=r),i!==void 0&&Ly(f,i,a,c,!1)}const di=e=>typeof e=="string"&&e.toLowerCase()==="svg",Fy={useVisualState:Lc({scrapeMotionValuesFromProps:Oc,createRenderState:Fc,onMount:(e,t,{renderState:s,latestValues:r})=>{I.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),I.render(()=>{ui(s,r,di(t.tagName),e.transformTemplate),_c(t,s)})}})},Iy={useVisualState:Lc({scrapeMotionValuesFromProps:oi,createRenderState:li})};function Uc(e,t,s){for(const r in t)!ne(t[r])&&!Vc(r,s)&&(e[r]=t[r])}function Uy({transformTemplate:e},t){return v.useMemo(()=>{const s=li();return ci(s,t,e),Object.assign({},s.vars,s.style)},[t])}function By(e,t){const s=e.style||{},r={};return Uc(r,s,e),Object.assign(r,Uy(e,t)),r}function qy(e,t){const s={},r=By(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const zy=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ir(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zy.has(e)}let Bc=e=>!ir(e);function Wy(e){e&&(Bc=t=>t.startsWith("on")?!ir(t):e(t))}try{Wy(require("@emotion/is-prop-valid").default)}catch{}function $y(e,t,s){const r={};for(const n in e)n==="values"&&typeof e.values=="object"||(Bc(n)||s===!0&&ir(n)||!t&&!ir(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}function Ky(e,t,s,r){const n=v.useMemo(()=>{const o=Fc();return ui(o,t,di(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Uc(o,e.style,e),n.style={...o,...n.style}}return n}function Gy(e=!1){return(s,r,n,{latestValues:o},i)=>{const c=(ii(s)?Ky:qy)(r,o,i,s),u=$y(r,typeof s=="string",e),d=s!==v.Fragment?{...u,...c,ref:n}:{},{children:h}=r,f=v.useMemo(()=>ne(h)?h.get():h,[h]);return v.createElement(s,{...d,children:f})}}function Hy(e,t){return function(r,{forwardMotionProps:n}={forwardMotionProps:!1}){const i={...ii(r)?Fy:Iy,preloadedFeatures:e,useRender:Gy(n),createVisualElement:t,Component:r};return Py(i)}}const xn={current:null},qc={current:!1};function Qy(){if(qc.current=!0,!!ni)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xn.current=e.matches;e.addListener(t),t()}else xn.current=!1}function Xy(e,t,s){for(const r in t){const n=t[r],o=s[r];if(ne(n))e.addValue(r,n);else if(ne(o))e.addValue(r,Xt(n,{owner:e}));else if(o!==n)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(n):i.hasAnimated||i.set(n)}else{const i=e.getStaticValue(r);e.addValue(r,Xt(i!==void 0?i:n,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const Qo=new WeakMap,Yy=[...Rl,re,st],Zy=e=>Yy.find(kl(e)),Xo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Jy{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:o,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Un,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ae.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,I.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=pr(s),this.isVariantNode=kc(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&ne(p)&&p.set(c[f],!1)}}mount(t){this.current=t,Qo.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),qc.current||Qy(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Qo.delete(this.current),this.projection&&this.projection.unmount(),Fe(this.notifyUpdate),Fe(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=jt.has(t),n=s.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&I.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{n(),o(),i&&i(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Yt){const s=Yt[t];if(!s)continue;const{isEnabled:r,Feature:n}=s;if(!this.features[t]&&n&&r(this.props)&&(this.features[t]=new n(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Y()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Xo.length;r++){const n=Xo[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const o="on"+n,i=t[o];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=Xy(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=Xt(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){var r;let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Al(n)||Tl(n))?n=parseFloat(n):!Zy(n)&&st.test(s)&&(n=Ul(t,s)),this.setBaseTarget(t,ne(n)?n.get():n)),ne(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=Dn(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!ne(o)?o:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Jn),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class zc extends Jy{constructor(){super(...arguments),this.KeyframeResolver=Bl}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ne(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function ev(e){return window.getComputedStyle(e)}class tv extends zc{constructor(){super(...arguments),this.type="html",this.renderInstance=Rc}readValueFromInstance(t,s){if(jt.has(s)){const r=Wn(s);return r&&r.default||0}else{const r=ev(t),n=(Ml(s)?r.getPropertyValue(s):r[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:s}){return mc(t,s)}build(t,s,r){ci(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return oi(t,s,r)}}class sv extends zc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Y}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(jt.has(s)){const r=Wn(s);return r&&r.default||0}return s=Dc.has(s)?s:ei(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return Oc(t,s,r)}build(t,s,r){ui(t,s,this.isSVGTag,r.transformTemplate)}renderInstance(t,s,r,n){_c(t,s,r,n)}mount(t){this.isSVGTag=di(t.tagName),super.mount(t)}}const rv=(e,t)=>ii(e)?new sv(t):new tv(t,{allowProjection:e!==v.Fragment}),nv=Hy({...Wp,...py,...ny,...gy},rv),iv=zf(nv);function Wc(e){const t=ai(()=>Xt(e)),{isStatic:s}=v.useContext(ri);if(s){const[,r]=v.useState(e);v.useEffect(()=>t.on("change",r),[])}return t}function $c(e,t){const s=Wc(t()),r=()=>s.set(t());return r(),Nc(()=>{const n=()=>I.preRender(r,!1,!0),o=e.map(i=>i.on("change",n));return()=>{o.forEach(i=>i()),Fe(r)}}),s}const ov=e=>e&&typeof e=="object"&&e.mix,av=e=>ov(e)?e.mix:void 0;function lv(...e){const t=!Array.isArray(e[0]),s=t?0:-1,r=e[0+s],n=e[1+s],o=e[2+s],i=e[3+s],a=Yl(n,o,{mixer:av(o[0]),...i});return t?a(r):a}function cv(e){ps.current=[],e();const t=$c(ps.current,e);return ps.current=void 0,t}function Yo(e,t,s,r){if(typeof e=="function")return cv(e);const n=typeof t=="function"?t:lv(t,s,r);return Array.isArray(e)?Zo(e,n):Zo([e],([o])=>n(o))}function Zo(e,t){const s=ai(()=>[]);return $c(e,()=>{s.length=0;const r=e.length;for(let n=0;n<r;n++)s[n]=e[n].get();return t(s)})}function uv(){var w;const{toast:e}=pl();ar();const[t,s]=v.useState(0),[r,n]=v.useState(null),[o,i]=v.useState([]),[a,c]=v.useState(null),[u,d]=v.useState(!1),h=Wc(0),f=Yo(h,[-200,0,200],[-25,0,25]),p=Yo(h,[-200,-150,0,150,200],[0,1,1,1,0]),{data:b,isLoading:g}=xs({queryKey:["projects","discover","initial"],queryFn:()=>en.getForDiscover(12)}),x=async()=>{if(!(!a||u)){d(!0);try{const P=await en.getForDiscover(12,a.lastCreatedAt,a.lastId);i(V=>[...V,...P.projects]),c(P.nextCursor)}catch(P){console.error("Failed to load more projects:",P)}finally{d(!1)}}};v.useEffect(()=>{b&&(i(b.projects),c(b.nextCursor))},[b]),v.useEffect(()=>{t>=o.length-2&&a&&!u&&x()},[t,o.length,a,u]);const y=Pt({mutationFn:P=>Rd.toggle(P),onSuccess:(P,V)=>{e({title:P.action==="added"?"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã„ã„ã­ã—ã¾ã—ãŸï¼":"ã„ã„ã­ã‚’å–ã‚Šæ¶ˆã—ã¾ã—ãŸ",description:P.action==="added"?"ç´ æ™´ã‚‰ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã­ï¼":""})},onError:P=>{e({title:"ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",description:"ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚",variant:"destructive"})}}),S=Pt({mutationFn:P=>Dd.toggle(P),onSuccess:()=>{e({title:"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’éžè¡¨ç¤ºã«ã—ã¾ã—ãŸ",description:"ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ä»Šå¾Œè¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚"})},onError:P=>{e({title:"ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",description:"ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚",variant:"destructive"})}}),j=o[t],N=P=>{j&&(n(P),P==="left"?S.mutate(j.id):P==="right"&&y.mutate(j.id),setTimeout(()=>{s(V=>{const X=V+1;return X>=o.length&&!a?(e({title:"ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¦‹ã¾ã—ãŸï¼",description:"æ–°ã—ã„ãƒ“ã‚¸ãƒ§ãƒ³ã‚’ç™ºè¦‹ã™ã‚‹ãŸã‚ã«ã€å¾Œã§ã¾ãŸãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚"}),0):X}),n(null),h.set(0)},300))},A=(P,V)=>{V.offset.x>100?N("right"):V.offset.x<-100?N("left"):h.set(0)},k=(P=[])=>({watch:P.filter(V=>V.type==="watch").length,raiseHand:P.filter(V=>V.type==="raise_hand").length,commit:P.filter(V=>V.type==="commit").length});if(g)return l.jsx("div",{className:"flex items-center justify-center h-[50vh]",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"ç´ æ™´ã‚‰ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æŽ¢ã—ã¦ã„ã¾ã™..."})]})});if(!o.length&&!g)return l.jsx("div",{className:"max-w-md mx-auto px-0 py-6",children:l.jsx(q,{children:l.jsxs(H,{className:"py-10 text-center",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"ç™ºè¦‹ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚Šã¾ã›ã‚“"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"ã‚ãªãŸã®ãƒ“ã‚¸ãƒ§ãƒ³ã‚’ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¨å…±æœ‰ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼"}),l.jsx(G,{href:"/projects/new",children:l.jsx(B,{children:"æœ€åˆã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ"})})]})})});if(!j)return null;const R=k(j.participations);return l.jsxs("div",{className:"max-w-md mx-auto px-0 py-4 md:py-6 flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[l.jsx(G,{href:"/",children:l.jsx(B,{variant:"ghost",size:"icon","data-testid":"button-back",children:l.jsx(Bd,{className:"w-4 h-4"})})}),l.jsxs("div",{className:"flex-1 text-center",children:[l.jsx("h1",{className:"text-xl md:text-2xl font-semibold",children:"ç™ºè¦‹"}),l.jsxs("p",{className:"text-xs md:text-sm text-muted-foreground",children:[t+1," of ",o.length,a?"+":"",u&&" (èª­ã¿è¾¼ã¿ä¸­...)"]})]})]}),l.jsx("div",{className:"flex-1 flex items-center justify-center relative overflow-hidden",children:l.jsx(iv.div,{drag:"x",dragConstraints:{left:0,right:0},style:{x:h,rotate:f,opacity:p},onDragEnd:A,animate:r?{x:r==="left"?-300:300,opacity:0}:{x:0,opacity:1},transition:{duration:.3},className:"w-full max-w-sm cursor-grab active:cursor-grabbing","data-testid":"project-card",children:l.jsxs(q,{className:"w-full min-h-[380px] shadow",children:[l.jsxs(le,{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsxs(js,{children:[l.jsx(lr,{src:j.creator.profileImageUrl||void 0}),l.jsx(Ss,{children:((w=j.creator.firstName)==null?void 0:w[0])||"U"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:j.creator.firstName||"Anonymous Creator"}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(Wa,{className:"w-3 h-3"}),(()=>{try{return Rn(new Date(j.createdAt||Date.now()),{addSuffix:!0})}catch{return"just now"}})()]})]})]}),l.jsx(ce,{className:"text-lg md:text-xl",children:j.title})]}),l.jsxs(H,{className:"space-y-4",children:[l.jsx(cr,{className:"text-base leading-relaxed",children:j.description}),l.jsxs("div",{className:"flex gap-4 pt-3 border-t text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(Kt,{className:"w-4 h-4 text-blue-500"}),l.jsx("span",{children:R.watch})]}),l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(bs,{className:"w-4 h-4 text-orange-500"}),l.jsx("span",{children:R.raiseHand})]}),l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(Je,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{children:R.commit})]})]})]})]})})}),l.jsxs("div",{className:"flex justify-center gap-4 mt-4 md:mt-6",children:[l.jsx(B,{variant:"outline",size:"icon",className:"rounded-full w-14 h-14",onClick:()=>N("left"),disabled:S.isPending,"data-testid":"button-hide",children:l.jsx(Mn,{className:"w-6 h-6 text-red-500"})}),l.jsx(G,{href:`/projects/${j.id}`,children:l.jsx(B,{variant:"outline",size:"icon",className:"rounded-full w-12 h-12","data-testid":"button-view-project",children:l.jsx(Kt,{className:"w-5 h-5"})})}),l.jsx(B,{size:"icon",className:"rounded-full w-14 h-14 bg-red-500 hover:bg-red-600",onClick:()=>N("right"),disabled:y.isPending,"data-testid":"button-like",children:l.jsx($a,{className:"w-6 h-6 text-white"})})]}),l.jsx("div",{className:"text-center mt-4 md:mt-6 text-xs md:text-sm text-muted-foreground",children:l.jsx("p",{children:"å·¦ã«ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚¹ã‚­ãƒƒãƒ— â€¢ â¤ï¸ã‚¿ãƒƒãƒ—ã§è¡¨ç¤º â€¢ å³ã«ã‚¹ãƒ¯ã‚¤ãƒ—ã§ç¶šã‘ã‚‹"})})]})}const dv=ur("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function bn({className:e,variant:t,...s}){return l.jsx("div",{className:z(dv({variant:t}),e),...s})}const hv=cu,fv=uu,mv=lu,Kc=v.forwardRef(({className:e,...t},s)=>l.jsx(ua,{ref:s,className:z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Kc.displayName=ua.displayName;const Gc=v.forwardRef(({className:e,children:t,...s},r)=>l.jsxs(mv,{children:[l.jsx(Kc,{}),l.jsxs(da,{ref:r,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,l.jsxs(au,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Mn,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gc.displayName=da.displayName;const Hc=({className:e,...t})=>l.jsx("div",{className:z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Hc.displayName="DialogHeader";const Qc=v.forwardRef(({className:e,...t},s)=>l.jsx(ha,{ref:s,className:z("text-lg font-semibold leading-none tracking-tight",e),...t}));Qc.displayName=ha.displayName;const Xc=v.forwardRef(({className:e,...t},s)=>l.jsx(fa,{ref:s,className:z("text-sm text-muted-foreground",e),...t}));Xc.displayName=fa.displayName;var pv="Label",Yc=v.forwardRef((e,t)=>l.jsx(wt.label,{...e,ref:t,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Yc.displayName=pv;var Zc=Yc;const gv=ur("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=v.forwardRef(({className:e,...t},s)=>l.jsx(Zc,{ref:s,className:z(gv(),e),...t}));Re.displayName=Zc.displayName;function yv(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var hi="Switch",[vv,Lv]=ca(hi),[xv,bv]=vv(hi),Jc=v.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:n,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=v.useState(null),b=du(t,j=>p(j)),g=v.useRef(!1),x=f?d||!!f.closest("form"):!0,[y=!1,S]=hu({prop:n,defaultProp:o,onChange:u});return l.jsxs(xv,{scope:s,checked:y,disabled:a,children:[l.jsx(wt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":su(y),"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:b,onClick:fu(e.onClick,j=>{S(N=>!N),x&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),x&&l.jsx(wv,{control:f,bubbles:!g.current,name:r,value:c,checked:y,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});Jc.displayName=hi;var eu="SwitchThumb",tu=v.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,n=bv(eu,s);return l.jsx(wt.span,{"data-state":su(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})});tu.displayName=eu;var wv=e=>{const{control:t,checked:s,bubbles:r=!0,...n}=e,o=v.useRef(null),i=yv(s),a=mu(t);return v.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==s&&h){const f=new Event("click",{bubbles:r});h.call(c,s),c.dispatchEvent(f)}},[i,s,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function su(e){return e?"checked":"unchecked"}var ru=Jc,jv=tu;const nu=v.forwardRef(({className:e,...t},s)=>l.jsx(ru,{className:z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:l.jsx(jv,{className:z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));nu.displayName=ru.displayName;function ls({className:e,...t}){return l.jsx("div",{className:z("animate-pulse rounded-md bg-muted",e),...t})}const Sv={async sendInterest(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("user_interests").insert({user_id:t.id,target_user_id:e,interest_type:"interested"}).select().single();if(r)throw r;return s},async removeInterest(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:s}=await C.from("user_interests").delete().eq("user_id",t.id).eq("target_user_id",e);if(s)throw s},async getReceivedInterests(){const{data:{user:e}}=await C.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:s}=await C.from("user_interests").select(`
        *,
        sender:users!user_interests_user_id_fkey (
          id,
          first_name,
          last_name,
          display_name,
          profile_image_url,
          avatar_url
        )
      `).eq("target_user_id",e.id).eq("interest_type","interested").order("created_at",{ascending:!1});if(s)throw s;return t||[]},async getSentInterests(){const{data:{user:e}}=await C.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:s}=await C.from("user_interests").select(`
        *,
        target:users!user_interests_target_user_id_fkey (
          id,
          first_name,
          last_name,
          display_name,
          profile_image_url,
          avatar_url
        )
      `).eq("user_id",e.id).eq("interest_type","interested").order("created_at",{ascending:!1});if(s)throw s;return t||[]},async checkInterestStatus(e){const{data:{user:t}}=await C.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:r}=await C.from("user_interests").select("*").eq("user_id",t.id).eq("target_user_id",e).eq("interest_type","interested").single();if(r&&r.code!=="PGRST116")throw r;return!!s}};function Pv({projectId:e,isOwner:t}){const{toast:s}=pl(),r=ar(),[n,o]=v.useState(""),[i,a]=v.useState({matchAll:!1,minOverlap:1,limit:20,offset:0,university:"",skillFilter:""}),[c,u]=v.useState(!1),{data:d=[],isLoading:h}=xs({queryKey:["project-required-skills",e],queryFn:()=>Fs.getProjectSkills(e)}),{data:f=[],isLoading:p,refetch:b}=xs({queryKey:["collaborator-candidates",e,i],queryFn:()=>Fs.searchCandidates(e,i.matchAll,i.minOverlap,i.limit,i.offset),enabled:c&&d.length>0}),g=Pt({mutationFn:w=>Fs.upsertSkill(e,w,1),onSuccess:()=>{r.invalidateQueries({queryKey:["project-required-skills",e]}),o(""),s({title:"ã‚¹ã‚­ãƒ«ã‚’è¿½åŠ ã—ã¾ã—ãŸ",description:"å”åŠ›è€…æ¤œç´¢ã§ã“ã®ã‚¹ã‚­ãƒ«ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚"})},onError:()=>{s({title:"ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",description:"ã‚¹ã‚­ãƒ«ã®è¿½åŠ ã«å¤±æ•—ã—ã¾ã—ãŸã€‚",variant:"destructive"})}}),x=Pt({mutationFn:w=>Fs.removeSkill(e,w),onSuccess:()=>{r.invalidateQueries({queryKey:["project-required-skills",e]}),s({title:"ã‚¹ã‚­ãƒ«ã‚’å‰Šé™¤ã—ã¾ã—ãŸ"})},onError:()=>{s({title:"ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",description:"ã‚¹ã‚­ãƒ«ã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸã€‚",variant:"destructive"})}}),y=Pt({mutationFn:({recipientId:w,content:P})=>qa.sendMessage(w,P),onSuccess:()=>{s({title:"æ‹›å¾…ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¾ã—ãŸ",description:"ç›¸æ‰‹ã«é€šçŸ¥ãŒå±Šãã¾ã™ã€‚"})},onError:()=>{s({title:"ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",description:"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚",variant:"destructive"})}}),S=Pt({mutationFn:w=>Sv.sendInterest(w),onSuccess:()=>{s({title:"æ°—ã«ãªã‚‹ã‚’é€ä¿¡ã—ã¾ã—ãŸ",description:"ç›¸æ‰‹ã«é€šçŸ¥ãŒå±Šãã¾ã™ã€‚"})},onError:()=>{s({title:"ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",description:"æ°—ã«ãªã‚‹ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚",variant:"destructive"})}}),j=()=>{n.trim()&&!d.some(w=>w.skill===n.trim())&&g.mutate(n.trim())},N=w=>{x.mutate(w)},A=w=>{const P=`ã“ã‚“ã«ã¡ã¯ï¼ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€Œ${e}ã€ã§ã‚ãªãŸã®ã‚¹ã‚­ãƒ«ã‚’å¿…è¦ã¨ã—ã¦ã„ã¾ã™ã€‚ãœã²ä¸€ç·’ã«å–ã‚Šçµ„ã¿ã¾ã›ã‚“ã‹ï¼Ÿè©³ç´°ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒšãƒ¼ã‚¸ã‚’ã”è¦§ãã ã•ã„ã€‚`;y.mutate({recipientId:w.user_id,content:P})},k=w=>{S.mutate(w.user_id)},R=()=>{if(d.length===0){s({title:"å¿…è¦ã‚¹ã‚­ãƒ«ã‚’è¿½åŠ ã—ã¦ãã ã•ã„",description:"å”åŠ›è€…æ¤œç´¢ã«ã¯å°‘ãªãã¨ã‚‚1ã¤ã®ã‚¹ã‚­ãƒ«ãŒå¿…è¦ã§ã™ã€‚",variant:"destructive"});return}u(!0),b()};return l.jsxs(q,{children:[l.jsxs(le,{children:[l.jsxs(ce,{className:"flex items-center gap-2",children:[l.jsx(Gt,{className:"w-5 h-5"}),"å”åŠ›è€…æ¤œç´¢"]}),l.jsx(cr,{children:"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¿…è¦ãªã‚¹ã‚­ãƒ«ã‚’è¨­å®šã—ã¦ã€é©åˆ‡ãªå”åŠ›è€…ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†"})]}),l.jsxs(H,{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Re,{className:"text-sm font-medium",children:"å¿…è¦ã‚¹ã‚­ãƒ«"}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-3",children:h?Array.from({length:3}).map((w,P)=>l.jsx(ls,{className:"w-20 h-6 rounded-full"},P)):d.map(w=>l.jsxs(bn,{variant:"secondary",className:"flex items-center gap-1",children:[w.skill,t&&l.jsx(Mn,{className:"w-3 h-3 cursor-pointer hover:text-destructive",onClick:()=>N(w.skill)})]},w.skill))}),t&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ct,{placeholder:"ã‚¹ã‚­ãƒ«ã‚’è¿½åŠ  (ä¾‹: React, Python, UI/UX)",value:n,onChange:w=>o(w.target.value),onKeyPress:w=>w.key==="Enter"&&j(),className:"flex-1"}),l.jsx(B,{onClick:j,disabled:!n.trim()||g.isPending,size:"sm",children:l.jsx(ws,{className:"w-4 h-4"})})]})]}),d.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(Zs,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Re,{className:"text-sm font-medium",children:"æ¤œç´¢è¨­å®š"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gd,{className:"w-4 h-4"}),l.jsx(nu,{checked:i.matchAll,onCheckedChange:w=>a(P=>({...P,matchAll:w}))}),l.jsx(Re,{className:"text-sm",children:"ã™ã¹ã¦ã®ã‚¹ã‚­ãƒ«å¿…é ˆ"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Re,{className:"text-xs",children:"æœ€å°ä¸€è‡´æ•°"}),l.jsx(ct,{type:"number",min:"1",max:d.length,value:i.minOverlap,onChange:w=>a(P=>({...P,minOverlap:parseInt(w.target.value)||1})),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(Re,{className:"text-xs",children:"çµæžœä»¶æ•°"}),l.jsx(ct,{type:"number",min:"5",max:"50",value:i.limit,onChange:w=>a(P=>({...P,limit:parseInt(w.target.value)||20})),className:"mt-1"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsxs(Re,{className:"text-xs flex items-center gap-1",children:[l.jsx(Xd,{className:"w-3 h-3"}),"å¤§å­¦ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼"]}),l.jsx(ct,{placeholder:"ä¾‹: é’å±±å­¦é™¢å¤§å­¦",value:i.university,onChange:w=>a(P=>({...P,university:w.target.value})),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsxs(Re,{className:"text-xs flex items-center gap-1",children:[l.jsx(zd,{className:"w-3 h-3"}),"ã‚¹ã‚­ãƒ«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰"]}),l.jsx(ct,{placeholder:"è¿½åŠ æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰",value:i.skillFilter,onChange:w=>a(P=>({...P,skillFilter:w.target.value})),className:"mt-1"})]})]}),l.jsxs(B,{onClick:R,className:"w-full",disabled:p,children:[l.jsx(Ga,{className:"w-4 h-4 mr-2"}),p?"æ¤œç´¢ä¸­...":"å”åŠ›è€…ã‚’æ¤œç´¢"]})]}),c&&l.jsxs(l.Fragment,{children:[l.jsx(Zs,{}),l.jsxs("div",{children:[l.jsxs(Re,{className:"text-sm font-medium",children:["æ¤œç´¢çµæžœ (",f.length," å)"]}),l.jsx("div",{className:"space-y-3 mt-3",children:p?Array.from({length:3}).map((w,P)=>l.jsx(q,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ls,{className:"w-10 h-10 rounded-full"}),l.jsxs("div",{className:"flex-1",children:[l.jsx(ls,{className:"w-24 h-4 mb-1"}),l.jsx(ls,{className:"w-32 h-3"})]}),l.jsx(ls,{className:"w-16 h-8"})]})},P)):f.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Gt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹å”åŠ›è€…ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ"}),l.jsx("p",{className:"text-sm",children:"æ¤œç´¢æ¡ä»¶ã‚’èª¿æ•´ã—ã¦ã¿ã¦ãã ã•ã„"})]}):f.map(w=>{var P;return l.jsx(q,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(js,{children:[l.jsx(lr,{src:w.user.profile_image_url||w.user.avatar_url}),l.jsx(Ss,{children:((P=w.user.first_name)==null?void 0:P[0])||"U"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:w.user.display_name||w.user.first_name||"Anonymous"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[w.overlap_count," / ",d.length," ã‚¹ã‚­ãƒ«ä¸€è‡´ (",w.overlap_percentage,"%)"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(bn,{variant:"outline",children:[l.jsx(Zd,{className:"w-3 h-3 mr-1"}),w.overlap_percentage,"%"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsxs(B,{size:"sm",variant:"outline",onClick:()=>k(w),disabled:S.isPending,children:[l.jsx($a,{className:"w-4 h-4 mr-1"}),"æ°—ã«ãªã‚‹"]}),t&&l.jsxs(B,{size:"sm",onClick:()=>A(w),disabled:y.isPending,children:[l.jsx(Qd,{className:"w-4 h-4 mr-1"}),"æ‹›å¾…"]})]})]})]})},w.user_id)})})]})]})]})]})]})}function Cv(){const{user:e}=Nn(),[t,s]=v.useState(null),{data:r=[],isLoading:n,error:o}=xs({queryKey:["/api/projects"],select:i=>{if(console.log("Projects data in select:",i),console.log("Current user in mine.tsx:",e),!i||!Array.isArray(i))return console.log("No valid data array found"),[];const a=i.filter(c=>{const u=c.creatorId||c.creator_id,d=e==null?void 0:e.id;return console.log("Comparing project creator:",u,"with user:",d),u===d});return console.log("Filtered user projects:",a),a}});return console.log("Projects loading:",n),console.log("Projects data:",r),console.log("Projects error:",o),n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èª­ã¿è¾¼ã¿ä¸­..."})]})}):l.jsxs("div",{className:"px-0 md:px-0 py-4 md:py-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6 px-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl md:text-2xl font-semibold",children:"ãƒžã‚¤ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"ã‚ãªãŸã®ãƒ“ã‚¸ãƒ§ãƒ³ã‚’ç¾å®Ÿã«å¤‰ãˆã‚‹ãŸã‚ã«ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"})]}),l.jsx(G,{href:"/projects/new",children:l.jsxs(B,{"data-testid":"button-create-project",children:[l.jsx(ws,{className:"w-4 h-4 mr-2"}),"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ"]})})]}),r.length===0?l.jsx(q,{className:"text-center",children:l.jsx(H,{className:"py-8 md:py-12",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"ã¾ã ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚Šã¾ã›ã‚“"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"ã‚ãªãŸã®ãƒ“ã‚¸ãƒ§ãƒ³ã‚’ç¾å®Ÿã«ã—ã¾ã›ã‚“ã‹ï¼Ÿæœ€åˆã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚’ç¯‰ã„ã¦ã„ãã¾ã—ã‚‡ã†ã€‚"}),l.jsx(G,{href:"/projects/new",children:l.jsxs(B,{"data-testid":"button-create-first-project",children:[l.jsx(ws,{className:"w-4 h-4 mr-2"}),"æœ€åˆã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ"]})})]})})}):l.jsx("div",{className:"grid gap-4 md:gap-6 md:grid-cols-2",children:r.map(i=>{var a,c,u;return l.jsxs(q,{className:"hover-elevate",children:[l.jsxs(le,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(bn,{variant:i.isActive?"default":"secondary",children:i.isActive?"ã‚¢ã‚¯ãƒ†ã‚£ãƒ–":"éžã‚¢ã‚¯ãƒ†ã‚£ãƒ–"}),l.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[l.jsx(Wa,{className:"w-3 h-3"}),(()=>{try{return Rn(new Date(i.createdAt||Date.now()),{addSuffix:!0})}catch{return""}})()]})]}),l.jsx(ce,{className:"line-clamp-2",children:l.jsx(G,{href:`/projects/${i.id}`,className:"hover:text-primary transition-colors","data-testid":`link-project-${i.id}`,children:i.title})}),l.jsx(cr,{className:"line-clamp-3",children:i.description})]}),l.jsxs(H,{children:[l.jsxs("div",{className:"flex gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Kt,{className:"w-4 h-4 text-blue-500"}),l.jsx("span",{children:((a=i.participationCounts)==null?void 0:a.watch)||0})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4 text-orange-500"}),l.jsx("span",{children:((c=i.participationCounts)==null?void 0:c.raiseHand)||0})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Je,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{children:((u=i.participationCounts)==null?void 0:u.commit)||0})]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t space-y-2",children:[l.jsx(G,{href:`/projects/${i.id}`,children:l.jsx(B,{variant:"outline",className:"w-full","data-testid":`button-view-project-${i.id}`,children:"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¡¨ç¤º"})}),l.jsxs(hv,{open:t===i.id,onOpenChange:d=>s(d?i.id:null),children:[l.jsx(fv,{asChild:!0,children:l.jsxs(B,{variant:"secondary",className:"w-full","data-testid":`button-find-collaborators-${i.id}`,children:[l.jsx(Gt,{className:"w-4 h-4 mr-2"}),"å”åŠ›è€…ã‚’æŽ¢ã™"]})}),l.jsxs(Gc,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[l.jsxs(Hc,{children:[l.jsxs(Qc,{children:["å”åŠ›è€…æ¤œç´¢ - ",i.title]}),l.jsx(Xc,{children:"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æœ€é©ãªå”åŠ›è€…ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†"})]}),l.jsx(Pv,{projectId:i.id,isOwner:!0})]})]})]})]})]},i.id)})})]})}function Tv(){const[e,t]=v.useState({});return v.useEffect(()=>{(async()=>{console.log("ðŸ” Debug: Starting auth check...");try{const{data:{session:r},error:n}=await C.auth.getSession();console.log("ðŸ“‹ Session check:",{session:!!r,error:n});const{data:{user:o},error:i}=await C.auth.getUser();console.log("ðŸ‘¤ User check:",{user:!!o,error:i});const{data:a,error:c}=await C.from("projects").select("*").limit(1);console.log("ðŸ—ƒï¸ Database check:",{projects:a,error:c}),t({session:!!r,sessionError:n,user:!!o,userError:i,projects:(a==null?void 0:a.length)||0,projectsError:c,timestamp:new Date().toISOString()})}catch(r){console.error("ðŸ’¥ Debug check failed:",r),t({error:r.message,timestamp:new Date().toISOString()})}})()},[]),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"ðŸ” ãƒ‡ãƒãƒƒã‚°æƒ…å ±"}),l.jsx("div",{className:"bg-gray-100 p-4 rounded-lg",children:l.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify(e,null,2)})}),l.jsx("div",{className:"mt-4",children:l.jsx("p",{className:"text-sm text-gray-600",children:"Consoleï¼ˆF12ï¼‰ã‚‚ç¢ºèªã—ã¦ãã ã•ã„ã€‚"})})]})}function Av(){return l.jsx(Bh,{children:l.jsxs($u,{children:[l.jsx(ss,{path:"/",component:Lf}),l.jsx(ss,{path:"/discover",component:uv}),l.jsx(ss,{path:"/projects/mine",component:Cv}),l.jsx(ss,{path:"/debug",component:Tv}),l.jsx(ss,{path:"*",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"ãƒšãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"}),l.jsx(G,{href:"/",className:"text-blue-600 hover:underline",children:"ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹"})]})})]})})}function Nv(){const{user:e,isLoading:t}=Nn();return v.useEffect(()=>{(()=>{const n=window.location;if(n.search[1]==="/"){const o=n.search.slice(1).split("&").map(function(i){return i.replace(/~and~/g,"&")}).join("?");window.history.replaceState(null,null,n.pathname.slice(0,-1)+o+n.hash)}})(),(()=>{const n=window.location.hash,o=window.location.search;if(console.log("ðŸ” Checking for auth callback:",{hash:n,search:o}),n&&(n.includes("access_token")||n.includes("error"))){console.log("ðŸ” OAuth callback detected in hash:",n);const i=new URLSearchParams(n.substring(1)),a=new URL(window.location.href);a.hash="",i.forEach((c,u)=>{a.searchParams.set(u,c)}),window.history.replaceState({},"",a.toString()),console.log("ðŸ” Converted hash to query params:",a.toString())}else o&&(o.includes("access_token")||o.includes("error"))&&console.log("ðŸ” OAuth callback detected in search params:",o)})()},[]),console.log("Current user:",e),console.log("Is user logged in:",!!e),t?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{children:"èª­ã¿è¾¼ã¿ä¸­..."})]})}):l.jsx(md,{client:Ld,children:l.jsx(Ta,{hook:Na,children:e?l.jsx(Av,{}):l.jsx(zh,{})})})}ma(document.getElementById("root")).render(l.jsx(Nv,{}));
